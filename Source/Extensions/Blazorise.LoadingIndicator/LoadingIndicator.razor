@namespace Blazorise.LoadingIndicator
@inherits BaseComponent

@if (Loaded)
{
    <div id="@ElementId" class="@ClassNames" style="@StyleNames" @attributes="@Attributes">         
        <CascadingValue Value="@this" IsFixed>
            @ChildContent
        </CascadingValue>
        @if (Busy)
        {
            <div class="@screenClasses.Class" style="@screenStyles.Styles" />
            <div class="@indicatorClasses.Class" style="@indicatorStyles.Styles">
                @if (IndicatorTemplate != null)
                {
                    <CascadingValue Value="@this" IsFixed>
                        @IndicatorTemplate
                    </CascadingValue>
                }
                else
                {
                    // Using markup string because of Blazor issue https://github.com/dotnet/aspnetcore/issues/15311
                    @((MarkupString)SpinnerSVG)
                }
            </div>
        }
    </div>
}
else
{
    @if (LoadingTemplate != null)
    {
        <CascadingValue Value="@this" IsFixed>
            @LoadingTemplate
        </CascadingValue>
    }
    else
    {
        <p>Loading...</p>
    }
}