/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/roosterjs@8.60.0/dist/rooster.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var roosterjs;(()=>{var e={"./node_modules/color-convert/conversions.js":
/*!***************************************************!*\
  !*** ./node_modules/color-convert/conversions.js ***!
  \***************************************************/(e,t,r)=>{var o=r(/*! color-name */"./node_modules/color-name/index.js"),n={};for(var i in o)o.hasOwnProperty(i)&&(n[o[i]]=i);var s=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in s)if(s.hasOwnProperty(a)){if(!("channels"in s[a]))throw new Error("missing channels property: "+a);if(!("labels"in s[a]))throw new Error("missing channel labels property: "+a);if(s[a].labels.length!==s[a].channels)throw new Error("channel and label counts mismatch: "+a);var l=s[a].channels,d=s[a].labels;delete s[a].channels,delete s[a].labels,Object.defineProperty(s[a],"channels",{value:l}),Object.defineProperty(s[a],"labels",{value:d})}s.rgb.hsl=function(e){var t,r,o=e[0]/255,n=e[1]/255,i=e[2]/255,s=Math.min(o,n,i),a=Math.max(o,n,i),l=a-s;return a===s?t=0:o===a?t=(n-i)/l:n===a?t=2+(i-o)/l:i===a&&(t=4+(o-n)/l),(t=Math.min(60*t,360))<0&&(t+=360),r=(s+a)/2,[t,100*(a===s?0:r<=.5?l/(a+s):l/(2-a-s)),100*r]},s.rgb.hsv=function(e){var t,r,o,n,i,s=e[0]/255,a=e[1]/255,l=e[2]/255,d=Math.max(s,a,l),u=d-Math.min(s,a,l),c=function(e){return(d-e)/6/u+.5};return 0===u?n=i=0:(i=u/d,t=c(s),r=c(a),o=c(l),s===d?n=o-r:a===d?n=1/3+t-o:l===d&&(n=2/3+r-t),n<0?n+=1:n>1&&(n-=1)),[360*n,100*i,100*d]},s.rgb.hwb=function(e){var t=e[0],r=e[1],o=e[2];return[s.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,o))),100*(o=1-1/255*Math.max(t,Math.max(r,o)))]},s.rgb.cmyk=function(e){var t,r=e[0]/255,o=e[1]/255,n=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-o,1-n)))/(1-t)||0),100*((1-o-t)/(1-t)||0),100*((1-n-t)/(1-t)||0),100*t]},s.rgb.keyword=function(e){var t=n[e];if(t)return t;var r,i,s,a=1/0;for(var l in o)if(o.hasOwnProperty(l)){var d=o[l],u=(i=e,s=d,Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)+Math.pow(i[2]-s[2],2));u<a&&(a=u,r=l)}return r},s.keyword.rgb=function(e){return o[e]},s.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,o=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92)),100*(.2126*t+.7152*r+.0722*o),100*(.0193*t+.1192*r+.9505*o)]},s.rgb.lab=function(e){var t=s.rgb.xyz(e),r=t[0],o=t[1],n=t[2];return o/=100,n/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116)-16,500*(r-o),200*(o-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},s.hsl.rgb=function(e){var t,r,o,n,i,s=e[0]/360,a=e[1]/100,l=e[2]/100;if(0===a)return[i=255*l,i,i];t=2*l-(r=l<.5?l*(1+a):l+a-l*a),n=[0,0,0];for(var d=0;d<3;d++)(o=s+1/3*-(d-1))<0&&o++,o>1&&o--,i=6*o<1?t+6*(r-t)*o:2*o<1?r:3*o<2?t+(r-t)*(2/3-o)*6:t,n[d]=255*i;return n},s.hsl.hsv=function(e){var t=e[0],r=e[1]/100,o=e[2]/100,n=r,i=Math.max(o,.01);return r*=(o*=2)<=1?o:2-o,n*=i<=1?i:2-i,[t,100*(0===o?2*n/(i+n):2*r/(o+r)),100*((o+r)/2)]},s.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,o=e[2]/100,n=Math.floor(t)%6,i=t-Math.floor(t),s=255*o*(1-r),a=255*o*(1-r*i),l=255*o*(1-r*(1-i));switch(o*=255,n){case 0:return[o,l,s];case 1:return[a,o,s];case 2:return[s,o,l];case 3:return[s,a,o];case 4:return[l,s,o];case 5:return[o,s,a]}},s.hsv.hsl=function(e){var t,r,o,n=e[0],i=e[1]/100,s=e[2]/100,a=Math.max(s,.01);return o=(2-i)*s,r=i*a,[n,100*(r=(r/=(t=(2-i)*a)<=1?t:2-t)||0),100*(o/=2)]},s.hwb.rgb=function(e){var t,r,o,n,i,s,a,l=e[0]/360,d=e[1]/100,u=e[2]/100,c=d+u;switch(c>1&&(d/=c,u/=c),o=6*l-(t=Math.floor(6*l)),0!=(1&t)&&(o=1-o),n=d+o*((r=1-u)-d),t){default:case 6:case 0:i=r,s=n,a=d;break;case 1:i=n,s=r,a=d;break;case 2:i=d,s=r,a=n;break;case 3:i=d,s=n,a=r;break;case 4:i=n,s=d,a=r;break;case 5:i=r,s=d,a=n}return[255*i,255*s,255*a]},s.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,o=e[2]/100,n=e[3]/100;return[255*(1-Math.min(1,t*(1-n)+n)),255*(1-Math.min(1,r*(1-n)+n)),255*(1-Math.min(1,o*(1-n)+n))]},s.xyz.rgb=function(e){var t,r,o,n=e[0]/100,i=e[1]/100,s=e[2]/100;return r=-.9689*n+1.8758*i+.0415*s,o=.0557*n+-.204*i+1.057*s,t=(t=3.2406*n+-1.5372*i+-.4986*s)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:12.92*o,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(o=Math.min(Math.max(0,o),1))]},s.xyz.lab=function(e){var t=e[0],r=e[1],o=e[2];return r/=100,o/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},s.lab.xyz=function(e){var t,r,o,n=e[0];t=e[1]/500+(r=(n+16)/116),o=r-e[2]/200;var i=Math.pow(r,3),s=Math.pow(t,3),a=Math.pow(o,3);return r=i>.008856?i:(r-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,o=a>.008856?a:(o-16/116)/7.787,[t*=95.047,r*=100,o*=108.883]},s.lab.lch=function(e){var t,r=e[0],o=e[1],n=e[2];return(t=360*Math.atan2(n,o)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(o*o+n*n),t]},s.lch.lab=function(e){var t,r=e[0],o=e[1];return t=e[2]/360*2*Math.PI,[r,o*Math.cos(t),o*Math.sin(t)]},s.rgb.ansi16=function(e){var t=e[0],r=e[1],o=e[2],n=1 in arguments?arguments[1]:s.rgb.hsv(e)[2];if(0===(n=Math.round(n/50)))return 30;var i=30+(Math.round(o/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===n&&(i+=60),i},s.hsv.ansi16=function(e){return s.rgb.ansi16(s.hsv.rgb(e),e[2])},s.rgb.ansi256=function(e){var t=e[0],r=e[1],o=e[2];return t===r&&r===o?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(o/255*5)},s.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},s.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},s.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},s.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map((function(e){return e+e})).join(""));var o=parseInt(r,16);return[o>>16&255,o>>8&255,255&o]},s.rgb.hcg=function(e){var t,r=e[0]/255,o=e[1]/255,n=e[2]/255,i=Math.max(Math.max(r,o),n),s=Math.min(Math.min(r,o),n),a=i-s;return t=a<=0?0:i===r?(o-n)/a%6:i===o?2+(n-r)/a:4+(r-o)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?s/(1-a):0)]},s.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,o=1,n=0;return(o=r<.5?2*t*r:2*t*(1-r))<1&&(n=(r-.5*o)/(1-o)),[e[0],100*o,100*n]},s.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,o=t*r,n=0;return o<1&&(n=(r-o)/(1-o)),[e[0],100*o,100*n]},s.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,o=e[2]/100;if(0===r)return[255*o,255*o,255*o];var n,i=[0,0,0],s=t%1*6,a=s%1,l=1-a;switch(Math.floor(s)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return n=(1-r)*o,[255*(r*i[0]+n),255*(r*i[1]+n),255*(r*i[2]+n)]},s.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),o=0;return r>0&&(o=t/r),[e[0],100*o,100*r]},s.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,o=0;return r>0&&r<.5?o=t/(2*r):r>=.5&&r<1&&(o=t/(2*(1-r))),[e[0],100*o,100*r]},s.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},s.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,o=r-t,n=0;return o<1&&(n=(r-o)/(1-o)),[e[0],100*o,100*n]},s.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},s.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},s.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},s.gray.hsl=s.gray.hsv=function(e){return[0,0,e[0]]},s.gray.hwb=function(e){return[0,100,e[0]]},s.gray.cmyk=function(e){return[0,0,0,e[0]]},s.gray.lab=function(e){return[e[0],0,0]},s.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},s.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},"./node_modules/color-convert/index.js":
/*!*********************************************!*\
  !*** ./node_modules/color-convert/index.js ***!
  \*********************************************/(e,t,r)=>{var o=r(/*! ./conversions */"./node_modules/color-convert/conversions.js"),n=r(/*! ./route */"./node_modules/color-convert/route.js"),i={};Object.keys(o).forEach((function(e){i[e]={},Object.defineProperty(i[e],"channels",{value:o[e].channels}),Object.defineProperty(i[e],"labels",{value:o[e].labels});var t=n(e);Object.keys(t).forEach((function(r){var o=t[r];i[e][r]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var o=r.length,n=0;n<o;n++)r[n]=Math.round(r[n]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(o),i[e][r].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(o)}))})),e.exports=i},"./node_modules/color-convert/route.js":
/*!*********************************************!*\
  !*** ./node_modules/color-convert/route.js ***!
  \*********************************************/(e,t,r)=>{var o=r(/*! ./conversions */"./node_modules/color-convert/conversions.js");function n(e){var t=function(){for(var e={},t=Object.keys(o),r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(o[n]),s=i.length,a=0;a<s;a++){var l=i[a],d=t[l];-1===d.distance&&(d.distance=t[n].distance+1,d.parent=n,r.unshift(l))}return t}function i(e,t){return function(r){return t(e(r))}}function s(e,t){for(var r=[t[e].parent,e],n=o[t[e].parent][e],s=t[e].parent;t[s].parent;)r.unshift(t[s].parent),n=i(o[t[s].parent][s],n),s=t[s].parent;return n.conversion=r,n}e.exports=function(e){for(var t=n(e),r={},o=Object.keys(t),i=o.length,a=0;a<i;a++){var l=o[a];null!==t[l].parent&&(r[l]=s(l,t))}return r}},"./node_modules/color-name/index.js":
/*!******************************************!*\
  !*** ./node_modules/color-name/index.js ***!
  \******************************************/e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},"./node_modules/color-string/index.js":
/*!********************************************!*\
  !*** ./node_modules/color-string/index.js ***!
  \********************************************/(e,t,r)=>{var o=r(/*! color-name */"./node_modules/color-name/index.js"),n=r(/*! simple-swizzle */"./node_modules/simple-swizzle/index.js"),i={};for(var s in o)o.hasOwnProperty(s)&&(i[o[s]]=s);var a=e.exports={to:{},get:{}};function l(e,t,r){return Math.min(Math.max(t,e),r)}function d(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}a.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=a.get.hsl(e),r="hsl";break;case"hwb":t=a.get.hwb(e),r="hwb";break;default:t=a.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},a.get.rgb=function(e){if(!e)return null;var t,r,n,i=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=t[2],t=t[1],r=0;r<3;r++){var s=2*r;i[r]=parseInt(t.slice(s,s+2),16)}n&&(i[3]=parseInt(n,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(n=(t=t[1])[3],r=0;r<3;r++)i[r]=parseInt(t[r]+t[r],16);n&&(i[3]=parseInt(n+n,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)i[r]=parseInt(t[r+1],0);t[4]&&(i[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(i=o[t[1]])?(i[3]=1,i):null:null;for(r=0;r<3;r++)i[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(i[3]=parseFloat(t[4]))}for(r=0;r<3;r++)i[r]=l(i[r],0,255);return i[3]=l(i[3],0,1),i},a.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(r)?1:r,0,1)]}return null},a.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(r)?1:r,0,1)]}return null},a.to.hex=function(){var e=n(arguments);return"#"+d(e[0])+d(e[1])+d(e[2])+(e[3]<1?d(Math.round(255*e[3])):"")},a.to.rgb=function(){var e=n(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},a.to.rgb.percent=function(){var e=n(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),o=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+o+"%)":"rgba("+t+"%, "+r+"%, "+o+"%, "+e[3]+")"},a.to.hsl=function(){var e=n(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},a.to.hwb=function(){var e=n(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},a.to.keyword=function(e){return i[e.slice(0,3)]}},"./node_modules/color/index.js":
/*!*************************************!*\
  !*** ./node_modules/color/index.js ***!
  \*************************************/(e,t,r)=>{"use strict";var o=r(/*! color-string */"./node_modules/color-string/index.js"),n=r(/*! color-convert */"./node_modules/color-convert/index.js"),i=[].slice,s=["keyword","gray","hex"],a={};Object.keys(n).forEach((function(e){a[i.call(n[e].labels).sort().join("")]=e}));var l={};function d(e,t){if(!(this instanceof d))return new d(e,t);if(t&&t in s&&(t=null),t&&!(t in n))throw new Error("Unknown model: "+t);var r,u;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof d)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var c=o.get(e);if(null===c)throw new Error("Unable to parse color from string: "+e);this.model=c.model,u=n[this.model].channels,this.color=c.value.slice(0,u),this.valpha="number"==typeof c.value[u]?c.value[u]:1}else if(e.length){this.model=t||"rgb",u=n[this.model].channels;var f=i.call(e,0,u);this.color=p(f,u),this.valpha="number"==typeof e[u]?e[u]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var g=Object.keys(e);"alpha"in e&&(g.splice(g.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var m=g.sort().join("");if(!(m in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[m];var v=n[this.model].labels,h=[];for(r=0;r<v.length;r++)h.push(e[v[r]]);this.color=p(h)}if(l[this.model])for(u=n[this.model].channels,r=0;r<u;r++){var b=l[this.model][r];b&&(this.color[r]=b(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function u(e,t,r){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(l[e]||(l[e]=[]))[t]=r})),e=e[0],function(o){var n;return arguments.length?(r&&(o=r(o)),(n=this[e]()).color[t]=o,n):(n=this[e]().color[t],r&&(n=r(n)),n)}}function c(e){return function(t){return Math.max(0,Math.min(e,t))}}function p(e,t){for(var r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}d.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in o.to?this:this.rgb(),r=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return o.to[t.model](r)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:t.color.concat(this.valpha);return o.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=n[this.model].channels,r=n[this.model].labels,o=0;o<t;o++)e[r[o]]=this.color[o];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new d(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new d(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:u("rgb",0,c(255)),green:u("rgb",1,c(255)),blue:u("rgb",2,c(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:u("hsl",1,c(100)),lightness:u("hsl",2,c(100)),saturationv:u("hsv",1,c(100)),value:u("hsv",2,c(100)),chroma:u("hcg",1,c(100)),gray:u("hcg",2,c(100)),white:u("hwb",1,c(100)),wblack:u("hwb",2,c(100)),cyan:u("cmyk",0,c(100)),magenta:u("cmyk",1,c(100)),yellow:u("cmyk",2,c(100)),black:u("cmyk",3,c(100)),x:u("xyz",0,c(100)),y:u("xyz",1,c(100)),z:u("xyz",2,c(100)),l:u("lab",0,c(100)),a:u("lab",1),b:u("lab",2),keyword:function(e){return arguments.length?new d(e):n[this.model].keyword(this.color)},hex:function(e){return arguments.length?new d(e):o.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var o=e[r]/255;t[r]=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return d.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r=(r+e)%360)<0?360+r:r,t.color[0]=r,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var r=e.rgb(),o=this.rgb(),n=void 0===t?.5:t,i=2*n-1,s=r.alpha()-o.alpha(),a=((i*s==-1?i:(i+s)/(1+i*s))+1)/2,l=1-a;return d.rgb(a*r.red()+l*o.red(),a*r.green()+l*o.green(),a*r.blue()+l*o.blue(),r.alpha()*n+o.alpha()*(1-n))}},Object.keys(n).forEach((function(e){if(-1===s.indexOf(e)){var t=n[e].channels;d.prototype[e]=function(){if(this.model===e)return new d(this);if(arguments.length)return new d(arguments,e);var r,o="number"==typeof arguments[t]?t:this.valpha;return new d((r=n[this.model][e].raw(this.color),Array.isArray(r)?r:[r]).concat(o),e)},d[e]=function(r){return"number"==typeof r&&(r=p(i.call(arguments),t)),new d(r,e)}}})),e.exports=d},"./node_modules/is-arrayish/index.js":
/*!*******************************************!*\
  !*** ./node_modules/is-arrayish/index.js ***!
  \*******************************************/e=>{e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},"./node_modules/simple-swizzle/index.js":
/*!**********************************************!*\
  !*** ./node_modules/simple-swizzle/index.js ***!
  \**********************************************/(e,t,r)=>{"use strict";var o=r(/*! is-arrayish */"./node_modules/is-arrayish/index.js"),n=Array.prototype.concat,i=Array.prototype.slice,s=e.exports=function(e){for(var t=[],r=0,s=e.length;r<s;r++){var a=e[r];o(a)?t=n.call(t,i.call(a)):t.push(a)}return t};s.wrap=function(e){return function(){return e(s(arguments))}}},"./packages/roosterjs-color-utils/lib/index.ts":
/*!*****************************************************!*\
  !*** ./packages/roosterjs-color-utils/lib/index.ts ***!
  \*****************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDarkColor=void 0;var o=r(/*! ./utils/getDarkColor */"./packages/roosterjs-color-utils/lib/utils/getDarkColor.ts");Object.defineProperty(t,"getDarkColor",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-color-utils/lib/utils/getDarkColor.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-color-utils/lib/utils/getDarkColor.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! color */"./node_modules/color/index.js");t.default=function(e,t){void 0===t&&(t=21.247);try{var r=o(e||void 0),n=r.lab().array(),i=(100-n[0])*((100-t)/100)+t;e=o.lab(i,n[1],n[2]).rgb().alpha(r.alpha()).toString()}catch(e){}return e}},"./packages/roosterjs-editor-api/lib/format/changeCapitalization.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/changeCapitalization.ts ***!
  \**************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/applyInlineStyle */"./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t,r){function i(e,r){if(null===e)return e;switch(t){case"lowercase":return e.toLocaleLowerCase(r);case"uppercase":return e.toLocaleUpperCase(r);case"capitalize":for(var o=e.toLocaleLowerCase(r).split(" "),n=0;n<o.length;n++)o[n]=o[n].charAt(0).toLocaleUpperCase(r)+o[n].slice(1);return o.join(" ");case"sentence":var i=new RegExp("^\\s*\\w|[\\.\\!\\?]\\s+\\w","g");return e.toLocaleLowerCase(r).replace(i,(function(e){return e.toLocaleUpperCase(r)}));default:return e}}(0,o.default)(e,(function(e){for(var t=(0,n.getFirstLeafNode)(e);t;t=(0,n.getNextLeafSibling)(e,t))if(3==t.nodeType)try{t.textContent=i(t.textContent,r)}catch(e){t.textContent=i(t.textContent,void 0)}}),"changeCapitalization")}},"./packages/roosterjs-editor-api/lib/format/changeFontSize.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/changeFontSize.ts ***!
  \********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNewFontSize=t.FONT_SIZES=void 0;var o=r(/*! ../utils/applyInlineStyle */"./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.FONT_SIZES=[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];var i=1,s=1e3;function a(e,t,r){e=1==t?Math.floor(e):Math.ceil(e);var o=r[r.length-1];if(e<=r[0])e=Math.max(e+t,i);else if(e>o||e==o&&1==t)e/=10,e=1==t?Math.floor(e):Math.ceil(e),e=Math.min(Math.max(10*(e+t),o),s);else if(1==t){for(var n=0;n<r.length;n++)if(e<r[n]){e=r[n];break}}else for(n=r.length-1;n>=0;n--)if(e>r[n]){e=r[n];break}return e}t.default=function(e,r,i){void 0===i&&(i=t.FONT_SIZES);var s=0==r?1:-1;(0,o.default)(e,(function(e){var t=parseFloat((0,n.getComputedStyle)(e,"font-size")||e.style.fontSize);e.style.fontSize=a(t,s,i)+"pt";var r=(0,n.getComputedStyle)(e,"line-height");r&&"normal"!=r&&(e.style.lineHeight="normal")}),"changeFontSize")},t.getNewFontSize=a},"./packages/roosterjs-editor-api/lib/format/clearBlockFormat.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/clearBlockFormat.ts ***!
  \**********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./clearFormat */"./packages/roosterjs-editor-api/lib/format/clearFormat.ts");t.default=function(e){(0,o.default)(e,1)}},"./packages/roosterjs-editor-api/lib/format/clearFormat.ts":
/*!*****************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/clearFormat.ts ***!
  \*****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../utils/applyListItemWrap */"./packages/roosterjs-editor-api/lib/utils/applyListItemWrap.ts"),i=r(/*! ../utils/blockFormat */"./packages/roosterjs-editor-api/lib/utils/blockFormat.ts"),s=r(/*! ../utils/execCommand */"./packages/roosterjs-editor-api/lib/utils/execCommand.ts"),a=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),l=r(/*! ./setBackgroundColor */"./packages/roosterjs-editor-api/lib/format/setBackgroundColor.ts"),d=r(/*! ./setFontName */"./packages/roosterjs-editor-api/lib/format/setFontName.ts"),u=r(/*! ./setFontSize */"./packages/roosterjs-editor-api/lib/format/setFontSize.ts"),c=r(/*! ./setTextColor */"./packages/roosterjs-editor-api/lib/format/setTextColor.ts"),p=r(/*! ./toggleBold */"./packages/roosterjs-editor-api/lib/format/toggleBold.ts"),f=r(/*! ./toggleItalic */"./packages/roosterjs-editor-api/lib/format/toggleItalic.ts"),g=r(/*! ./toggleUnderline */"./packages/roosterjs-editor-api/lib/format/toggleUnderline.ts"),m=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),v=["font","text-decoration","color","background"],h="B,I,U,STRONG,EM,SUB,SUP,STRIKE,FONT,CENTER,H1,H2,H3,H4,H5,H6,UL,OL,LI,SPAN,P,BLOCKQUOTE,CODE,S,PRE".split(","),b=["href","src","cellpadding","cellspacing"],y=["TD","TH","TR","TABLE","TBODY","THEAD"];function E(e){var t=(0,m.toArray)(e.childNodes).map(E).every((function(e){return e})),r=(0,m.isBlockElement)(e),n=(0,m.getTagOfNode)(e);return n&&(h.indexOf(n)>=0||t&&!(0,m.isVoidHtmlElement)(e)&&y.indexOf(n)<0?(r&&!t&&(0,m.wrap)(e),(0,m.unwrap)(e)):function(e){var t,r,n=(0,m.safeInstanceOf)(e,"HTMLTableCellElement"),i=(0,m.safeInstanceOf)(e,"HTMLTableElement");try{for(var s=(0,o.__values)((0,m.toArray)(e.attributes)),a=s.next();!a.done;a=s.next()){var l=a.value;n&&"style"==l.name?k(e):i&&"style"==l.name?S(e):b.indexOf(l.name.toLowerCase())<0&&0!=l.name.indexOf("data-")&&e.removeAttribute(l.name)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}}(e)),r}function C(e,t){var r=(0,m.getStyles)(e),o={};return(0,m.getObjectKeys)(r).forEach((function(e){return t(e,r,o)})),(0,m.setStyles)(e,r),o}function k(e){return C(e,(function(e,t,r){e.indexOf("border")<0&&(r[e]=t[e],delete t[e])}))}function S(e){return C(e,(function(e,t,r){"border-collapse"!=e&&(r[e]=t[e],delete t[e])}))}function j(e){var t=function(e){var t=e.getSelectionTraverser();return!!(null==t?void 0:t.currentBlockElement)&&!!(null==t?void 0:t.getNextBlockElement())}(e);if(!t){var r=e.getSelectionTraverser(),o=null==r?void 0:r.currentInlineElement,n=o instanceof m.PartialInlineElement||o instanceof m.NodeInlineElement&&!function(e,t){for(var r,o=e,n=function(){if(o.nextSibling||o.previousSibling){if((0,m.safeInstanceOf)(o,"HTMLLIElement"))return{value:!0};var e=!0;return null===(r=o.parentNode)||void 0===r||r.childNodes.forEach((function(t){var r;t!=o&&(null===(r=t.textContent)||void 0===r?void 0:r.length)&&(e=!1)})),{value:e}}o=o.parentNode};o&&t.contains(o.parentNode);){var i=n();if("object"==typeof i)return i.value}return!0}(o.getContainerNode(),e);if(n)return void O(e)}T(e)}function T(e){(0,a.default)(e,(function(){(0,i.default)(e,(function(t){var r=(0,m.getSelectedBlockElementsInRegion)(t),o=(0,m.collapseNodesInRegion)(t,r);if(e.contains(t.rootNode)){var n=k(t.rootNode);if((0,m.getObjectKeys)(n).length>0){var i=(0,m.wrap)((0,m.toArray)(t.rootNode.childNodes));(0,m.setStyles)(i,n)}}for(;o.length>0&&o[0].parentNode&&(0,m.isNodeInRegion)(t,o[0].parentNode);){var s=(0,m.splitBalancedNodeRange)(o);o=s?[s]:[]}o.forEach(E)})),P(e)}),"clearBlockFormat")}function P(e){var t=e.getDefaultFormat(),r=0===(0,m.getObjectKeys)(t).length;if(e.queryElements("[style]",2,(function(e){var t=(0,m.getTagOfNode)(e);-1==y.indexOf(t)?_(t,e,r):e.childNodes.forEach((function(e){e.childNodes.forEach((function(e){var t=(0,m.getTagOfNode)(e);(0,m.safeInstanceOf)(e,"HTMLElement")&&_(t,e,r)}))}))})),!r){if(t.fontFamily&&(0,d.default)(e,t.fontFamily),t.fontSize&&(0,u.default)(e,t.fontSize),t.textColor){var o=e.queryElements("a *, a",1),i=o.length>0?function(e){return-1==o.indexOf(e)}:void 0;t.textColors?(0,c.default)(e,t.textColors,i):(0,c.default)(e,t.textColor,i)}t.backgroundColor&&(t.backgroundColors?(0,l.default)(e,t.backgroundColors):(0,l.default)(e,t.backgroundColor)),t.bold?(0,p.default)(e):function(e,t){void 0===t&&(t="400"),(0,n.default)(e,"font-weight",(function(e){return e.style.fontWeight=t}),"setDefaultFontWeight")}(e),t.italic&&(0,f.default)(e),t.underline&&(0,g.default)(e)}}function _(e,t,r){-1==y.indexOf(e)&&(v.forEach((function(e){return t.style.removeProperty(e)})),r&&""===t.getAttribute("style")&&t.removeAttribute("style"))}function O(e,t){switch(void 0===t&&(t=0),t){case 0:!function(e){e.focus(),e.addUndoSnapshot((function(){return(0,s.default)(e,"removeFormat"),e.queryElements("[class]",1,(function(e){return e.removeAttribute("class")})),P(e),"clearInlineFormat"}),"Format")}(e);break;case 1:T(e);break;default:j(e)}}t.default=O},"./packages/roosterjs-editor-api/lib/format/createLink.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/createLink.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=/^[a-zA-Z]+:/i,i=/^[\w.%+-]+@/i,s=/^ftp\./i;function a(e){return e.queryElements("a[href]",1)[0]}function l(e,t){t&&e.textContent!=t&&(e.textContent=t)}t.default=function(e,t,r,d,u){e.focus();var c=(function(e){var t=new o.HtmlSanitizer,r=document.createElement("a");return r.href=e||"",t.sanitize(r),r.getAttribute("href")}(t)||"").trim();if(c){var p=(0,o.matchLink)(c),f=p?p.normalizedUrl:function(e){if(!e)return e;var t="";return e.search(n)<0&&(t=0==e.search(i)?"mailto:":0==e.search(s)?"ftp://":"http://"),t+e}(c),g=p?p.originalUrl:c;e.addUndoSnapshot((function(){var t=e.getSelectionRangeEx(),n=null;if(0===t.type){var i=t.ranges[0];if(i&&i.collapsed)(n=a(e))?(n.href=f,l(n,d)):((n=e.getDocument().createElement("A")).textContent=d||g,n.href=f,e.insertNode(n));else{e.getDocument().execCommand("createLink",!1,f);for(var s=e.getSelectionTraverser(),c=null==s?void 0:s.getNextInlineElement(),p=[];c;)p.push(c.getContainerNode()),c=null==s?void 0:s.getNextInlineElement();p.forEach((function(t){return e.deleteNode(t)})),l(n=a(e),d)}}else 2===t.type&&((n=(0,o.wrap)(t.image,"A")).href=f);return r&&n&&(n.title=r),n&&function(e,t){t?e.target=t:!t&&e.getAttribute("target")&&e.removeAttribute("target")}(n,u),n}),"CreateLink")}}},"./packages/roosterjs-editor-api/lib/format/getFormatState.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/getFormatState.ts ***!
  \********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementBasedFormatState=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");function i(e,t){var r=(0,n.getTagOfNode)(e.getElementAtCursor("OL,UL",void 0,t)),o=e.getSelectionRange(),i=!1;if(o&&!o.collapsed){var a=e.getBlockElementAtNode(o.startContainer),l=e.getBlockElementAtNode(o.endContainer);i=!(!l||!a)&&!l.equals(a)}var d=(0,n.getTagOfNode)(e.getElementAtCursor("H1,H2,H3,H4,H5,H6",void 0,t)),u=e.queryElements("table",1)[0],c=u?(0,n.getTableFormatInfo)(u):void 0,p=(null==u?void 0:u.rows[0])?(0,n.toArray)(u.rows[0].cells).every((function(e){return"TH"==(0,n.getTagOfNode)(e)})):void 0,f=d&&parseInt(d[1])||0;return{isBullet:"UL"==r,isNumbering:"OL"==r,isMultilineSelection:i,headingLevel:f,headerLevel:f,canUnlink:!!e.queryElements("a[href]",1)[0],canAddImageAltText:!!e.queryElements("img",1)[0],isBlockQuote:!!e.queryElements("blockquote",1)[0],isCodeInline:!!e.queryElements("code",1)[0],isCodeBlock:!!e.queryElements("pre>code",1)[0],isInTable:!!u,tableFormat:c||{},tableHasHeader:p,canMergeTableCell:s(e)}}t.getElementBasedFormatState=i,t.default=function(e,t){return(0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)({},e.getPendableFormatState(!1)),i(e,t)),e.getStyleBasedFormatState()),e.getUndoState()),{isDarkMode:e.isDarkMode(),zoomScale:e.getZoomScale()})};var s=function(e){var t=e.getSelectionRangeEx();if(t&&1===t.type&&t.coordinates){var r=t.coordinates,o=r.firstCell,n=r.lastCell;return o.x!==n.x||o.y!==n.y}return!1}},"./packages/roosterjs-editor-api/lib/format/insertEntity.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/insertEntity.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/commitListChains */"./packages/roosterjs-editor-api/lib/utils/commitListChains.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t,r,i,s,a,l,d){var u,c=(0,n.wrap)(r,i?"div":"span");if(!i&&s&&(c.style.display="inline-block"),(0,n.commitEntity)(c,t,s),!e.contains(c)){var p=null,f=void 0;if("number"==typeof a)f=a;else if(a){p=e.getSelectionRange();var g=a.normalize().node,m=g&&e.getElementAtCursor((0,n.getEntitySelector)(),g);m&&(a=new n.Position(m,-3)),e.select(a),f=3}else e.focus(),f=3;var v=l&&e.getSelectedRegions(),h=v&&n.VListChain.createListChains(v);e.insertNode(c,{updateCursor:!1,insertOnNewLine:i,replaceSelection:!0,position:f,insertToRegionRoot:l}),h&&(0,o.default)(e,h),3==f&&(p?e.select(p):i||e.select(c,-3))}var b=(0,n.getEntityFromElement)(c);if(i){var y=(0,n.createElement)(1,e.getDocument());if(null===(u=c.parentNode)||void 0===u||u.insertBefore(y,c.nextSibling),y&&(0,n.applyFormat)(y,e.getDefaultFormat(),e.isDarkMode(),e.getDarkColorHandler()),d){var E=null==y?void 0:y.querySelector("br"),C=E&&new n.Position(E,-2);C&&e.select(C)}}else s&&((0,n.addDelimiters)(b.wrapper),b.wrapper.nextElementSibling&&e.hasFocus()&&e.select(new n.Position(b.wrapper.nextElementSibling,-3)));return e.triggerContentChangedEvent("InsertEntity",b),b}},"./packages/roosterjs-editor-api/lib/format/insertImage.ts":
/*!*****************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/insertImage.ts ***!
  \*****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");function i(e,t,r){(0,o.default)(e,(function(){var o=e.getDocument().createElement("img");o.src=t,r&&(0,n.getObjectKeys)(r).forEach((function(e){return o.setAttribute(e,r[e])})),e.insertNode(o)}),"insertImage")}t.default=function(e,t,r){"string"==typeof t?i(e,t,r):(0,n.readFile)(t,(function(t){t&&!e.isDisposed()&&i(e,t,r)}))}},"./packages/roosterjs-editor-api/lib/format/removeLink.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/removeLink.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e){e.focus(),(0,o.default)(e,(function(t,r){e.queryElements("a[href]",1,n.unwrap),t&&r&&e.select(t,r)}),"removeLink")}},"./packages/roosterjs-editor-api/lib/format/replaceWithNode.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/replaceWithNode.ts ***!
  \*********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,o,n){var i,s,a;if(!t||!r)return!1;if(a="string"==typeof t?null!==(s=null==(n=null!==(i=n||e.getContentSearcherOfCursor())&&void 0!==i?i:void 0)?void 0:n.getRangeFromText(t,o))&&void 0!==s?s:null:t){var l=e.getSelectionRange();return(null==l?void 0:l.collapsed)&&a.endContainer==l.startContainer&&a.endOffset==l.startOffset&&(o=!0),e.insertNode(r,{position:5,updateCursor:o,replaceSelection:!0,insertOnNewLine:!1,range:a}),!0}return!1}},"./packages/roosterjs-editor-api/lib/format/rotateElement.ts":
/*!*******************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/rotateElement.ts ***!
  \*******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts");t.default=function(e,t,r){t&&(0,o.default)(e,(function(){t.style.transform="rotate("+r+"deg)"}),"rotateElement")}},"./packages/roosterjs-editor-api/lib/format/setAlignment.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/setAlignment.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/blockFormat */"./packages/roosterjs-editor-api/lib/utils/blockFormat.ts"),n=r(/*! ../utils/execCommand */"./packages/roosterjs-editor-api/lib/utils/execCommand.ts"),i=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),s=r(/*! ../utils/normalizeBlockquote */"./packages/roosterjs-editor-api/lib/utils/normalizeBlockquote.ts"),a=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t){(0,i.default)(e,(function(){var r,i=e.getSelectionRangeEx(),l=i&&1===i.type,d=e.getElementAtCursor();l&&i.coordinates&&(0,a.isWholeTableSelected)(new a.VTable(i.table),i.coordinates)?function(e,t){var r=e.table;1==t?(r.style.marginLeft="auto",r.style.marginRight="auto"):2==t?(r.style.marginLeft="auto",r.style.marginRight=""):(r.style.marginLeft="",r.style.marginRight="auto")}(i,t):d&&(r=d,(0,a.findClosestElementAncestor)(r,void 0,"LI"))?function(e,t){(0,o.default)(e,(function(e,r,o){var n=(0,a.getSelectedBlockElementsInRegion)(e)[0].getStartNode(),i=(0,a.createVListFromRegion)(e,!0,n);r&&o&&(null==i||i.setAlignment(r,o,t))}),void 0,"alignList")}(e,t):function(e,t){var r="left",o="justifyLeft";1==t?(o="justifyCenter",r="center"):2==t&&(o="justifyRight",r="right");(0,n.default)(e,o);var i=e.queryElements("[align]",1,(function(e){e.style.textAlign=r,(0,s.default)(e)}));if(0==i.length){var a=e.getElementAtCursor();a&&(0,s.default)(a)}}(e,t)}),"setAlignment")}},"./packages/roosterjs-editor-api/lib/format/setBackgroundColor.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/setBackgroundColor.ts ***!
  \************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/applyInlineStyle */"./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t){(0,o.default)(e,(function(r,o){(0,n.setColor)(r,o?"":t,!0,e.isDarkMode(),!1,e.getDarkColorHandler())}),"setBackgroundColor")}},"./packages/roosterjs-editor-api/lib/format/setDirection.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/setDirection.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/collapseSelectedBlocks */"./packages/roosterjs-editor-api/lib/utils/collapseSelectedBlocks.ts"),n=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts");t.default=function(e,t){e.focus(),(0,n.default)(e,(function(r,n){(0,o.default)(e,(function(e){e.setAttribute("dir",0==t?"ltr":"rtl"),e.style.textAlign=0==t?"left":"right"})),r&&n&&e.select(r,n)}),"setDirection")}},"./packages/roosterjs-editor-api/lib/format/setFontName.ts":
/*!*****************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/setFontName.ts ***!
  \*****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/applyListItemWrap */"./packages/roosterjs-editor-api/lib/utils/applyListItemWrap.ts");t.default=function(e,t){(0,o.default)(e,"font-family",(function(e,r){e.style.fontFamily=r?"":t}),"setFontName")}},"./packages/roosterjs-editor-api/lib/format/setFontSize.ts":
/*!*****************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/setFontSize.ts ***!
  \*****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/applyListItemWrap */"./packages/roosterjs-editor-api/lib/utils/applyListItemWrap.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t){(0,o.default)(e,"font-size",(function(e,r){e.style.fontSize=r?"":t;var o=(0,n.getComputedStyle)(e,"line-height");o&&"normal"!=o&&(e.style.lineHeight="normal")}),"setFontSize")}},"./packages/roosterjs-editor-api/lib/format/setHeadingLevel.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/setHeadingLevel.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleHeader=void 0;var o=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");function i(e,t){t=Math.min(Math.max(Math.round(t),0),6),(0,o.default)(e,(function(){e.focus();var r=!1;if(e.queryElements("H1,H2,H3,H4,H5,H6",1,(function(t){r||(e.getDocument().execCommand("formatBlock",!1,"<DIV>"),r=!0);var o=e.getDocument().createElement("div");(0,n.moveChildNodes)(o,t),e.replaceNode(t,o)})),t>0){for(var o=e.getSelectionTraverser(),i=null==o?void 0:o.currentBlockElement,s=new n.HtmlSanitizer({cssStyleCallbacks:{"font-size":function(){return!1}}});i;){var a=i.collapseToSingleElement();s.sanitize(a),i=null==o?void 0:o.getNextBlockElement()}e.getDocument().execCommand("formatBlock",!1,"<H"+t+">")}}),"toggleHeader")}t.default=i,t.toggleHeader=i},"./packages/roosterjs-editor-api/lib/format/setImageAltText.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/setImageAltText.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts");t.default=function(e,t){e.focus(),(0,o.default)(e,(function(){e.queryElements("img",1,(function(e){return e.setAttribute("alt",t)}))}),"setImageAltText")}},"./packages/roosterjs-editor-api/lib/format/setIndentation.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/setIndentation.ts ***!
  \********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/blockFormat */"./packages/roosterjs-editor-api/lib/utils/blockFormat.ts"),n=r(/*! ../utils/normalizeBlockquote */"./packages/roosterjs-editor-api/lib/utils/normalizeBlockquote.ts"),i=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");function s(e,t){t.forEach((function(t){var r=t.collapseToSingleElement(),o=(0,i.findClosestElementAncestor)(r,e.rootNode,"blockquote");if(o){for(r==o&&(r=(0,i.wrap)((0,i.toArray)(r.childNodes)));r&&(0,i.isNodeInRegion)(e,r)&&"BLOCKQUOTE"!=(0,i.getTagOfNode)(r);)r=(0,i.splitBalancedNodeRange)(r);r&&(0,i.isNodeInRegion)(e,r)&&(0,i.unwrap)(r)}}))}function a(e,t){var r;return(null===(r=e.items[0])||void 0===r?void 0:r.getNode())==t&&e.getListItemIndex(t)==(e.getStart()||1)}function l(e,t,r){return 0==e||t.getElementAtCursor("blockquote",r)}t.default=function(e,t){var r=0==t?function(e,t){var r=(0,i.collapseNodesInRegion)(e,t);(0,i.wrap)(r,2);var o=[];r.forEach((function(e){return(0,n.default)(e,o)}))}:s;(0,o.default)(e,(function(o,n,s){for(var d=(0,i.getSelectedBlockElementsInRegion)(o,!0),u=[[]],c=0;c<d.length;c++){var p=d[c].getStartNode(),f=(0,i.createVListFromRegion)(o,!0,p);if(f){for(;d[c+1]&&f.contains(d[c+1].getStartNode());)c++;var g=e.isFeatureEnabled("TabKeyTextFeatures");if(g&&a(f,p)&&l(t,e,p)){var m=e.getBlockElementAtNode(f.rootList);m&&u.push([m])}else n&&s&&(1==t?f.setIndentation(n,s,t,!1,g):f.setIndentation(n,s,t),f.writeBack(e.isFeatureEnabled("ReuseAllAncestorListElements"),e.isFeatureEnabled("DisableListChain")),u.push([]))}else u[u.length-1].push(d[c])}u.forEach((function(e){return r(o,e)}))}),(function(){var r=e.getSelectionRangeEx();if(1==r.type&&r.coordinates&&(0,i.isWholeTableSelected)(new i.VTable(r.table),r.coordinates)){if(1==t){var o=e.getElementAtCursor("blockquote",r.table);o&&(0,i.unwrap)(o)}else 0==t&&(0,i.wrap)(r.table,2);return!1}return!0}),"setIndentation")}},"./packages/roosterjs-editor-api/lib/format/setOrderedListNumbering.ts":
/*!*****************************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/setOrderedListNumbering.ts ***!
  \*****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t,r){void 0===r&&(r=1),(0,o.default)(e,(function(){e.focus();var o=e.getSelectedRegions();if(o[0]){var i=(0,n.createVListFromRegion)(o[0],!1,t);i&&(i.split(t,r),i.writeBack(e.isFeatureEnabled("ReuseAllAncestorListElements"),e.isFeatureEnabled("DisableListChain")))}}),"setOrderedListNumbering")}},"./packages/roosterjs-editor-api/lib/format/setTextColor.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/setTextColor.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/applyListItemWrap */"./packages/roosterjs-editor-api/lib/utils/applyListItemWrap.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t,r){(0,o.default)(e,"color",(function(o,i){r&&!r(o)||(0,n.setColor)(o,i?"":t,!1,e.isDarkMode(),!1,e.getDarkColorHandler())}),"setTextColor")}},"./packages/roosterjs-editor-api/lib/format/toggleBlockQuote.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/toggleBlockQuote.ts ***!
  \**********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/blockWrap */"./packages/roosterjs-editor-api/lib/utils/blockWrap.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i=function(e){e.style.borderLeft="3px solid",e.style.borderColor="#C8C8C8",e.style.paddingLeft="10px",e.style.color="#666666"};t.default=function(e,t){(0,o.default)(e,(function(e){var r=(0,n.wrap)(e,"blockquote");(t||i)(r)}),(function(){return 0==e.queryElements("blockquote",1,n.unwrap).length}),"toggleBlockQuote")}},"./packages/roosterjs-editor-api/lib/format/toggleBold.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/toggleBold.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/execCommand */"./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=function(e){(0,o.default)(e,"bold","toggleBold")}},"./packages/roosterjs-editor-api/lib/format/toggleBullet.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/toggleBullet.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/toggleListType */"./packages/roosterjs-editor-api/lib/utils/toggleListType.ts");t.default=function(e,t,r){(0,o.default)(e,2,void 0,!1,void 0,t,r)}},"./packages/roosterjs-editor-api/lib/format/toggleCodeBlock.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/toggleCodeBlock.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/blockWrap */"./packages/roosterjs-editor-api/lib/utils/blockWrap.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i="code",s="pre>"+i;t.default=function(e,t){(0,o.default)(e,(function(e){var r=(0,n.wrap)(e,i),o=(0,n.wrap)(r,"pre");null==t||t(o)}),(function(){return 0==e.queryElements(s,1,(function(e){if(!e.previousSibling&&!e.nextSibling){var t=e.parentNode;(0,n.unwrap)(e),t&&(0,n.unwrap)(t)}})).length}),"toggleCodeBlock")}},"./packages/roosterjs-editor-api/lib/format/toggleItalic.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/toggleItalic.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/execCommand */"./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=function(e){(0,o.default)(e,"italic","toggleItalic")}},"./packages/roosterjs-editor-api/lib/format/toggleNumbering.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/toggleNumbering.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/toggleListType */"./packages/roosterjs-editor-api/lib/utils/toggleListType.ts");t.default=function(e,t,r,n){(0,o.default)(e,1,t,void 0,r,void 0,n)}},"./packages/roosterjs-editor-api/lib/format/toggleStrikethrough.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/toggleStrikethrough.ts ***!
  \*************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/execCommand */"./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=function(e){(0,o.default)(e,"strikeThrough","toggleStrikethrough")}},"./packages/roosterjs-editor-api/lib/format/toggleSubscript.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/toggleSubscript.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/execCommand */"./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=function(e){(0,o.default)(e,"subscript","toggleSubscript")}},"./packages/roosterjs-editor-api/lib/format/toggleSuperscript.ts":
/*!***********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/toggleSuperscript.ts ***!
  \***********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/execCommand */"./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=function(e){(0,o.default)(e,"superscript","toggleSuperscript")}},"./packages/roosterjs-editor-api/lib/format/toggleUnderline.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/format/toggleUnderline.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/execCommand */"./packages/roosterjs-editor-api/lib/utils/execCommand.ts");t.default=function(e){(0,o.default)(e,"underline","toggleUnderline")}},"./packages/roosterjs-editor-api/lib/index.ts":
/*!****************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/index.ts ***!
  \****************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.experimentCommitListChains=t.commitListChains=t.blockFormat=t.toggleListType=t.applyCellShading=t.toggleHeader=t.setHeadingLevel=t.toggleUnderline=t.toggleSuperscript=t.toggleSubscript=t.toggleStrikethrough=t.toggleCodeBlock=t.toggleBlockQuote=t.setOrderedListNumbering=t.toggleNumbering=t.toggleItalic=t.toggleBullet=t.toggleBold=t.changeCapitalization=t.setIndentation=t.setImageAltText=t.setFontSize=t.setFontName=t.setDirection=t.setTextColor=t.setBackgroundColor=t.setAlignment=t.rotateElement=t.replaceWithNode=t.removeLink=t.formatTable=t.editTable=t.insertTable=t.insertImage=t.insertEntity=t.getElementBasedFormatState=t.getFormatState=t.createLink=t.clearFormat=t.clearBlockFormat=t.FONT_SIZES=t.changeFontSize=void 0;var o=r(/*! ./format/changeFontSize */"./packages/roosterjs-editor-api/lib/format/changeFontSize.ts");Object.defineProperty(t,"changeFontSize",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"FONT_SIZES",{enumerable:!0,get:function(){return o.FONT_SIZES}});var n=r(/*! ./format/clearBlockFormat */"./packages/roosterjs-editor-api/lib/format/clearBlockFormat.ts");Object.defineProperty(t,"clearBlockFormat",{enumerable:!0,get:function(){return n.default}});var i=r(/*! ./format/clearFormat */"./packages/roosterjs-editor-api/lib/format/clearFormat.ts");Object.defineProperty(t,"clearFormat",{enumerable:!0,get:function(){return i.default}});var s=r(/*! ./format/createLink */"./packages/roosterjs-editor-api/lib/format/createLink.ts");Object.defineProperty(t,"createLink",{enumerable:!0,get:function(){return s.default}});var a=r(/*! ./format/getFormatState */"./packages/roosterjs-editor-api/lib/format/getFormatState.ts");Object.defineProperty(t,"getFormatState",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"getElementBasedFormatState",{enumerable:!0,get:function(){return a.getElementBasedFormatState}});var l=r(/*! ./format/insertEntity */"./packages/roosterjs-editor-api/lib/format/insertEntity.ts");Object.defineProperty(t,"insertEntity",{enumerable:!0,get:function(){return l.default}});var d=r(/*! ./format/insertImage */"./packages/roosterjs-editor-api/lib/format/insertImage.ts");Object.defineProperty(t,"insertImage",{enumerable:!0,get:function(){return d.default}});var u=r(/*! ./table/insertTable */"./packages/roosterjs-editor-api/lib/table/insertTable.ts");Object.defineProperty(t,"insertTable",{enumerable:!0,get:function(){return u.default}});var c=r(/*! ./table/editTable */"./packages/roosterjs-editor-api/lib/table/editTable.ts");Object.defineProperty(t,"editTable",{enumerable:!0,get:function(){return c.default}});var p=r(/*! ./table/formatTable */"./packages/roosterjs-editor-api/lib/table/formatTable.ts");Object.defineProperty(t,"formatTable",{enumerable:!0,get:function(){return p.default}});var f=r(/*! ./format/removeLink */"./packages/roosterjs-editor-api/lib/format/removeLink.ts");Object.defineProperty(t,"removeLink",{enumerable:!0,get:function(){return f.default}});var g=r(/*! ./format/replaceWithNode */"./packages/roosterjs-editor-api/lib/format/replaceWithNode.ts");Object.defineProperty(t,"replaceWithNode",{enumerable:!0,get:function(){return g.default}});var m=r(/*! ./format/rotateElement */"./packages/roosterjs-editor-api/lib/format/rotateElement.ts");Object.defineProperty(t,"rotateElement",{enumerable:!0,get:function(){return m.default}});var v=r(/*! ./format/setAlignment */"./packages/roosterjs-editor-api/lib/format/setAlignment.ts");Object.defineProperty(t,"setAlignment",{enumerable:!0,get:function(){return v.default}});var h=r(/*! ./format/setBackgroundColor */"./packages/roosterjs-editor-api/lib/format/setBackgroundColor.ts");Object.defineProperty(t,"setBackgroundColor",{enumerable:!0,get:function(){return h.default}});var b=r(/*! ./format/setTextColor */"./packages/roosterjs-editor-api/lib/format/setTextColor.ts");Object.defineProperty(t,"setTextColor",{enumerable:!0,get:function(){return b.default}});var y=r(/*! ./format/setDirection */"./packages/roosterjs-editor-api/lib/format/setDirection.ts");Object.defineProperty(t,"setDirection",{enumerable:!0,get:function(){return y.default}});var E=r(/*! ./format/setFontName */"./packages/roosterjs-editor-api/lib/format/setFontName.ts");Object.defineProperty(t,"setFontName",{enumerable:!0,get:function(){return E.default}});var C=r(/*! ./format/setFontSize */"./packages/roosterjs-editor-api/lib/format/setFontSize.ts");Object.defineProperty(t,"setFontSize",{enumerable:!0,get:function(){return C.default}});var k=r(/*! ./format/setImageAltText */"./packages/roosterjs-editor-api/lib/format/setImageAltText.ts");Object.defineProperty(t,"setImageAltText",{enumerable:!0,get:function(){return k.default}});var S=r(/*! ./format/setIndentation */"./packages/roosterjs-editor-api/lib/format/setIndentation.ts");Object.defineProperty(t,"setIndentation",{enumerable:!0,get:function(){return S.default}});var j=r(/*! ./format/changeCapitalization */"./packages/roosterjs-editor-api/lib/format/changeCapitalization.ts");Object.defineProperty(t,"changeCapitalization",{enumerable:!0,get:function(){return j.default}});var T=r(/*! ./format/toggleBold */"./packages/roosterjs-editor-api/lib/format/toggleBold.ts");Object.defineProperty(t,"toggleBold",{enumerable:!0,get:function(){return T.default}});var P=r(/*! ./format/toggleBullet */"./packages/roosterjs-editor-api/lib/format/toggleBullet.ts");Object.defineProperty(t,"toggleBullet",{enumerable:!0,get:function(){return P.default}});var _=r(/*! ./format/toggleItalic */"./packages/roosterjs-editor-api/lib/format/toggleItalic.ts");Object.defineProperty(t,"toggleItalic",{enumerable:!0,get:function(){return _.default}});var O=r(/*! ./format/toggleNumbering */"./packages/roosterjs-editor-api/lib/format/toggleNumbering.ts");Object.defineProperty(t,"toggleNumbering",{enumerable:!0,get:function(){return O.default}});var w=r(/*! ./format/setOrderedListNumbering */"./packages/roosterjs-editor-api/lib/format/setOrderedListNumbering.ts");Object.defineProperty(t,"setOrderedListNumbering",{enumerable:!0,get:function(){return w.default}});var I=r(/*! ./format/toggleBlockQuote */"./packages/roosterjs-editor-api/lib/format/toggleBlockQuote.ts");Object.defineProperty(t,"toggleBlockQuote",{enumerable:!0,get:function(){return I.default}});var A=r(/*! ./format/toggleCodeBlock */"./packages/roosterjs-editor-api/lib/format/toggleCodeBlock.ts");Object.defineProperty(t,"toggleCodeBlock",{enumerable:!0,get:function(){return A.default}});var D=r(/*! ./format/toggleStrikethrough */"./packages/roosterjs-editor-api/lib/format/toggleStrikethrough.ts");Object.defineProperty(t,"toggleStrikethrough",{enumerable:!0,get:function(){return D.default}});var x=r(/*! ./format/toggleSubscript */"./packages/roosterjs-editor-api/lib/format/toggleSubscript.ts");Object.defineProperty(t,"toggleSubscript",{enumerable:!0,get:function(){return x.default}});var L=r(/*! ./format/toggleSuperscript */"./packages/roosterjs-editor-api/lib/format/toggleSuperscript.ts");Object.defineProperty(t,"toggleSuperscript",{enumerable:!0,get:function(){return L.default}});var M=r(/*! ./format/toggleUnderline */"./packages/roosterjs-editor-api/lib/format/toggleUnderline.ts");Object.defineProperty(t,"toggleUnderline",{enumerable:!0,get:function(){return M.default}});var R=r(/*! ./format/setHeadingLevel */"./packages/roosterjs-editor-api/lib/format/setHeadingLevel.ts");Object.defineProperty(t,"setHeadingLevel",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"toggleHeader",{enumerable:!0,get:function(){return R.toggleHeader}});var N=r(/*! ./table/applyCellShading */"./packages/roosterjs-editor-api/lib/table/applyCellShading.ts");Object.defineProperty(t,"applyCellShading",{enumerable:!0,get:function(){return N.default}});var B=r(/*! ./utils/toggleListType */"./packages/roosterjs-editor-api/lib/utils/toggleListType.ts");Object.defineProperty(t,"toggleListType",{enumerable:!0,get:function(){return B.default}});var F=r(/*! ./utils/blockFormat */"./packages/roosterjs-editor-api/lib/utils/blockFormat.ts");Object.defineProperty(t,"blockFormat",{enumerable:!0,get:function(){return F.default}});var H=r(/*! ./utils/commitListChains */"./packages/roosterjs-editor-api/lib/utils/commitListChains.ts");Object.defineProperty(t,"commitListChains",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(t,"experimentCommitListChains",{enumerable:!0,get:function(){return H.experimentCommitListChains}})},"./packages/roosterjs-editor-api/lib/table/applyCellShading.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/table/applyCellShading.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),i=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t){e.focus(),(0,n.default)(e,(function(){e.getSelectedRegions().forEach((function(r){if((0,i.safeInstanceOf)(r.rootNode,"HTMLTableCellElement")){(0,i.setColor)(r.rootNode,t,!0,e.isDarkMode(),!0,e.getDarkColorHandler());var n=(0,i.getTableCellMetadata)(r.rootNode);(0,i.saveTableCellMetadata)(r.rootNode,(0,o.__assign)((0,o.__assign)({},n),{bgColorOverride:!0}))}}))}),"applyCellShading")}},"./packages/roosterjs-editor-api/lib/table/editTable.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/table/editTable.ts ***!
  \**************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");function i(e){return null==e}t.default=function(e,t){var r=e.getElementAtCursor("TD,TH");r&&(0,o.default)(e,(function(){var o=new n.VTable(r);if(function(e,t){var r,o=e.getSelectionRangeEx();o&&1===o.type&&(t.selection=null!==(r=o.coordinates)&&void 0!==r?r:null)}(e,o),o.edit(t),o.writeBack(!1,e.getDarkColorHandler()),e.transformToDarkColor(o.table),e.focus(),!i(o.row)&&!i(o.col)){var s=function(e,t,r){var o=t,n=r;switch(e){case 0:n=0;break;case 1:o+=1,n=0;break;case 2:o=0;break;case 3:o=0,n+=1}return{newRow:o,newCol:n}}(t,o.row,o.col),a=s.newCol,l=s.newRow,d=o.getCell(l,a).td;d&&e.select(d,0)}}),"editTable")}},"./packages/roosterjs-editor-api/lib/table/formatTable.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/table/formatTable.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t,r){(r=r||e.getElementAtCursor("TABLE"))&&(0,o.default)(e,(function(o,i){if(r){var s=new n.VTable(r);s.applyFormat(t),s.writeBack(!1,e.getDarkColorHandler()),e.transformToDarkColor(s.table),e.focus(),o&&i&&e.select(o,i)}}),"formatTable")}},"./packages/roosterjs-editor-api/lib/table/insertTable.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/table/insertTable.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),n=r(/*! ../format/setBackgroundColor */"./packages/roosterjs-editor-api/lib/format/setBackgroundColor.ts"),i=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");function s(e){return e<=4?"120px":e<=6?"100px":"70px"}t.default=function(e,t,r,a){var l=e.getDocument(),d=l.createElement("table");d.cellSpacing="0",d.cellPadding="1";for(var u=0;u<r;u++){var c=l.createElement("tr");d.appendChild(c);for(var p=0;p<t;p++){var f=l.createElement("td");c.appendChild(f),f.appendChild(l.createElement("br")),f.style.width=s(t)}}e.focus(),(0,o.default)(e,(function(){var t=e.getElementAtCursor();(null==t?void 0:t.style.backgroundColor)&&(0,n.default)(e,"transparent");var r=new i.VTable(d);a=a||{verticalAlign:"top"},r.applyFormat(a||{}),r.writeBack(),e.insertNode(d),e.runAsync((function(e){return e.select(new i.Position(d,0).normalize())}))}),"insertTable")}},"./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t,r){e.focus();var i=e.getSelectionRangeEx(),s=function(e,r){return e.isContentEditable&&t(e,r)};if(i&&i.areAllCollapsed){var a=i.ranges[0].startContainer;"SPAN"==(0,n.getTagOfNode)(a)&&(!a.firstChild||"BR"==(0,n.getTagOfNode)(a.firstChild)&&!a.firstChild.nextSibling)?(e.addUndoSnapshot(),s(a)):(e.triggerPluginEvent(13,{formatState:{},formatCallback:t}),e.triggerContentChangedEvent("Format"))}else(0,o.default)(e,(function(){var t,r;i.ranges.forEach((function(o){var n=e.getSelectionTraverser(o);if(n)for(var i=n&&n.currentInlineElement;i;){var a=n.getNextInlineElement();i.applyStyle((function(e,o){s(e,o),t=t||e,r=e})),i=a}})),t&&r&&0==i.type&&e.select(t,-2,r,-3)}),r)}},"./packages/roosterjs-editor-api/lib/utils/applyListItemWrap.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/utils/applyListItemWrap.ts ***!
  \**********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/applyInlineStyle */"./packages/roosterjs-editor-api/lib/utils/applyInlineStyle.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t,r,i){var s=[];(0,o.default)(e,(function(t,o){r(t,o);var n=e.getElementAtCursor("LI",t);n&&-1===s.indexOf(n)&&s.push(n)}),i),function(e,t){e.forEach((function(e){(0,n.safeInstanceOf)(e,"HTMLLIElement")&&(0,n.setListItemStyle)(e,t)}))}(s,[t])}},"./packages/roosterjs-editor-api/lib/utils/blockFormat.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/utils/blockFormat.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/commitListChains */"./packages/roosterjs-editor-api/lib/utils/commitListChains.ts"),n=r(/*! ./formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),i=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t,r,s){e.focus();var a=e.getSelectionRangeEx();(0,n.default)(e,(function(n,s){if(!r||r()){var l=e.getSelectedRegions();if(l.length>0){var d=i.VListChain.createListChains(l,null==n?void 0:n.node);l.forEach((function(e){return t(e,n,s,d)})),(0,o.default)(e,d)}}0==a.type&&n&&s?e.select(n,s):e.select(a)}),s)}},"./packages/roosterjs-editor-api/lib/utils/blockWrap.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/utils/blockWrap.ts ***!
  \**************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./blockFormat */"./packages/roosterjs-editor-api/lib/utils/blockFormat.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t,r,i){(0,o.default)(e,(function(e){var r=(0,n.getSelectedBlockElementsInRegion)(e,!0),o=(0,n.collapseNodesInRegion)(e,r);if(o.length>0){if(1==o.length){var i=(0,n.getTagOfNode)(o[0]);"BR"==i?o=[(0,n.wrap)(o[0])]:"LI"!=i&&"TD"!=i||(o=(0,n.toArray)(o[0].childNodes))}for(;o[0]&&o[0].parentNode&&(0,n.isNodeInRegion)(e,o[0].parentNode)&&o.some((function(e){return"LI"==(0,n.getTagOfNode)(e)}));){var s=(0,n.splitBalancedNodeRange)(o);o=s?[s]:[]}t(o)}}),r,i)}},"./packages/roosterjs-editor-api/lib/utils/collapseSelectedBlocks.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/utils/collapseSelectedBlocks.ts ***!
  \***************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");function n(e){var t=e.getStartNode();return t==e.getEndNode()&&3==t.nodeType&&["TR","TABLE"].indexOf((0,o.getTagOfNode)(t.parentNode))>=0}t.default=function(e,t){var r=e.getSelectionTraverser();if(r){for(var o=r.currentBlockElement,i=[];o;)n(o)||i.push(o),o=r.getNextBlockElement();i.forEach((function(e){var r=e.collapseToSingleElement();t(r)}))}}},"./packages/roosterjs-editor-api/lib/utils/commitListChains.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/utils/commitListChains.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.experimentCommitListChains=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");function n(e,t){if((null==t?void 0:t.length)>0){var r=e.getSelectionRange(),n=r&&o.Position.getStart(r),i=r&&o.Position.getEnd(r),s=e.isFeatureEnabled("ReuseAllAncestorListElements"),a=e.isFeatureEnabled("DisableListChain");t.forEach((function(e){return e.commit(s,a)})),n&&i&&e.select(n,i)}}t.default=n,t.experimentCommitListChains=n},"./packages/roosterjs-editor-api/lib/utils/execCommand.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/utils/execCommand.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./formatUndoSnapshot */"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t,r){e.focus();var i=function(){return e.getDocument().execCommand(t,!1,void 0)},s=e.getSelectionRangeEx();if(s&&s.areAllCollapsed){e.addUndoSnapshot();var a=e.getPendableFormatState(!1);i();var l=(0,n.getObjectKeys)(n.PendableFormatCommandMap).filter((function(e){return n.PendableFormatCommandMap[e]==t}))[0];l&&(a[l]=!a[l],e.triggerPluginEvent(13,{formatState:a}))}else(0,o.default)(e,(function(){var t=0!=s.type;s.ranges.forEach((function(r){t&&e.select(r),i()})),t&&e.select(s)}),r)}},"./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts":
/*!***********************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/utils/formatUndoSnapshot.ts ***!
  \***********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){e.addUndoSnapshot(t,"Format",void 0,r&&""!=r?{formatApiName:r}:void 0)}},"./packages/roosterjs-editor-api/lib/utils/normalizeBlockquote.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/utils/normalizeBlockquote.ts ***!
  \************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t){if((0,o.safeInstanceOf)(e,"HTMLElement")){var r=e.style.textAlign,n=(0,o.findClosestElementAncestor)(e,void 0,"blockquote");if(!n)return;var i=(s=e,"rtl"==(0,o.getComputedStyle)(s,"direction")||"rtl"==s.getAttribute("dir"));if(t){if(t.indexOf(n)>-1)return;t.push(n)}for(;n;)"center"==r?i?(n.style.removeProperty("marginInlineEnd"),n.style.marginInlineStart="auto"):(n.style.removeProperty("marginInlineStart"),n.style.marginInlineEnd="auto"):(n.style.removeProperty("marginInlineEnd"),n.style.removeProperty("marginInlineStart")),n=(0,o.findClosestElementAncestor)(n.parentElement,void 0,"blockquote")}var s}},"./packages/roosterjs-editor-api/lib/utils/toggleListType.ts":
/*!*******************************************************************!*\
  !*** ./packages/roosterjs-editor-api/lib/utils/toggleListType.ts ***!
  \*******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/blockFormat */"./packages/roosterjs-editor-api/lib/utils/blockFormat.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t,r,i,s,a,l){void 0===r&&(r=0),void 0===i&&(i=!0),(0,o.default)(e,(function(o,l,d,u){var c,p,f=r>0&&u.filter((function(e){return e.canAppendAtCursor(r)}))[0],g=null===(p=(0,n.getBlockElementAtNode)(o.rootNode,null!==(c=null==l?void 0:l.node)&&void 0!==c?c:null))||void 0===p?void 0:p.collapseToSingleElement();if(g){var m=f&&d&&(null==l?void 0:l.equalTo(d))?f.createVListAtBlock(g,r):(0,n.createVListFromRegion)(o,1!==r&&i);m&&l&&d&&(m.changeListType(l,d,t),m.setListStyleType(s,a),function(e){var t=null==e?void 0:e.rootList;if(t)return 0===t.childElementCount;return!1}(m)&&m.removeMargins(),m.writeBack(e.isFeatureEnabled("ReuseAllAncestorListElements"),e.isFeatureEnabled("DisableListChain")))}}),void 0,l||"toggleListType")}},"./packages/roosterjs-editor-core/lib/coreApi/addUndoSnapshot.ts":
/*!***********************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/addUndoSnapshot.ts ***!
  \***********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addUndoSnapshot=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");function i(e,t,r){var i;if(!e.lifecycle.shadowEditFragment){var s=e.api.getSelectionRangeEx(e),a=e.lifecycle.isDarkMode,l=function(e,t,r){switch(null==t?void 0:t.type){case 1:return(0,o.__assign)({type:1,tableId:t.table.id,isDarkMode:!!r},t.coordinates);case 2:return{type:2,imageId:t.image.id,isDarkMode:!!r};case 0:return(0,o.__assign)({type:0,isDarkMode:!!r,start:[],end:[]},(0,n.getSelectionPath)(e,t.ranges[0])||{})}}(e.contentDiv,s,a)||null;e.undo.snapshotsService.addSnapshot({html:e.contentDiv.innerHTML,metadata:l,knownColors:(null===(i=e.darkColorHandler)||void 0===i?void 0:i.getKnownColorsCopy())||[],entityStates:r},t),e.undo.hasNewContent=!1}}t.addUndoSnapshot=function(e,t,r,o,s){var a,l,d,u=e.undo,c=u.isNested;c||(u.isNested=!0,!e.undo.hasNewContent&&(null==s?void 0:s.getEntityState)&&t||i(e,o,null===(a=null==s?void 0:s.getEntityState)||void 0===a?void 0:a.call(s)));try{var p;if(t)if(d=t((p=e.api.getSelectionRange(e,!0))&&n.Position.getStart(p).normalize(),p&&n.Position.getEnd(p).normalize()),!c)i(e,!1,null===(l=null==s?void 0:s.getEntityState)||void 0===l?void 0:l.call(s))}finally{c||(u.isNested=!1)}if(t&&r){var f={eventType:7,source:r,data:d,additionalData:s};e.api.triggerEvent(e,f,!0)}o&&((p=e.api.getSelectionRange(e,!1))&&(e.undo.hasNewContent=!1,e.undo.autoCompletePosition=n.Position.getStart(p)))}},"./packages/roosterjs-editor-core/lib/coreApi/attachDomEvent.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/attachDomEvent.ts ***!
  \**********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachDomEvent=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.attachDomEvent=function(e,t){var r=(0,o.getObjectKeys)(t||{}).map((function(r){var o=function(e){var t={pluginEventType:null,beforeDispatch:null};"number"==typeof e?t.pluginEventType=e:"function"==typeof e?t.beforeDispatch=e:"object"==typeof e&&(t=e);return t}(t[r]),n=o.pluginEventType,i=o.beforeDispatch,s=r,a=function(t){i&&i(t),null!=n&&e.api.triggerEvent(e,{eventType:n,rawEvent:t},!1)};return e.contentDiv.addEventListener(s,a),function(){e.contentDiv.removeEventListener(s,a)}}));return function(){return r.forEach((function(e){return e()}))}}},"./packages/roosterjs-editor-core/lib/coreApi/coreApiMap.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/coreApiMap.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coreApiMap=void 0;var o=r(/*! ./addUndoSnapshot */"./packages/roosterjs-editor-core/lib/coreApi/addUndoSnapshot.ts"),n=r(/*! ./attachDomEvent */"./packages/roosterjs-editor-core/lib/coreApi/attachDomEvent.ts"),i=r(/*! ./createPasteFragment */"./packages/roosterjs-editor-core/lib/coreApi/createPasteFragment.ts"),s=r(/*! ./ensureTypeInContainer */"./packages/roosterjs-editor-core/lib/coreApi/ensureTypeInContainer.ts"),a=r(/*! ./focus */"./packages/roosterjs-editor-core/lib/coreApi/focus.ts"),l=r(/*! ./getContent */"./packages/roosterjs-editor-core/lib/coreApi/getContent.ts"),d=r(/*! ./getPendableFormatState */"./packages/roosterjs-editor-core/lib/coreApi/getPendableFormatState.ts"),u=r(/*! ./getSelectionRange */"./packages/roosterjs-editor-core/lib/coreApi/getSelectionRange.ts"),c=r(/*! ./getSelectionRangeEx */"./packages/roosterjs-editor-core/lib/coreApi/getSelectionRangeEx.ts"),p=r(/*! ./getStyleBasedFormatState */"./packages/roosterjs-editor-core/lib/coreApi/getStyleBasedFormatState.ts"),f=r(/*! ./hasFocus */"./packages/roosterjs-editor-core/lib/coreApi/hasFocus.ts"),g=r(/*! ./insertNode */"./packages/roosterjs-editor-core/lib/coreApi/insertNode.ts"),m=r(/*! ./restoreUndoSnapshot */"./packages/roosterjs-editor-core/lib/coreApi/restoreUndoSnapshot.ts"),v=r(/*! ./select */"./packages/roosterjs-editor-core/lib/coreApi/select.ts"),h=r(/*! ./selectImage */"./packages/roosterjs-editor-core/lib/coreApi/selectImage.ts"),b=r(/*! ./selectRange */"./packages/roosterjs-editor-core/lib/coreApi/selectRange.ts"),y=r(/*! ./selectTable */"./packages/roosterjs-editor-core/lib/coreApi/selectTable.ts"),E=r(/*! ./setContent */"./packages/roosterjs-editor-core/lib/coreApi/setContent.ts"),C=r(/*! ./switchShadowEdit */"./packages/roosterjs-editor-core/lib/coreApi/switchShadowEdit.ts"),k=r(/*! ./transformColor */"./packages/roosterjs-editor-core/lib/coreApi/transformColor.ts"),S=r(/*! ./triggerEvent */"./packages/roosterjs-editor-core/lib/coreApi/triggerEvent.ts");t.coreApiMap={attachDomEvent:n.attachDomEvent,addUndoSnapshot:o.addUndoSnapshot,createPasteFragment:i.createPasteFragment,ensureTypeInContainer:s.ensureTypeInContainer,focus:a.focus,getContent:l.getContent,getSelectionRange:u.getSelectionRange,getSelectionRangeEx:c.getSelectionRangeEx,getStyleBasedFormatState:p.getStyleBasedFormatState,getPendableFormatState:d.getPendableFormatState,hasFocus:f.hasFocus,insertNode:g.insertNode,restoreUndoSnapshot:m.restoreUndoSnapshot,select:v.select,selectRange:b.selectRange,setContent:E.setContent,switchShadowEdit:C.switchShadowEdit,transformColor:k.transformColor,triggerEvent:S.triggerEvent,selectTable:y.selectTable,selectImage:h.selectImage}},"./packages/roosterjs-editor-core/lib/coreApi/createPasteFragment.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/createPasteFragment.ts ***!
  \***************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPasteFragment=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.createPasteFragment=function(e,t,r,n,i,s){if(void 0===s&&(s=!1),!t)return null;var a=function(e,t,r){var n=(0,o.createDefaultHtmlSanitizerOptions)();return n.cssStyleCallbacks["caret-color"]=function(){return!1},{eventType:10,clipboardData:t,fragment:e.contentDiv.ownerDocument.createDocumentFragment(),sanitizingOption:n,htmlBefore:"",htmlAfter:"",htmlAttributes:{},pasteType:r}}(e,t,(0,o.getPasteType)(n,i,s));return function(e,t,r,n,i,s,a){var l=a.fragment,d=t.rawHtml,u=t.text,c=t.imageDataUri,p=d?(new DOMParser).parseFromString(e.trustedHTMLHandler(d),"text/html"):void 0;if((0,o.retrieveMetadataFromClipboard)(p,a,e.trustedHTMLHandler),s&&c||!n&&!u&&c)(0,o.handleImagePaste)(c,l);else if(!n&&d&&p&&p.body){if((0,o.moveChildNodes)(l,null==p?void 0:p.body),i&&r){var f=function(e,t){var r=e.api.getPendableFormatState(e,!0),o=e.api.getStyleBasedFormatState(e,t);return{fontFamily:o.fontName,fontSize:o.fontSize,textColor:o.textColor,backgroundColor:o.backgroundColor,textColors:o.textColors,backgroundColors:o.backgroundColors,bold:r.isBold,italic:r.isItalic,underline:r.isUnderline}}(e,r.node);(0,o.applyTextStyle)(l,(function(e){return(0,o.applyFormat)(e,f)}))}}else u&&(0,o.handleTextPaste)(u,r,l);1!==a.pasteType&&e.api.triggerEvent(e,a,!0);return(0,o.sanitizePasteContent)(a,r),l}(e,t,r,n,i,s,a)}},"./packages/roosterjs-editor-core/lib/coreApi/ensureTypeInContainer.ts":
/*!*****************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/ensureTypeInContainer.ts ***!
  \*****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureTypeInContainer=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.ensureTypeInContainer=function(e,t,r){var n,i=(0,o.findClosestElementAncestor)(t.node,e.contentDiv,"table");i&&(n=i.querySelector("td,th"))&&(t=new o.Position(n,0)),t=t.normalize();var s,a=(0,o.getBlockElementAtNode)(e.contentDiv,t.node);if(a){if(s=a.collapseToSingleElement(),(0,o.isNodeEmpty)(s,!1,!0)){var l=s.ownerDocument.createElement("br");s.append(l)}var d=(0,o.isNodeEmpty)(s)||r&&function(e,t){return(0,o.safeInstanceOf)(e.target,"Node")&&e.target.contains(t)&&e.key===t.innerText}(r,s);s=s&&d?s:null}else s=(0,o.createElement)(1,e.contentDiv.ownerDocument),e.api.insertNode(e,s,{position:1,updateCursor:!1,replaceSelection:!1,insertOnNewLine:!1}),t=new o.Position(s,0);s&&e.lifecycle.defaultFormat&&(0,o.applyFormat)(s,e.lifecycle.defaultFormat,e.lifecycle.isDarkMode,e.darkColorHandler),r&&e.api.selectRange(e,(0,o.createRange)(new o.Position(t)))}},"./packages/roosterjs-editor-core/lib/coreApi/focus.ts":
/*!*************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/focus.ts ***!
  \*************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.focus=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.focus=function(e){if(!e.lifecycle.shadowEditFragment){if(!(e.api.hasFocus(e)&&e.api.getSelectionRange(e,!1)||e.domEvent.selectionRange&&e.api.selectRange(e,e.domEvent.selectionRange,!0))){var t=(0,o.getFirstLeafNode)(e.contentDiv)||e.contentDiv;e.api.selectRange(e,(0,o.createRange)(t,0),!0)}o.Browser.isSafari||(e.domEvent.selectionRange=null),e.api.hasFocus(e)||e.contentDiv.focus()}}},"./packages/roosterjs-editor-core/lib/coreApi/getContent.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/getContent.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContent=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.getContent=function(e,t){var r="",n=0==t,i=2==t,s=e.lifecycle.shadowEditFragment||e.contentDiv;if(4==t)r=s.textContent;else if(3==t)r=(0,o.getTextContent)(s);else{var a=function(e){var t;(0,o.safeInstanceOf)(e,"DocumentFragment")?(t=e.ownerDocument.createElement("div")).appendChild(e.cloneNode(!0)):t=e.cloneNode(!0);return t}(s);a.normalize();var l=e.api.getSelectionRange(e,!0),d=i?e.lifecycle.shadowEditFragment?e.lifecycle.shadowEditSelectionPath:l?(0,o.getSelectionPath)(e.contentDiv,l):null:null,u=d&&(0,o.createRange)(a,d.start,d.end);e.api.transformColor(e,a,!1,null,1,!0,e.lifecycle.isDarkMode),n?(e.api.triggerEvent(e,{eventType:8,clonedRoot:a},!0),r=a.innerHTML):r=u?(0,o.getHtmlWithSelectionPath)(a,u):a.innerHTML}return null!=r?r:""}},"./packages/roosterjs-editor-core/lib/coreApi/getPendableFormatState.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/getPendableFormatState.ts ***!
  \******************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPendableFormatState=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.getPendableFormatState=function(e,t){var r,s=e.api.getSelectionRange(e,!0),a=e.pendingFormatState.pendableFormatState,l=null===(r=e.pendingFormatState.pendableFormatPosition)||void 0===r?void 0:r.normalize(),d=s&&o.Position.getStart(s).normalize(),u=d&&l&&s.collapsed&&d.equalTo(l);return s&&a&&u&&!t?a:d?function(e,t){var r=t.node,s={},a=[],l=function(){var e=(0,o.getTagOfNode)(r),t=1==r.nodeType&&r.style;e&&t&&(0,o.getObjectKeys)(n).forEach((function(r){a.indexOf(r)>=0||(s[r]=s[r]||n[r](e,t),i[r](t)&&a.push(r))})),r=r.parentNode};for(;r&&(0,o.contains)(e.contentDiv,r);)l();return s}(e,d):{}};var n={isBold:function(e,t){return"B"==e||"STRONG"==e||"H1"==e||"H2"==e||"H3"==e||"H4"==e||"H5"==e||"H6"==e||parseInt(t.fontWeight)>=700||["bold","bolder"].indexOf(t.fontWeight)>=0},isUnderline:function(e,t){return"U"==e||t.textDecoration.indexOf("underline")>=0},isItalic:function(e,t){return"I"==e||"EM"==e||"italic"===t.fontStyle},isSubscript:function(e,t){return"SUB"==e||"sub"===t.verticalAlign},isSuperscript:function(e,t){return"SUP"==e||"super"===t.verticalAlign},isStrikeThrough:function(e,t){return"S"==e||"STRIKE"==e||t.textDecoration.indexOf("line-through")>=0}},i={isBold:function(e){return""!==e.fontWeight&&parseInt(e.fontWeight)<700||"normal"===e.fontWeight},isUnderline:function(e){return""!==e.textDecoration&&e.textDecoration.indexOf("underline")<0},isItalic:function(e){return""!==e.fontStyle&&"italic"!==e.fontStyle},isSubscript:function(e){return""!==e.verticalAlign&&"sub"!==e.verticalAlign},isSuperscript:function(e){return""!==e.verticalAlign&&"super"!==e.verticalAlign},isStrikeThrough:function(e){return""!==e.textDecoration&&e.textDecoration.indexOf("line-through")<0}}},"./packages/roosterjs-editor-core/lib/coreApi/getSelectionRange.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/getSelectionRange.ts ***!
  \*************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectionRange=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.getSelectionRange=function(e,t){var r,n=null;if(e.lifecycle.shadowEditFragment)return n=e.lifecycle.shadowEditSelectionPath&&(0,o.createRange)(e.contentDiv,e.lifecycle.shadowEditSelectionPath.start,e.lifecycle.shadowEditSelectionPath.end);if(!t||e.api.hasFocus(e)){var i=null===(r=e.contentDiv.ownerDocument.defaultView)||void 0===r?void 0:r.getSelection();if(i&&i.rangeCount>0){var s=i.getRangeAt(0);(0,o.contains)(e.contentDiv,s)&&(n=s)}}return!n&&t&&(n=e.domEvent.selectionRange),n}},"./packages/roosterjs-editor-core/lib/coreApi/getSelectionRangeEx.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/getSelectionRangeEx.ts ***!
  \***************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectionRangeEx=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");function n(e){return{type:0,ranges:e,areAllCollapsed:i(e)}}function i(e){return e.filter((function(e){return null==e?void 0:e.collapsed})).length==e.length}t.getSelectionRangeEx=function(e){var t,r,s;if(e.lifecycle.shadowEditFragment){var a,l=e.lifecycle,d=l.shadowEditTableSelectionPath,u=l.shadowEditSelectionPath,c=l.shadowEditImageSelectionPath;if(((null==d?void 0:d.length)||0)>0)return{type:1,ranges:a=e.lifecycle.shadowEditTableSelectionPath.map((function(t){return(0,o.createRange)(e.contentDiv,t.start,t.end)})),areAllCollapsed:i(a),table:(0,o.findClosestElementAncestor)(a[0].startContainer,e.contentDiv,"table"),coordinates:void 0};if(((null==c?void 0:c.length)||0)>0)return{type:2,ranges:a=e.lifecycle.shadowEditImageSelectionPath.map((function(t){return(0,o.createRange)(e.contentDiv,t.start,t.end)})),areAllCollapsed:i(a),image:(0,o.findClosestElementAncestor)(a[0].startContainer,e.contentDiv,"img"),imageId:void 0};var p=u&&(0,o.createRange)(e.contentDiv,u.start,u.end);return n(p?[p]:[])}if(e.api.hasFocus(e)){if(e.domEvent.tableSelectionRange)return e.domEvent.tableSelectionRange;if(e.domEvent.imageSelectionRange)return e.domEvent.imageSelectionRange;var f=null===(t=e.contentDiv.ownerDocument.defaultView)||void 0===t?void 0:t.getSelection();if(f&&f.rangeCount>0){var g=f.getRangeAt(0);if((0,o.contains)(e.contentDiv,g))return n([g])}}return null!==(s=null!==(r=e.domEvent.tableSelectionRange)&&void 0!==r?r:e.domEvent.imageSelectionRange)&&void 0!==s?s:n(e.domEvent.selectionRange?[e.domEvent.selectionRange]:[])}},"./packages/roosterjs-editor-core/lib/coreApi/getStyleBasedFormatState.ts":
/*!********************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/getStyleBasedFormatState.ts ***!
  \********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStyleBasedFormatState=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.getStyleBasedFormatState=function(e,t){if(!t)return{};var r=[],n=e.pendingFormatState.pendableFormatSpan;n&&(r=[n.style.fontFamily,n.style.fontSize,n.style.color,n.style.backgroundColor]);for(var i,s,a=t?(0,o.getComputedStyles)(t,["font-family","font-size","color","background-color","line-height","margin-top","margin-bottom","text-align","direction","font-weight"]):[],l=e.contentDiv,d=e.darkColorHandler;t&&(0,o.contains)(l,t,!0)&&(!i||!s);){if(1==t.nodeType){var u=t;i=i||u.style.getPropertyValue("color"),s=s||u.style.getPropertyValue("background-color")}t=t.parentNode}e.lifecycle.isDarkMode||t!=e.contentDiv||(i=i||a[2],s=s||a[3]);var c=d.parseColorValue(r[2]||i),p=d.parseColorValue(r[3]||s);return{fontName:r[0]||a[0],fontSize:r[1]||a[1],textColor:c.lightModeColor,backgroundColor:p.lightModeColor,textColors:c.darkModeColor?{lightModeColor:c.lightModeColor,darkModeColor:c.darkModeColor}:void 0,backgroundColors:p.darkModeColor?{lightModeColor:p.lightModeColor,darkModeColor:p.darkModeColor}:void 0,lineHeight:a[4],marginTop:a[5],marginBottom:a[6],textAlign:a[7],direction:a[8],fontWeight:a[9]}}},"./packages/roosterjs-editor-core/lib/coreApi/hasFocus.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/hasFocus.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasFocus=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.hasFocus=function(e){var t=e.contentDiv.ownerDocument.activeElement;return!(!t||!(0,o.contains)(e.contentDiv,t,!0))}},"./packages/roosterjs-editor-core/lib/coreApi/insertNode.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/insertNode.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertNode=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.insertNode=function(e,t,r){var n;r=r||{position:3,insertOnNewLine:!1,updateCursor:!0,replaceSelection:!0,insertToRegionRoot:!1};var i=e.contentDiv;return r.updateCursor&&e.api.focus(e),4==r.position?(null===(n=i.parentNode)||void 0===n||n.insertBefore(t,i.nextSibling),!0):(e.api.transformColor(e,t,!0,(function(){var n,s;if(r)switch(r.position){case 0:case 1:var a,l=0==r.position,d=(0,o.getFirstLastBlockElement)(i,l);if(d){var u=l?d.getStartNode():d.getEndNode();r.insertOnNewLine||3==u.nodeType||(0,o.isVoidHtmlElement)(u)?(0,o.safeInstanceOf)(t,"DocumentFragment")?(a=(0,o.toArray)(t.childNodes),null===(n=u.parentNode)||void 0===n||n.insertBefore(t,l?u:u.nextSibling)):a=null===(s=u.parentNode)||void 0===s?void 0:s.insertBefore(t,l?u:u.nextSibling):a=u.insertBefore(t,l?u.firstChild:null)}else a=i.appendChild(t);if(a&&r.insertOnNewLine){var c=Array.isArray(a)?a:[a];(0,o.isBlockElement)(c[0])&&(0,o.isBlockElement)(c[c.length-1])||(0,o.wrap)(c)}break;case 2:var p=i.appendChild(t);p&&r.insertOnNewLine&&!(0,o.isBlockElement)(p)&&(0,o.wrap)(p);break;case 5:case 3:var f=function(e,t){var r=e.api.getSelectionRange(e,!0),o=null;return 5==t.position?(o=r,r=t.range):r&&(o=r.cloneRange()),{range:r,rangeToRestore:o}}(e,r),g=f.range,m=f.rangeToRestore;if(!g)return;r.replaceSelection&&!g.collapsed&&g.deleteContents();var v=o.Position.getStart(g),h=void 0;v=r.insertOnNewLine&&r.insertToRegionRoot?function(e,t,r){var n=(0,o.getRegionsFromRange)(e.contentDiv,t,0)[0],i=r.node;if(n){if(3!=i.nodeType||r.isAtEnd||(i=(0,o.splitTextNode)(i,r.offset,!0)),i!=n.rootNode)for(;i&&i.parentNode!=n.rootNode;)(0,o.splitParentNode)(i,!1),i=i.parentNode;i&&(r=new o.Position(i,-3))}return r}(e,g,v):r.insertOnNewLine&&(h=(0,o.getBlockElementAtNode)(i,v.normalize().node))?function(e,t,r){var n=new o.Position(e.getEndNode(),-3);if((0,o.safeInstanceOf)(n.node,"HTMLTableRowElement")){var i=t.contentDiv.ownerDocument.createElement("div");(0,o.createRange)(r).insertNode(i),n=new o.Position(i,0)}return n}(h,e,v):(0,o.adjustInsertPosition)(i,t,v,g);var b=11==t.nodeType?t.lastChild:t;(g=(0,o.createRange)(v)).insertNode(t),r.updateCursor&&b&&(m=(0,o.createRange)(new o.Position(b,-3).normalize())),m&&e.api.selectRange(e,m)}}),0),!0)}},"./packages/roosterjs-editor-core/lib/coreApi/restoreUndoSnapshot.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/restoreUndoSnapshot.ts ***!
  \***************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restoreUndoSnapshot=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.restoreUndoSnapshot=function(e,t){var r,n;e.undo.hasNewContent&&t<0&&e.api.addUndoSnapshot(e,null,null,!1);var i=e.undo.snapshotsService.move(t);if(i&&null!=i.html)try{e.undo.isRestoring=!0,e.api.setContent(e,i.html,!0,null!==(r=i.metadata)&&void 0!==r?r:void 0);var s=e.darkColorHandler,a=e.lifecycle.isDarkMode;i.knownColors.forEach((function(e){s.registerColor(e.lightModeColor,a,e.darkModeColor)})),null===(n=i.entityStates)||void 0===n||n.forEach((function(t){var r=t.type,n=t.id,i=t.state,s=(0,o.queryElements)(e.contentDiv,(0,o.getEntitySelector)(r,n))[0],a=s&&(0,o.getEntityFromElement)(s);a&&e.api.triggerEvent(e,{eventType:15,operation:11,entity:a,state:i},!1)}))}finally{e.undo.isRestoring=!1}}},"./packages/roosterjs-editor-core/lib/coreApi/select.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/select.ts ***!
  \**************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.select=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.select=function(e,t,r,n,i){var s=function(e,t,r,n,i){var s=null;if(function(e){var t=e;return t&&"object"==typeof t&&"number"==typeof t.type&&Array.isArray(t.ranges)}(t))s=t;else if((0,o.safeInstanceOf)(t,"HTMLTableElement")&&(l=r,d=l,null===d||d&&"object"==typeof d&&"object"==typeof d.firstCell&&"object"==typeof d.lastCell))s={type:1,ranges:[],areAllCollapsed:!1,table:t,coordinates:null!=r?r:void 0};else if((0,o.safeInstanceOf)(t,"HTMLImageElement")&&void 0===r)s={type:2,ranges:[],areAllCollapsed:!1,image:t};else{var a=t?(0,o.safeInstanceOf)(t,"Range")?t:function(e){var t=e;return t&&"object"==typeof t&&Array.isArray(t.start)&&Array.isArray(t.end)}(t)?(0,o.createRange)(e.contentDiv,t.start,t.end):function(e){var t=e;return t&&"object"==typeof t&&"object"==typeof t.node&&"number"==typeof t.offset}(t)||(0,o.safeInstanceOf)(t,"Node")?(0,o.createRange)(t,r,n,i):null:null;s=a?{type:0,ranges:[a],areAllCollapsed:a.collapsed}:null}var l,d;return s}(e,t,r,n,i);if(s){var a=e.domEvent.skipReselectOnFocus;e.domEvent.skipReselectOnFocus=!0;try{!function(e,t){switch(null==t?void 0:t.type){case 1:(0,o.contains)(e.contentDiv,t.table)&&(e.domEvent.imageSelectionRange=e.api.selectImage(e,null),e.domEvent.tableSelectionRange=e.api.selectTable(e,t.table,t.coordinates),t=e.domEvent.tableSelectionRange);break;case 2:(0,o.contains)(e.contentDiv,t.image)&&(e.domEvent.tableSelectionRange=e.api.selectTable(e,null),e.domEvent.imageSelectionRange=e.api.selectImage(e,t.image),t=e.domEvent.imageSelectionRange);break;case 0:e.domEvent.tableSelectionRange=e.api.selectTable(e,null),e.domEvent.imageSelectionRange=e.api.selectImage(e,null),(0,o.contains)(e.contentDiv,t.ranges[0])?e.api.selectRange(e,t.ranges[0]):t=null}e.api.triggerEvent(e,{eventType:22,selectionRangeEx:t},!0)}(e,s)}finally{e.domEvent.skipReselectOnFocus=a}}else e.domEvent.tableSelectionRange=e.api.selectTable(e,null),e.domEvent.imageSelectionRange=e.api.selectImage(e,null);return!!s}},"./packages/roosterjs-editor-core/lib/coreApi/selectImage.ts":
/*!*******************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/selectImage.ts ***!
  \*******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectImage=void 0;var o=r(/*! ./utils/addUniqueId */"./packages/roosterjs-editor-core/lib/coreApi/utils/addUniqueId.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i="imageStyle";t.selectImage=function(e,t){l(e);var r=null;if(t){var i=(0,n.createRange)(t);(0,o.default)(t,"imageSelected"),(0,o.default)(e.contentDiv,"contentDiv_"),e.api.selectRange(e,(0,n.createRange)(new n.Position(t,-3))),s(e,t),r={type:2,ranges:[i],image:t,areAllCollapsed:i.collapsed}}return r};var s=function(e,t){(0,n.removeImportantStyleRule)(t,["border","margin"]);var r=a(e,t.id);(0,n.setGlobalCssStyles)(e.contentDiv.ownerDocument,r,i+e.contentDiv.id)},a=function(e,t){return"#"+e.contentDiv.id+" #"+t+" {outline-style: auto!important;outline-color: "+(e.imageSelectionBorderColor||"#DB626C")+"!important;caret-color: transparent!important;}"},l=function(e){var t=e.contentDiv.ownerDocument;(0,n.removeGlobalCssStyle)(t,i+e.contentDiv.id)}},"./packages/roosterjs-editor-core/lib/coreApi/selectRange.ts":
/*!*******************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/selectRange.ts ***!
  \*******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectRange=void 0;var o=r(/*! ./hasFocus */"./packages/roosterjs-editor-core/lib/coreApi/hasFocus.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.selectRange=function(e,t,r){return!(e.lifecycle.shadowEditSelectionPath||!(0,n.contains)(e.contentDiv,t))&&((0,n.addRangeToSelection)(t,r),(0,o.hasFocus)(e)||(e.domEvent.selectionRange=t),t.collapsed&&function(e){var t=e.contentDiv,r=e.pendingFormatState,o=e.api.getSelectionRange;if(r.pendableFormatState){var i=t.ownerDocument,s=(0,n.getPendableFormatState)(i);(0,n.getObjectKeys)(n.PendableFormatCommandMap).forEach((function(e){var t;!!(null===(t=r.pendableFormatState)||void 0===t?void 0:t[e])!=s[e]&&i.execCommand(n.PendableFormatCommandMap[e],!1,void 0)}));var a=o(e,!0),l=a&&n.Position.getStart(a);l&&(r.pendableFormatPosition=l)}}(e),!0)}},"./packages/roosterjs-editor-core/lib/coreApi/selectTable.ts":
/*!*******************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/selectTable.ts ***!
  \*******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectTable=void 0;var o=r(/*! ./utils/addUniqueId */"./packages/roosterjs-editor-core/lib/coreApi/utils/addUniqueId.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i="tableStyle",s="{background-color: rgb(198,198,198) !important; caret-color: transparent}",a=9e3;t.selectTable=function(e,t,r){var p;if(l(e),function(e){if(e){var t=e||{},r=t.firstCell,o=t.lastCell;if(r&&o){var n=function(e){return c(e.x)&&c(e.y)};return n(r)&&n(o)}}return!1}(r)&&t){(0,o.default)(t,"tableSelected"),(0,o.default)(e.contentDiv,"contentDiv_");var f=function(e,t,r){var o="#"+e.contentDiv.id,l=function(e,t,r){var o,i=[],l=[],c=new n.VTable(e),p=(0,n.isWholeTableSelected)(c,t);p?function(e,t,r,o){var n=t.table,i=e+" #"+n.id;r.push(i,i+" *");var s=new Range;s.selectNode(n),o.push(s)}(r,c,l,i):function(e,t,r,o,i){var s,a=e.firstCell.y,l=e.firstCell.x,c=e.lastCell.y,p=e.lastCell.x,f=t.table,g=null,m=null,v=(0,n.toArray)(f.childNodes).filter((function(e){return["THEAD","TBODY","TFOOT"].indexOf((0,n.getTagOfNode)(e))>-1})),h=0,b=v.map((function(e){var t={el:(0,n.getTagOfNode)(e),start:h,end:e.childNodes.length+h};return h=t.end,t}));null===(s=t.cells)||void 0===s||s.forEach((function(e,t){var s=0;g=null,m=null;for(var v=b.filter((function(e){return e.start<=t&&e.end>t}))[0],h=v?">"+v.el+">":">",y=v&&t+1>=v.start?t+1-v.start:t+1,E=0;E<e.length;E++){var C=e[E].td;if(C&&(s++,t>=a&&t<=c&&E>=l&&E<=p)){u(C);var k=d(r,f.id,h,y,(0,n.getTagOfNode)(C),s),S=k+" *";o.push(k,S),g=g||f.querySelector(k),m=f.querySelector(k)}}if(g&&m){var j=new Range;j.setStartBefore(g),j.setEndAfter(m),i.push(j)}}))}(t,c,r,l,i);var f=[],g="";for(;l.length>0;)((g+=(g.length>0?",":"")+l.shift()||"").length+((null===(o=l[0])||void 0===o?void 0:o.length)||0)>a||0==l.length)&&(f.push(g+" "+s),g="");return{cssRules:f,ranges:i,isWholeTableSelected:p}}(t,r,o),c=l.cssRules,p=l.ranges,f=l.isWholeTableSelected;return c.forEach((function(t){return(0,n.setGlobalCssStyles)(e.contentDiv.ownerDocument,t,i+e.contentDiv.id)})),{ranges:p,isWholeTableSelected:f}}(e,t,r),g=f.ranges,m=f.isWholeTableSelected;if(!function(e,t){var r,o=t.firstCell;return!(e.rows.item(o.y)&&(null===(r=e.rows.item(o.y))||void 0===r?void 0:r.cells.item(o.x)))}(t,r)){var v=null===(p=t.rows.item(r.firstCell.y))||void 0===p?void 0:p.cells.item(r.firstCell.x);v&&e.api.selectRange(e,(0,n.createRange)(new n.Position(v,0)))}return{type:1,ranges:g,table:t,areAllCollapsed:g.filter((function(e){return null==e?void 0:e.collapsed})).length==g.length,coordinates:r,isWholeTableSelected:m}}return null};var l=function(e){var t=e.contentDiv.ownerDocument;(0,n.removeGlobalCssStyle)(t,i+e.contentDiv.id)};function d(e,t,r,o,n,i){return e+" #"+t+r+" tr:nth-child("+o+")>"+n+":nth-child("+i+")"}function u(e){e&&(0,n.removeImportantStyleRule)(e,["background-color","background"])}function c(e){return(!!e||0==e)&&e>-1}},"./packages/roosterjs-editor-core/lib/coreApi/setContent.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/setContent.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setContent=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.setContent=function(e,t,r,n){var i,s,a=!1;if(e.contentDiv.innerHTML!=t){e.api.triggerEvent(e,{eventType:20,newContent:t},!0);var l=e.entity.entityMap,d=t||"",u=(new DOMParser).parseFromString(null!==(s=null===(i=e.trustedHTMLHandler)||void 0===i?void 0:i.call(e,d))&&void 0!==s?s:d,"text/html").body;(0,o.restoreContentWithEntityPlaceholder)(u,e.contentDiv,l);var c=(0,o.extractContentMetadata)(e.contentDiv);(function(e,t){if(!e.lifecycle.shadowEditSelectionPath&&t)switch(e.domEvent.tableSelectionRange=null,e.domEvent.imageSelectionRange=null,e.domEvent.selectionRange=null,t.type){case 0:e.api.selectTable(e,null),e.api.selectImage(e,null);var r=(0,o.createRange)(e.contentDiv,t.start,t.end);e.api.selectRange(e,r);break;case 1:var n=(0,o.queryElements)(e.contentDiv,"#"+t.tableId)[0];n&&(e.domEvent.tableSelectionRange=e.api.selectTable(e,n,t));break;case 2:var i=(0,o.queryElements)(e.contentDiv,"#"+t.imageId)[0];i&&(e.domEvent.imageSelectionRange=e.api.selectImage(e,i))}})(e,n=n||c),a=!0}var p=e.lifecycle.isDarkMode;(!n&&p||n&&!!n.isDarkMode!=!!p)&&(e.api.transformColor(e,e.contentDiv,!1,null,p?0:1,!0,null==n?void 0:n.isDarkMode),a=!0),r&&a&&e.api.triggerEvent(e,{eventType:7,source:"SetContent"},!1)}},"./packages/roosterjs-editor-core/lib/coreApi/switchShadowEdit.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/switchShadowEdit.ts ***!
  \************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchShadowEdit=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.switchShadowEdit=function(e,t){var r=e.lifecycle,n=e.contentDiv,i=r.shadowEditEntities,s=r.shadowEditFragment,a=r.shadowEditSelectionPath,l=r.shadowEditTableSelectionPath,d=r.shadowEditImageSelectionPath,u=!!s,c=function(e,t){return(null==t?void 0:t.type)==e&&t.ranges.map((function(e){return(0,o.getSelectionPath)(n,e)})).map((function(e){return e}))||null};if(t){if(!u){var p=e.api.getSelectionRangeEx(e),f=e.api.getSelectionRange(e,!0);a=f&&(0,o.getSelectionPath)(n,f),l=c(1,p),d=c(2,p),i={},s=(0,o.moveContentWithEntityPlaceholders)(n,i),e.api.triggerEvent(e,{eventType:17,fragment:s,selectionPath:a},!1),r.shadowEditFragment=s,r.shadowEditSelectionPath=a,r.shadowEditTableSelectionPath=l,r.shadowEditImageSelectionPath=d,r.shadowEditEntities=i}r.shadowEditFragment&&(0,o.restoreContentWithEntityPlaceholder)(r.shadowEditFragment,n,r.shadowEditEntities,!0)}else r.shadowEditFragment=null,r.shadowEditSelectionPath=null,r.shadowEditEntities=null,u&&(e.api.triggerEvent(e,{eventType:18},!1),s&&(0,o.restoreContentWithEntityPlaceholder)(s,n,i),a&&(e.domEvent.selectionRange=(0,o.createRange)(n,a.start,a.end)))}},"./packages/roosterjs-editor-core/lib/coreApi/transformColor.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/transformColor.ts ***!
  \**********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformColor=void 0;function r(e,t,n){n&&o(e)&&t(e);for(var i=e.firstChild;i;i=i.nextSibling)o(i)&&t(i),r(i,t)}function o(e){var t=e;return e.nodeType==Node.ELEMENT_NODE&&!!t.style}t.transformColor=function(e,t,o,n,i,s,a){void 0===a&&(a=!1);var l=e.darkColorHandler,d=e.lifecycle.onExternalContentTransform,u=0==i;t&&(s||e.lifecycle.isDarkMode)&&r(t,d?function(e){d(e,a,u,l)}:function(e){l.transformElementColor(e,a,u)},o);null==n||n()}},"./packages/roosterjs-editor-core/lib/coreApi/triggerEvent.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/triggerEvent.ts ***!
  \********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerEvent=void 0;var r=[11,12,8,21];t.triggerEvent=function(e,t,o){e.lifecycle.shadowEditFragment&&!(r.indexOf(t.eventType)>=0)||!o&&e.plugins.some((function(e){return function(e,t){var r;if(t.onPluginEvent&&(null===(r=t.willHandleEventExclusively)||void 0===r?void 0:r.call(t,e)))return t.onPluginEvent(e),!0;return!1}(t,e)}))||e.plugins.forEach((function(e){e.onPluginEvent&&e.onPluginEvent(t)}))}},"./packages/roosterjs-editor-core/lib/coreApi/utils/addUniqueId.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/coreApi/utils/addUniqueId.ts ***!
  \*************************************************************************/(e,t)=>{"use strict";function r(e,t,r){for(var o=0,n=function(){return r.getElementById(t+o)},i=n();i;)o++,i=n();e.id=t+o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var o=e.ownerDocument;e.id?o.querySelectorAll("#"+e.id).length>1&&(e.removeAttribute("id"),r(e,t,o)):r(e,t,o)}},"./packages/roosterjs-editor-core/lib/corePlugins/CopyPastePlugin.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/CopyPastePlugin.ts ***!
  \***************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./utils/forEachSelectedCell */"./packages/roosterjs-editor-core/lib/corePlugins/utils/forEachSelectedCell.ts"),n=r(/*! ./utils/removeCellsOutsideSelection */"./packages/roosterjs-editor-core/lib/corePlugins/utils/removeCellsOutsideSelection.ts"),i=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),s=function(){function e(e){var t=this;this.editor=null,this.disposer=null,this.onPaste=function(e){var r,o=null;if(t.editor){var n=t.editor;(0,i.extractClipboardEvent)(e,(function(e){n&&!n.isDisposed()&&n.paste(e)}),{allowedCustomPasteType:t.state.allowedCustomPasteType,getTempDiv:function(){var e;return o=null!==(e=n.getSelectionRange())&&void 0!==e?e:null,t.getTempDiv(n)},removeTempDiv:function(e){o&&t.cleanUpAndRestoreSelection(e,o,!1)}},null!==(r=t.editor.getSelectionRange())&&void 0!==r?r:void 0)}},this.state={allowedCustomPasteType:e.allowedCustomPasteType||[]}}return e.prototype.getName=function(){return"CopyPaste"},e.prototype.initialize=function(e){var t=this;this.editor=e,this.disposer=this.editor.addDomEventHandler({paste:function(e){return t.onPaste(e)},copy:function(e){return t.onCutCopy(e,!1)},cut:function(e){return t.onCutCopy(e,!0)}})},e.prototype.dispose=function(){this.disposer&&this.disposer(),this.disposer=null,this.editor=null},e.prototype.getState=function(){return this.state},e.prototype.onCutCopy=function(e,t){var r=this;if(this.editor){var o=this.editor.getSelectionRangeEx();if(o&&!o.areAllCollapsed){var n=this.editor.getContent(2),s=this.getTempDiv(this.editor,!0),a=(0,i.setHtmlWithMetadata)(s,n,this.editor.getTrustedHTMLHandler()),l=null;if(1===o.type&&o.coordinates){var d=s.querySelector("#"+o.table.id);l=this.createTableRange(d,o.coordinates),t&&this.deleteTableContent(this.editor,o.table,o.coordinates)}else if(2===o.type){var u=s.querySelector("#"+o.image.id);u&&(l=(0,i.createRange)(u),t&&this.deleteImage(this.editor,o.image.id))}else l=0===(null==a?void 0:a.type)?(0,i.createRange)(s,a.start,a.end):null;if(l)this.editor.triggerPluginEvent(9,{clonedRoot:s,range:l,rawEvent:e,isCut:t}).range&&(0,i.addRangeToSelection)(l),this.editor.runAsync((function(e){r.cleanUpAndRestoreSelection(s,o,!t),t&&e.addUndoSnapshot((function(){var t=e.deleteSelectedContent();e.focus(),e.select(t)}),"Cut")}))}}},e.prototype.getTempDiv=function(e,t){var r=e.getCustomData("CopyPasteTempDiv",(function(){var t=(0,i.createElement)(3,e.getDocument());return e.getDocument().body.appendChild(t),t}),(function(e){var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)}));return t&&(r.style.backgroundColor="white",r.style.color="black"),r.style.display="",r.focus(),r},e.prototype.cleanUpAndRestoreSelection=function(e,t,r){var o,n,s;if((null===(o=t)||void 0===o?void 0:o.type)||0==t.type){var a=t;switch(a.type){case 1:case 2:null===(n=this.editor)||void 0===n||n.select(a);break;case 0:var l=null===(s=a.ranges)||void 0===s?void 0:s[0];this.restoreRange(l,r)}}else this.restoreRange(t,r);e.style.backgroundColor="",e.style.color="",e.style.display="none",(0,i.moveChildNodes)(e)},e.prototype.restoreRange=function(e,t){e&&this.editor&&(t&&i.Browser.isAndroid&&e.collapse(),this.editor.select(e))},e.prototype.createTableRange=function(e,t){var r=new i.VTable(e);return r.selection=t,(0,n.removeCellsOutsideSelection)(r),r.writeBack(),(0,i.createRange)(r.table)},e.prototype.deleteTableContent=function(e,t,r){var n=new i.VTable(t);n.selection=r,(0,o.forEachSelectedCell)(n,(function(t){(null==t?void 0:t.td)&&(t.td.innerHTML=e.getTrustedHTMLHandler()("<br>"))}));var s=(0,i.isWholeTableSelected)(n,r),a=t.rows.length-1===r.lastCell.y&&0===r.firstCell.y;s?(n.edit(4),n.writeBack()):a&&(n.edit(5),n.writeBack()),(s||a)&&(t.style.removeProperty("width"),t.style.removeProperty("height"))},e.prototype.deleteImage=function(e,t){e.queryElements("#"+t,(function(t){e.deleteNode(t)}))},e}();t.default=s},"./packages/roosterjs-editor-core/lib/corePlugins/DOMEventPlugin.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/DOMEventPlugin.ts ***!
  \**************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=function(){function e(e,t){var r,n=this;this.editor=null,this.disposer=null,this.onDragStart=function(e){var t,r=e,o=null===(t=n.editor)||void 0===t?void 0:t.getElementAtCursor("*",r.target);o&&!o.isContentEditable&&r.preventDefault()},this.onDrop=function(){var e;null===(e=n.editor)||void 0===e||e.runAsync((function(e){e.addUndoSnapshot((function(){}),"Drop")}))},this.onFocus=function(){var e,t,r;if(!n.state.skipReselectOnFocus){var i=n.state.tableSelectionRange||{},s=i.table,a=i.coordinates,l=(n.state.imageSelectionRange||{}).image;s&&a?null===(e=n.editor)||void 0===e||e.select(s,a):l?null===(t=n.editor)||void 0===t||t.select(l):n.state.selectionRange&&(null===(r=n.editor)||void 0===r||r.select(n.state.selectionRange))}o.Browser.isSafari||(n.state.selectionRange=null)},this.onSelectionChangeSafari=function(){var e;(null===(e=n.editor)||void 0===e?void 0:e.hasFocus())&&!n.editor.isInShadowEdit()&&(n.state.selectionRange=n.editor.getSelectionRange(!1))},this.cacheSelection=function(){!n.state.selectionRange&&n.editor&&(n.state.selectionRange=n.editor.getSelectionRange(!1))},this.onScroll=function(e){var t;null===(t=n.editor)||void 0===t||t.triggerPluginEvent(14,{rawEvent:e,scrollContainer:n.state.scrollContainer})},this.onKeyboardEvent=function(e){((0,o.isCharacterValue)(e)||e.which>=33&&e.which<=40)&&e.stopPropagation()},this.onInputEvent=function(e){e.stopPropagation()},this.onContextMenuEvent=function(e){var t,r,i=[],s=null===(t=n.editor)||void 0===t?void 0:t.getContentSearcherOfCursor(),a=null==s?void 0:s.getInlineElementBefore(),l=e.target;2!=e.button&&a&&(l=a.getContainerNode()),n.state.contextMenuProviders.forEach((function(e){var t,r=null!==(t=e.getContextMenuItems(l))&&void 0!==t?t:[];(null==r?void 0:r.length)>0&&(i.length>0&&i.push(null),(0,o.arrayPush)(i,r))})),null===(r=n.editor)||void 0===r||r.triggerPluginEvent(16,{rawEvent:e,items:i})},this.state={isInIME:!1,scrollContainer:e.scrollContainer||t,selectionRange:null,stopPrintableKeyboardEventPropagation:!e.allowKeyboardEventPropagation,contextMenuProviders:(null===(r=e.plugins)||void 0===r?void 0:r.filter(i))||[],tableSelectionRange:null,imageSelectionRange:null}}return e.prototype.getName=function(){return"DOMEvent"},e.prototype.initialize=function(e){var t,r,n,i=this;this.editor=e;var s=this.editor.getDocument(),a=((t={keypress:this.getEventHandler(1),keydown:this.getEventHandler(0),keyup:this.getEventHandler(2),mousedown:5,contextmenu:this.onContextMenuEvent,compositionstart:function(){return i.state.isInIME=!0},compositionend:function(t){i.state.isInIME=!1,e.triggerPluginEvent(4,{rawEvent:t})},dragstart:this.onDragStart,drop:this.onDrop,focus:this.onFocus})[o.Browser.isIE?"textinput":"input"]=this.getEventHandler(3),t);o.Browser.isSafari?s.addEventListener("selectionchange",this.onSelectionChangeSafari):o.Browser.isIEOrEdge?a.beforedeactivate=this.cacheSelection:a.blur=this.cacheSelection,this.disposer=e.addDomEventHandler(a),this.state.scrollContainer.addEventListener("scroll",this.onScroll),null===(r=s.defaultView)||void 0===r||r.addEventListener("scroll",this.onScroll),null===(n=s.defaultView)||void 0===n||n.addEventListener("resize",this.onScroll)},e.prototype.dispose=function(){var e,t,r,n,i=null===(e=this.editor)||void 0===e?void 0:e.getDocument();i&&o.Browser.isSafari&&i.removeEventListener("selectionchange",this.onSelectionChangeSafari),null===(t=null==i?void 0:i.defaultView)||void 0===t||t.removeEventListener("resize",this.onScroll),null===(r=null==i?void 0:i.defaultView)||void 0===r||r.removeEventListener("scroll",this.onScroll),this.state.scrollContainer.removeEventListener("scroll",this.onScroll),null===(n=this.disposer)||void 0===n||n.call(this),this.disposer=null,this.editor=null},e.prototype.getState=function(){return this.state},e.prototype.getEventHandler=function(e){var t=this;return this.state.stopPrintableKeyboardEventPropagation?{pluginEventType:e,beforeDispatch:function(r){return 3==e?t.onInputEvent(r):t.onKeyboardEvent(r)}}:e},e}();function i(e){var t;return!!(null===(t=e)||void 0===t?void 0:t.getContextMenuItems)}t.default=n},"./packages/roosterjs-editor-core/lib/corePlugins/EditPlugin.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/EditPlugin.ts ***!
  \**********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=function(){function e(){this.editor=null,this.state={features:{}}}return e.prototype.getName=function(){return"Edit"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.getState=function(){return this.state},e.prototype.onPluginEvent=function(e){var t,r=!1,n=null,i=!1,s=0==e.eventType;if(s){var a=e.rawEvent,l=null===(t=this.editor)||void 0===t?void 0:t.getSelectionRange();r=(i=(0,o.isCtrlOrMetaPressed)(a))||a.altKey,n=this.state.features[a.which]||l&&!l.collapsed&&this.state.features[258]}else 7==e.eventType&&(n=this.state.features[257]);for(var d=0;n&&d<(null==n?void 0:n.length);d++){var u=n[d];if((u.allowFunctionKeys||!r)&&this.editor&&u.shouldHandleEvent(e,this.editor,i)){u.handleEvent(e,this.editor),s&&(e.handledByEditFeature=!0);break}}},e}();t.default=n},"./packages/roosterjs-editor-core/lib/corePlugins/EntityPlugin.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/EntityPlugin.ts ***!
  \************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./utils/inlineEntityOnPluginEvent */"./packages/roosterjs-editor-core/lib/corePlugins/utils/inlineEntityOnPluginEvent.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i=/_(\d{1,8})$/,s=["^_Entity$","^_EId_","^_EType_","^_EReadonly_"],a=[6,7,4,5],l=function(){function e(){var e=this;this.editor=null,this.handleCutEvent=function(t){var r,o=null===(r=e.editor)||void 0===r?void 0:r.getSelectionRange();o&&!o.collapsed&&e.checkRemoveEntityForRange(t)},this.state={entityMap:{}}}return e.prototype.getName=function(){return"Entity"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null,this.state.entityMap={}},e.prototype.getState=function(){return this.state},e.prototype.onPluginEvent=function(e){switch(e.eventType){case 6:this.handleMouseUpEvent(e);break;case 0:this.handleKeyDownEvent(e.rawEvent);break;case 9:e.isCut&&this.handleCutEvent(e.rawEvent);break;case 10:this.handleBeforePasteEvent(e.sanitizingOption);break;case 7:this.handleContentChangedEvent(e);break;case 11:this.handleContentChangedEvent();break;case 8:this.handleExtractContentWithDomEvent(e.clonedRoot);break;case 16:this.handleContextMenuEvent(e.rawEvent);break;case 15:this.handleEntityOperationEvent(e)}this.editor&&(0,o.inlineEntityOnPluginEvent)(e,this.editor)},e.prototype.handleContextMenuEvent=function(e){var t,r=e.target,o=r&&(null===(t=this.editor)||void 0===t?void 0:t.getElementAtCursor((0,n.getEntitySelector)(),r));o&&(e.preventDefault(),this.triggerEvent(o,2,e))},e.prototype.handleMouseUpEvent=function(e){var t,r=e.rawEvent,o=e.isClicking,i=r.target;this.editor&&o&&i&&(t=this.editor.getElementAtCursor((0,n.getEntitySelector)(),i))&&(this.triggerEvent(t,1,r),d(this.editor))},e.prototype.handleKeyDownEvent=function(e){var t;if((0,n.isCharacterValue)(e)||8==e.which||46==e.which||13==e.which){var r=null===(t=this.editor)||void 0===t?void 0:t.getSelectionRange();r&&!r.collapsed&&this.checkRemoveEntityForRange(e)}},e.prototype.handleBeforePasteEvent=function(e){var t,r=null===(t=this.editor)||void 0===t?void 0:t.getSelectionRange();r&&!r.collapsed&&this.checkRemoveEntityForRange(null),e.additionalAllowedCssClasses&&(0,n.arrayPush)(e.additionalAllowedCssClasses,s)},e.prototype.handleContentChangedEvent=function(e){var t=this,r=!1;(0,n.getObjectKeys)(this.state.entityMap).forEach((function(e){var o=t.state.entityMap[e],i=o.element;!t.editor||o.isDeleted||t.editor.contains(i)||(o.isDeleted=!0,t.triggerEvent(i,6),r||i.isContentEditable||(0,n.isBlockElement)(i)||(r=!0))})),("InsertEntity"==(null==e?void 0:e.source)&&e.data?[e.data]:this.getExistingEntities().filter((function(e){var r=t.state.entityMap[e.id];return!r||r.element!=e.wrapper||r.isDeleted}))).forEach((function(e){var r=e.wrapper,o=e.type,i=e.id,s=e.isReadonly;e.id=t.ensureUniqueId(o,i,r),(0,n.commitEntity)(r,o,s,e.id),t.handleNewEntity(e)})),r&&this.editor&&(0,o.normalizeDelimitersInEditor)(this.editor)},e.prototype.handleEntityOperationEvent=function(e){if(this.editor&&a.indexOf(e.operation)>=0){var t=this.state.entityMap[e.entity.id];t&&(t.isDeleted=!0)}},e.prototype.handleExtractContentWithDomEvent=function(e){var t=this;(0,n.toArray)(e.querySelectorAll((0,n.getEntitySelector)())).forEach((function(e){e.removeAttribute("contentEditable"),t.triggerEvent(e,8)}))},e.prototype.checkRemoveEntityForRange=function(e){var t,r=this,o=[],i=(0,n.getEntitySelector)();if(null===(t=this.editor)||void 0===t||t.queryElements(i,1,(function(t){t.isContentEditable?o.push(t):r.triggerEvent(t,6,e)})),this.editor&&o.length>0){var s=this.editor.queryElements(i,2);o.forEach((function(t){var o=s.indexOf(t)>=0;r.triggerEvent(t,o?6:7,e)}))}},e.prototype.triggerEvent=function(e,t,r){var o,i=e&&(0,n.getEntityFromElement)(e);return i?null===(o=this.editor)||void 0===o?void 0:o.triggerPluginEvent(15,{operation:t,rawEvent:r,entity:i}):null},e.prototype.handleNewEntity=function(e){var t=e.wrapper,r=this.triggerEvent(t,0),o={element:e.wrapper};(null==r?void 0:r.shouldPersist)&&(o.canPersist=!0),this.state.entityMap[e.id]=o},e.prototype.getExistingEntities=function(){var e,t;return null!==(t=null===(e=this.editor)||void 0===e?void 0:e.queryElements((0,n.getEntitySelector)()).map(n.getEntityFromElement).filter((function(e){return!!e})))&&void 0!==t?t:[]},e.prototype.ensureUniqueId=function(e,t,r){for(var o=i.exec(t),n=(o?t.substr(0,t.length-o[0].length):t)||e,s="",a=o&&parseInt(o[1])||0;;a++){s=a>0?n+"_"+a:n;var l=this.state.entityMap[s];if(!l||l.element==r)break}return s},e}();t.default=l;var d=n.Browser.isIE?function(e){e.runAsync((function(e){var t=e.getCustomData("ENTITY_IE_FOCUS_BUTTON",(function(){var t=(0,n.createElement)({tag:"button",style:"overflow:hidden;position:fixed;width:0;height:0;top:-1000px"},e.getDocument());return t.onblur=function(){t.style.display="none"},e.insertNode(t,{position:4}),t}));t.style.display="",(0,n.addRangeToSelection)((0,n.createRange)(t,0))}))}:function(){}},"./packages/roosterjs-editor-core/lib/corePlugins/ImageSelection.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/ImageSelection.ts ***!
  \**************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=function(){function e(){this.editor=null}return e.prototype.getName=function(){return"ImageSelection"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){var e;null===(e=this.editor)||void 0===e||e.select(null),this.editor=null},e.prototype.onPluginEvent=function(e){var t,r;if(this.editor)switch(e.eventType){case 6:var n=e.rawEvent.target;(0,o.safeInstanceOf)(n,"HTMLImageElement")&&n.isContentEditable&&1!=e.rawEvent.button&&e.isClicking&&this.editor.select(n);break;case 5:var i=e.rawEvent.target,s=this.editor.getSelectionRangeEx();s&&2===s.type&&s.image!==i&&this.editor.select(null);break;case 0:var a=e.rawEvent,l=a.key,d=this.editor.getSelectionRangeEx();if(!(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||2!==d.type)){var u=null===(t=d.image)||void 0===t?void 0:t.parentNode;"Escape"===l&&u?(this.editor.select(d.image,-2),null===(r=this.editor.getSelectionRange())||void 0===r||r.collapse(),e.rawEvent.stopPropagation()):"Delete"===l?(this.editor.deleteNode(d.image),e.rawEvent.preventDefault()):u&&this.editor.select(d.image,-2)}break;case 16:var c=e.rawEvent.target,p=this.editor.getSelectionRangeEx();!(0,o.safeInstanceOf)(c,"HTMLImageElement")||2===p.type&&p.image===c||this.editor.select(c)}},e}();t.default=n},"./packages/roosterjs-editor-core/lib/corePlugins/LifecyclePlugin.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/LifecyclePlugin.ts ***!
  \***************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i="contenteditable",s={darkModeColor:"rgb(51,51,51)",lightModeColor:"rgb(255,255,255)"},a={darkModeColor:"rgb(255,255,255)",lightModeColor:"rgb(0,0,0)"},l=function(){function e(e,t){var r,l,d=this;this.editor=null,this.initializer=null,this.disposer=null,this.initialContent=e.initialContent||t.innerHTML||"",null===t.getAttribute(i)&&(this.initializer=function(){t.contentEditable="true",t.style.userSelect="text"},this.disposer=function(){t.style.userSelect="",t.removeAttribute(i)}),this.adjustColor=e.doNotAdjustEditorColor?function(){}:function(){var e,r=a,o=s,i=d.state.isDarkMode,l=null===(e=d.editor)||void 0===e?void 0:e.getDarkColorHandler();(0,n.setColor)(t,r,!1,i,!1,l),(0,n.setColor)(t,o,!0,i,!1,l)};var u=null!==(r=e.getDarkColor)&&void 0!==r?r:function(e){return e},c=e.defaultFormat?(0,o.__assign)({},e.defaultFormat):null;c&&(c.textColor&&!c.textColors&&(c.textColors={lightModeColor:c.textColor,darkModeColor:u(c.textColor)},delete c.textColor),c.backgroundColor&&!c.backgroundColors&&(c.backgroundColors={lightModeColor:c.backgroundColor,darkModeColor:u(c.backgroundColor)},delete c.backgroundColor)),this.state={customData:{},defaultFormat:c,isDarkMode:!!e.inDarkMode,getDarkColor:u,onExternalContentTransform:null!==(l=e.onExternalContentTransform)&&void 0!==l?l:null,experimentalFeatures:e.experimentalFeatures||[],shadowEditFragment:null,shadowEditEntities:null,shadowEditSelectionPath:null,shadowEditTableSelectionPath:null,shadowEditImageSelectionPath:null}}return e.prototype.getName=function(){return"Lifecycle"},e.prototype.initialize=function(e){var t;this.editor=e,this.editor.setContent(this.initialContent,!1),null===(t=this.initializer)||void 0===t||t.call(this),this.adjustColor(),this.editor.triggerPluginEvent(11,{},!0)},e.prototype.dispose=function(){var e,t=this;null===(e=this.editor)||void 0===e||e.triggerPluginEvent(12,{},!0),(0,n.getObjectKeys)(this.state.customData).forEach((function(e){var r=t.state.customData[e];r&&r.disposer&&r.disposer(r.value),delete t.state.customData[e]})),this.disposer&&(this.disposer(),this.disposer=null,this.initializer=null),this.editor=null},e.prototype.getState=function(){return this.state},e.prototype.onPluginEvent=function(e){7!=e.eventType||"SwitchToDarkMode"!=e.source&&"SwitchToLightMode"!=e.source||(this.state.isDarkMode="SwitchToDarkMode"==e.source,this.adjustColor())},e}();t.default=l},"./packages/roosterjs-editor-core/lib/corePlugins/MouseUpPlugin.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/MouseUpPlugin.ts ***!
  \*************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this.editor=null,this.mouseUpEventListerAdded=!1,this.mouseDownX=null,this.mouseDownY=null,this.onMouseUp=function(t){e.editor&&(e.removeMouseUpEventListener(),e.editor.triggerPluginEvent(6,{rawEvent:t,isClicking:e.mouseDownX==t.pageX&&e.mouseDownY==t.pageY}))}}return e.prototype.getName=function(){return"MouseUp"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.removeMouseUpEventListener(),this.editor=null},e.prototype.onPluginEvent=function(e){this.editor&&5==e.eventType&&!this.mouseUpEventListerAdded&&(this.editor.getDocument().addEventListener("mouseup",this.onMouseUp,!0),this.mouseUpEventListerAdded=!0,this.mouseDownX=e.rawEvent.pageX,this.mouseDownY=e.rawEvent.pageY)},e.prototype.removeMouseUpEventListener=function(){this.editor&&this.mouseUpEventListerAdded&&(this.mouseUpEventListerAdded=!1,this.editor.getDocument().removeEventListener("mouseup",this.onMouseUp,!0))},e}();t.default=r},"./packages/roosterjs-editor-core/lib/corePlugins/NormalizeTablePlugin.ts":
/*!********************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/NormalizeTablePlugin.ts ***!
  \********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=function(){function e(){this.editor=null}return e.prototype.getName=function(){return"NormalizeTable"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.onPluginEvent=function(e){switch(e.eventType){case 11:case 7:this.editor&&this.normalizeTables(this.editor.queryElements("table"));break;case 10:this.normalizeTables((0,o.toArray)(e.fragment.querySelectorAll("table")));break;case 5:this.normalizeTableFromEvent(e.rawEvent);break;case 0:e.rawEvent.shiftKey&&this.normalizeTableFromEvent(e.rawEvent);break;case 8:t=e.clonedRoot,(0,o.toArray)(t.querySelectorAll("li")).forEach((function(e){var t=e.previousSibling;"block"==e.style.display&&(0,o.safeInstanceOf)(t,"HTMLLIElement")&&(e.style.removeProperty("display"),t.appendChild((0,o.changeElementTag)(e,"div")))}))}var t},e.prototype.normalizeTableFromEvent=function(e){var t,r=null===(t=this.editor)||void 0===t?void 0:t.getElementAtCursor("table",e.target);r&&this.normalizeTables([r])},e.prototype.normalizeTables=function(e){if(this.editor&&e.length>0){var t=this.editor.getSelectionRangeEx(),r=0==(null==t?void 0:t.type)&&t.ranges[0]||{},n=r.startContainer,i=r.endContainer,s=r.startOffset,a=r.endOffset,l=function(e){var t=!1;return e.forEach((function(e){for(var r,n=null,i=e.firstChild;i;i=i.nextSibling){switch((0,o.getTagOfNode)(i)){case"TR":n||(n=e.ownerDocument.createElement("tbody"),e.insertBefore(n,i)),n.appendChild(i),i=n,t=!0;break;case"TBODY":n?((0,o.moveChildNodes)(n,i,!0),null===(r=i.parentNode)||void 0===r||r.removeChild(i),i=n,t=!0):n=i;break;default:n=null}}var s=e.querySelectorAll("colgroup"),a=e.querySelector("thead");a&&s.forEach((function(e){a.contains(e)||a.appendChild(e)}))})),t}(e);l&&(n&&i&&"number"==typeof s&&"number"==typeof a?this.editor.select(n,s,i,a):1==(null==t?void 0:t.type)&&t.coordinates&&this.editor.select(t.table,t.coordinates))}},e}();t.default=n},"./packages/roosterjs-editor-core/lib/corePlugins/PendingFormatStatePlugin.ts":
/*!************************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/PendingFormatStatePlugin.ts ***!
  \************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=function(){function e(){this.editor=null,this.state={pendableFormatPosition:null,pendableFormatState:null,pendableFormatSpan:null}}return e.prototype.getName=function(){return"PendingFormatState"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null,this.clear()},e.prototype.getState=function(){return this.state},e.prototype.onPluginEvent=function(e){switch(e.eventType){case 13:e.formatState?(this.state.pendableFormatPosition=this.getCurrentPosition(),this.state.pendableFormatState=e.formatState,this.state.pendableFormatSpan=e.formatCallback?this.createPendingFormatSpan(e.formatCallback):null):this.clear();break;case 0:case 5:case 7:var t=null;this.editor&&0==e.eventType&&(0,o.isCharacterValue)(e.rawEvent)&&this.state.pendableFormatSpan?(this.state.pendableFormatSpan.removeAttribute("contentEditable"),this.editor.insertNode(this.state.pendableFormatSpan),this.editor.select(this.state.pendableFormatSpan,0,this.state.pendableFormatSpan,-1),this.clear()):(0==e.eventType&&e.rawEvent.which>=33&&e.rawEvent.which<=40||this.state.pendableFormatPosition&&(t=this.getCurrentPosition())&&!this.state.pendableFormatPosition.equalTo(t)||7==e.eventType&&("SwitchToDarkMode"==e.source||"SwitchToLightMode"==e.source))&&this.clear()}},e.prototype.clear=function(){this.state.pendableFormatPosition=null,this.state.pendableFormatState=null,this.state.pendableFormatSpan=null},e.prototype.getCurrentPosition=function(){var e,t,r=null===(e=this.editor)||void 0===e?void 0:e.getSelectionRange();return null!==(t=r&&o.Position.getStart(r).normalize())&&void 0!==t?t:null},e.prototype.createPendingFormatSpan=function(e){var t,r,n=this.state.pendableFormatSpan;if(!n&&this.editor){var i=this.editor.getStyleBasedFormatState(),s=this.editor.getDocument(),a=this.editor.isDarkMode();(n=s.createElement("span")).contentEditable="true",n.appendChild(s.createTextNode("​")),n.style.setProperty("font-family",null!==(t=i.fontName)&&void 0!==t?t:null),n.style.setProperty("font-size",null!==(r=i.fontSize)&&void 0!==r?r:null);var l=this.editor.getDarkColorHandler();(i.textColors||i.textColor)&&(0,o.setColor)(n,i.textColors||i.textColor,!1,a,!1,l),(i.backgroundColors||i.backgroundColor)&&(0,o.setColor)(n,i.backgroundColors||i.backgroundColor,!0,a,!1,l)}return n&&e(n),n},e}();t.default=n},"./packages/roosterjs-editor-core/lib/corePlugins/TypeInContainerPlugin.ts":
/*!*********************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/TypeInContainerPlugin.ts ***!
  \*********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=function(){function e(){this.editor=null}return e.prototype.getName=function(){return"TypeInContainer"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.isRangeEmpty=function(e){return!(!e.collapsed||e.startContainer.nodeType!==Node.ELEMENT_NODE||"DIV"!=(0,o.getTagOfNode)(e.startContainer)||e.startContainer.firstChild)},e.prototype.onPluginEvent=function(e){var t,r=this;if(1==e.eventType&&this.editor&&(!e.rawEvent||!(0,o.isCtrlOrMetaPressed)(e.rawEvent))){var n=this.editor.getSelectionRange(),i=n&&(0,o.findClosestElementAncestor)(n.startContainer,void 0,"[style]");if(!n||!this.isRangeEmpty(n)&&this.editor.contains(i))return;if(n.collapsed)this.editor.ensureTypeInContainer(o.Position.getStart(n),e.rawEvent);else{var s=function(){var t,o,n=null===(t=r.editor)||void 0===t?void 0:t.getFocusedPosition();n&&(null===(o=r.editor)||void 0===o||o.ensureTypeInContainer(n,e.rawEvent))};o.Browser.isMobileOrTablet?null===(t=this.editor.getDocument().defaultView)||void 0===t||t.setTimeout(s,100):this.editor.runAsync(s)}}},e}();t.default=n},"./packages/roosterjs-editor-core/lib/corePlugins/UndoPlugin.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/UndoPlugin.ts ***!
  \**********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=function(){function e(e){var t,r,n;this.editor=null,this.lastKeyPress=null,this.state={snapshotsService:e.undoMetadataSnapshotService||(r=e.undoSnapshotService,r?{canMove:function(e){return r.canMove(e)},move:function(e){return(n=r.move(e))?{html:n,metadata:null,knownColors:[]}:null},addSnapshot:function(e,t){return r.addSnapshot(e.html+(e.metadata?"\x3c!--"+JSON.stringify(e.metadata)+"--\x3e":""),t)},clearRedo:function(){return r.clearRedo()},canUndoAutoComplete:function(){return r.canUndoAutoComplete()}}:void 0)||(t=(0,o.createSnapshots)(1e7),{canMove:function(e){return(0,o.canMoveCurrentSnapshot)(t,e)},move:function(e){return(0,o.moveCurrentSnapshot)(t,e)},addSnapshot:function(e,r){return(0,o.addSnapshotV2)(t,e,r)},clearRedo:function(){return(0,o.clearProceedingSnapshotsV2)(t)},canUndoAutoComplete:function(){return(0,o.canUndoAutoComplete)(t)}}),isRestoring:!1,hasNewContent:!1,isNested:!1,autoCompletePosition:null}}return e.prototype.getName=function(){return"Undo"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.getState=function(){return this.state},e.prototype.willHandleEventExclusively=function(e){return 0==e.eventType&&8==e.rawEvent.which&&!e.rawEvent.ctrlKey&&this.canUndoAutoComplete()},e.prototype.onPluginEvent=function(e){if(this.editor&&!this.editor.isInIME())switch(e.eventType){case 11:var t=this.editor.getUndoState();t.canUndo||t.canRedo||this.addUndoSnapshot();break;case 0:this.onKeyDown(e.rawEvent);break;case 1:this.onKeyPress(e.rawEvent);break;case 4:this.clearRedoForInput(),this.addUndoSnapshot();break;case 7:this.onContentChanged(e);break;case 23:this.onBeforeKeyboardEditing(e.rawEvent)}},e.prototype.onKeyDown=function(e){var t,r;if(8==e.which&&!e.altKey||46==e.which){if(8==e.which&&!e.ctrlKey&&this.canUndoAutoComplete())e.preventDefault(),null===(t=this.editor)||void 0===t||t.undo(),this.state.autoCompletePosition=null,this.lastKeyPress=e.which;else if(!e.defaultPrevented){var n=null===(r=this.editor)||void 0===r?void 0:r.getSelectionRange();!n||n.collapsed&&this.lastKeyPress==e.which&&!(0,o.isCtrlOrMetaPressed)(e)||this.addUndoSnapshot(),this.state.hasNewContent=!0,this.lastKeyPress=e.which}}else e.which>=33&&e.which<=40?(this.state.hasNewContent&&this.addUndoSnapshot(),this.lastKeyPress=0):8!=this.lastKeyPress&&46!=this.lastKeyPress||this.state.hasNewContent&&this.addUndoSnapshot()},e.prototype.onKeyPress=function(e){var t;if(!e.metaKey){var r=null===(t=this.editor)||void 0===t?void 0:t.getSelectionRange();r&&!r.collapsed||32==e.which&&32!=this.lastKeyPress||13==e.which?(this.addUndoSnapshot(),13==e.which&&(this.state.hasNewContent=!0)):this.clearRedoForInput(),this.lastKeyPress=e.which}},e.prototype.onBeforeKeyboardEditing=function(e){e.which!=this.lastKeyPress&&this.addUndoSnapshot(),this.lastKeyPress=e.which,this.state.hasNewContent=!0},e.prototype.onContentChanged=function(e){this.state.isRestoring||"SwitchToDarkMode"==e.source||"SwitchToLightMode"==e.source||"Keyboard"==e.source||this.clearRedoForInput()},e.prototype.clearRedoForInput=function(){this.state.snapshotsService.clearRedo(),this.lastKeyPress=0,this.state.hasNewContent=!0},e.prototype.canUndoAutoComplete=function(){var e,t,r=null===(e=this.editor)||void 0===e?void 0:e.getFocusedPosition();return this.state.snapshotsService.canUndoAutoComplete()&&!!r&&!!(null===(t=this.state.autoCompletePosition)||void 0===t?void 0:t.equalTo(r))},e.prototype.addUndoSnapshot=function(){var e;null===(e=this.editor)||void 0===e||e.addUndoSnapshot(),this.state.autoCompletePosition=null},e}();t.default=n},"./packages/roosterjs-editor-core/lib/corePlugins/createCorePlugins.ts":
/*!*****************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/createCorePlugins.ts ***!
  \*****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPluginState=void 0;var o=r(/*! ./CopyPastePlugin */"./packages/roosterjs-editor-core/lib/corePlugins/CopyPastePlugin.ts"),n=r(/*! ./DOMEventPlugin */"./packages/roosterjs-editor-core/lib/corePlugins/DOMEventPlugin.ts"),i=r(/*! ./EditPlugin */"./packages/roosterjs-editor-core/lib/corePlugins/EditPlugin.ts"),s=r(/*! ./EntityPlugin */"./packages/roosterjs-editor-core/lib/corePlugins/EntityPlugin.ts"),a=r(/*! ./ImageSelection */"./packages/roosterjs-editor-core/lib/corePlugins/ImageSelection.ts"),l=r(/*! ./LifecyclePlugin */"./packages/roosterjs-editor-core/lib/corePlugins/LifecyclePlugin.ts"),d=r(/*! ./MouseUpPlugin */"./packages/roosterjs-editor-core/lib/corePlugins/MouseUpPlugin.ts"),u=r(/*! ./NormalizeTablePlugin */"./packages/roosterjs-editor-core/lib/corePlugins/NormalizeTablePlugin.ts"),c=r(/*! ./PendingFormatStatePlugin */"./packages/roosterjs-editor-core/lib/corePlugins/PendingFormatStatePlugin.ts"),p=r(/*! ./TypeInContainerPlugin */"./packages/roosterjs-editor-core/lib/corePlugins/TypeInContainerPlugin.ts"),f=r(/*! ./UndoPlugin */"./packages/roosterjs-editor-core/lib/corePlugins/UndoPlugin.ts");t.default=function(e,t){var r=t.corePluginOverride||{};return{typeInContainer:r.typeInContainer||new p.default,edit:r.edit||new i.default,pendingFormatState:r.pendingFormatState||new c.default,_placeholder:null,typeAfterLink:null,undo:r.undo||new f.default(t),domEvent:r.domEvent||new n.default(t,e),mouseUp:r.mouseUp||new d.default,copyPaste:r.copyPaste||new o.default(t),entity:r.entity||new s.default,imageSelection:r.imageSelection||new a.default,normalizeTable:r.normalizeTable||new u.default,lifecycle:r.lifecycle||new l.default(t,e)}},t.getPluginState=function(e){return{domEvent:e.domEvent.getState(),pendingFormatState:e.pendingFormatState.getState(),edit:e.edit.getState(),lifecycle:e.lifecycle.getState(),undo:e.undo.getState(),entity:e.entity.getState(),copyPaste:e.copyPaste.getState()}}},"./packages/roosterjs-editor-core/lib/corePlugins/utils/forEachSelectedCell.ts":
/*!*************************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/utils/forEachSelectedCell.ts ***!
  \*************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEachSelectedCell=void 0;t.forEachSelectedCell=function(e,t){var r;if(e.selection)for(var o=e.selection,n=o.lastCell,i=o.firstCell,s=i.y;s<=n.y;s++)for(var a=i.x;a<=n.x;a++)e.cells&&(null===(r=e.cells[s][a])||void 0===r?void 0:r.td)&&t(e.cells[s][a])}},"./packages/roosterjs-editor-core/lib/corePlugins/utils/inlineEntityOnPluginEvent.ts":
/*!*******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/utils/inlineEntityOnPluginEvent.ts ***!
  \*******************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeDelimitersInEditor=t.inlineEntityOnPluginEvent=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=".entityDelimiterAfter,.entityDelimiterBefore",i="​",s="span"+(0,o.getEntitySelector)();function a(e){var t,r,n,s;e.normalize();var a,l=e.firstChild,d=null!==(r=null===(t=l.nodeValue)||void 0===t?void 0:t.indexOf(i))&&void 0!==r?r:-1;if(d>=0&&((0,o.splitTextNode)(l,0==d?1:d,!1),e.childNodes.forEach((function(e){e.nodeValue!==i&&(a=e)})),a)){null===(n=e.parentElement)||void 0===n||n.insertBefore(a,"entityDelimiterBefore"==e.className?e:e.nextSibling);var u=null===(s=a.ownerDocument)||void 0===s?void 0:s.getSelection();u&&u.setPosition(a,new o.Position(a,-1).offset)}}function l(e){e.queryElements(n).forEach((function(e){if((0,o.getDelimiterFromElement)(e)){var t=e.classList.contains("entityDelimiterBefore")?e.nextElementSibling:e.previousElementSibling;(0,o.safeInstanceOf)(t,"HTMLElement")&&(0,o.getEntityFromElement)(t)||c(e)}else p(e)})),d(e.queryElements(s))}function d(e){e.forEach((function(e){u(e)&&(0,o.addDelimiters)(e)}))}function u(e){return!!(e&&(0,o.safeInstanceOf)(e,"HTMLElement")&&(t=(0,o.getEntityFromElement)(e),(null==t?void 0:t.isReadonly)&&!(0,o.isBlockElement)(t.wrapper)&&(0,o.safeInstanceOf)(t.wrapper,"HTMLElement")));var t}function c(e){var t;null===(t=null==e?void 0:e.parentElement)||void 0===t||t.removeChild(e)}function p(e,t){if(void 0===t&&(t=!0),e){var r=e.classList.contains("entityDelimiterAfter")?e.previousElementSibling:e.nextElementSibling;t&&r&&u(r)||(e.classList.remove("entityDelimiterAfter","entityDelimiterBefore"),e.normalize(),e.childNodes.forEach((function(e){var t,r,n,s=null!==(r=null===(t=e.textContent)||void 0===t?void 0:t.indexOf(i))&&void 0!==r?r:-1;s>=0&&(null===(n=(0,o.createRange)(e,s,e,s+1))||void 0===n||n.deleteContents())})))}}t.inlineEntityOnPluginEvent=function(e,t){switch(e.eventType){case 7:"SetContent"===e.source&&l(t);break;case 11:l(t);break;case 10:var r=e.fragment,i=e.sanitizingOption;d(r.querySelectorAll(s)),i.additionalAllowedCssClasses&&(0,o.arrayPush)(i.additionalAllowedCssClasses,["entityDelimiterAfter","entityDelimiterBefore"]);break;case 8:case 9:e.clonedRoot.querySelectorAll(n).forEach((function(e){(0,o.getDelimiterFromElement)(e)?c(e):p(e)}));break;case 0:!function(e,t){var r,i,s=e.getSelectionRangeEx(),l=t.rawEvent;if(0!=s.type)return;if(s.areAllCollapsed&&((0,o.isCharacterValue)(l)||13===l.which)){var d=null===(r=e.getFocusedPosition())||void 0===r?void 0:r.normalize();if(!d)return;var c=d.element,g=c==d.node?c.childNodes.item(d.offset):c,m=e.getElementAtCursor(n,g);if(!m)return;13===l.which?function(e,t){var r=t.classList.contains("entityDelimiterAfter"),i=r?t.previousSibling:t.nextSibling,s=function(e,t){var r;if(!t)return;var n=null===(r=e.getBlockElementAtNode(t))||void 0===r?void 0:r.getStartNode();for(;n&&!(0,o.isBlockElement)(n);)n=e.contains(n.parentElement)?n.parentElement:void 0;return n}(e,t);e.runAsync((function(){if(s){var e=r?s.nextSibling:s.previousSibling;if(e&&(0,o.safeInstanceOf)(e,"HTMLElement")){var t=e.querySelectorAll(n);p(t.item(r?0:t.length-1))}if(u(i))[i.nextElementSibling,i.previousElementSibling].forEach((function(e){e&&(0,o.matchesSelector)(e,n)&&!(0,o.getDelimiterFromElement)(e)&&p(e,!1)})),(0,o.addDelimiters)(i)}}))}(e,m):3==(null===(i=m.firstChild)||void 0===i?void 0:i.nodeType)&&e.runAsync((function(){return a(m)}))}else if(!s.areAllCollapsed&&!l.shiftKey&&16!=l.which){var v=s.ranges[0];if(!v)return;!function(e,t,r){var i=t.startContainer,s=t.endContainer,l=t.startOffset,d=t.endOffset,u=e.getElementAtCursor(n,i),c=e.getElementAtCursor(n,s),g=f(u),m=f(c);(g||m)&&e.select(null!=g?g:new o.Position(i,l),null!=m?m:new o.Position(s,d));e.runAsync((function(e){var t=e.getElementAtCursor(n);t&&(a(t),13===r.which&&p(t))}))}(e,v,l)}}(t,e)}},t.normalizeDelimitersInEditor=l;var f=function(e){if(e&&(0,o.getDelimiterFromElement)(e)){var t=e.classList.contains("entityDelimiterAfter");return new o.Position(e,t?-3:-2)}}},"./packages/roosterjs-editor-core/lib/corePlugins/utils/removeCellsOutsideSelection.ts":
/*!*********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/corePlugins/utils/removeCellsOutsideSelection.ts ***!
  \*********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeCellsOutsideSelection=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.removeCellsOutsideSelection=function(e){if(e.selection){if((0,o.isWholeTableSelected)(e,e.selection))return;e.table.style.removeProperty("width"),e.table.style.removeProperty("height");var t=e.selection,r=t.firstCell,n=t.lastCell,i=[],s=r.x,a=r.y,l=n.x,d=n.y;e.cells&&(e.cells.forEach((function(e,t){(e=e.filter((function(e,r){return t>=a&&t<=d&&r>=s&&r<=l}))).length>0&&i.push(e)})),e.cells=i)}}},"./packages/roosterjs-editor-core/lib/editor/DarkColorHandlerImpl.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/editor/DarkColorHandlerImpl.ts ***!
  \***************************************************************************/(e,t,r)=>{"use strict";var o,n;Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),a=/^\s*var\(\s*(\-\-[a-zA-Z0-9\-_]+)\s*(?:,\s*(.*))?\)\s*$/;!function(e){e[e.CssColor=0]="CssColor",e[e.HtmlColor=1]="HtmlColor"}(i||(i={}));var l=[(o={},o[0]="color",o[1]="color",o),(n={},n[0]="background-color",n[1]="bgcolor",n)],d=function(){function e(e,t){this.contentDiv=e,this.getDarkColor=t,this.knownColors={}}return e.prototype.getKnownColorsCopy=function(){return Object.values(this.knownColors)},e.prototype.registerColor=function(e,t,r){var o,n=this.parseColorValue(e);return n&&(e=n.lightModeColor,r=n.darkModeColor||r,o=n.key),t&&e?(o=o||"--darkColor_"+e.replace(/[^\d\w]/g,"_"),this.knownColors[o]||(r=r||this.getDarkColor(e),this.knownColors[o]={lightModeColor:e,darkModeColor:r},this.contentDiv.style.setProperty(o,r)),"var("+o+", "+e+")"):e},e.prototype.reset=function(){var e=this;(0,s.getObjectKeys)(this.knownColors).forEach((function(t){return e.contentDiv.style.removeProperty(t)})),this.knownColors={}},e.prototype.parseColorValue=function(e,t){var r,o,n,i="";if(e){var s=e.startsWith("var(")?a.exec(e):null;s?s[2]?(o=s[1],i=s[2],n=null===(r=this.knownColors[o])||void 0===r?void 0:r.darkModeColor):i="":t?(i=this.findLightColorFromDarkColor(e)||"")&&(n=e):i=e}return{key:o,lightModeColor:i,darkModeColor:n}},e.prototype.findLightColorFromDarkColor=function(e){var t=this,r=(0,s.parseColor)(e);if(r){var o=(0,s.getObjectKeys)(this.knownColors).find((function(e){var o=(0,s.parseColor)(t.knownColors[e].darkModeColor);return o&&o[0]==r[0]&&o[1]==r[1]&&o[2]==r[2]}));if(o)return this.knownColors[o].lightModeColor}return null},e.prototype.transformElementColor=function(e,t,r){var o=this;l.forEach((function(n,i){var a=o.parseColorValue(e.style.getPropertyValue(n[0])||e.getAttribute(n[1]),!!t).lightModeColor;e.style.setProperty(n[0],null),e.removeAttribute(n[1]),a&&"inherit"!=a&&(0,s.setColor)(e,a,0!=i,r,!1,o)}))},e}();t.default=d},"./packages/roosterjs-editor-core/lib/editor/Editor.ts":
/*!*************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/editor/Editor.ts ***!
  \*************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ./createEditorCore */"./packages/roosterjs-editor-core/lib/editor/createEditorCore.ts"),i=function(e){function t(t,r){return void 0===r&&(r={}),e.call(this,t,r,n.createEditorCore)||this}return(0,o.__extends)(t,e),t}(r(/*! ./EditorBase */"./packages/roosterjs-editor-core/lib/editor/EditorBase.ts").EditorBase);t.default=i},"./packages/roosterjs-editor-core/lib/editor/EditorBase.ts":
/*!*****************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/editor/EditorBase.ts ***!
  \*****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorBase=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ./isFeatureEnabled */"./packages/roosterjs-editor-core/lib/editor/isFeatureEnabled.ts"),i=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),s=function(){function e(e,t,r){var o=this;if(this.core=null,"DIV"!=(0,i.getTagOfNode)(e))throw new Error("contentDiv must be an HTML DIV element");this.core=r(e,t),this.core.plugins.forEach((function(e){return e.initialize(o)})),this.ensureTypeInContainer(new i.Position(this.core.contentDiv,0).normalize())}return e.prototype.dispose=function(){for(var e,t=this.getCore(),r=t.plugins.length-1;r>=0;r--){var o=t.plugins[r];try{o.dispose()}catch(r){null===(e=t.disposeErrorHandler)||void 0===e||e.call(t,o,r)}}t.darkColorHandler.reset(),this.core=null},e.prototype.isDisposed=function(){return!this.core},e.prototype.insertNode=function(e,t){var r=this.getCore();return!!e&&r.api.insertNode(r,e,null!=t?t:null)},e.prototype.deleteNode=function(e){return!!(e&&this.contains(e)&&e.parentNode)&&(e.parentNode.removeChild(e),!0)},e.prototype.replaceNode=function(e,t,r){var o=this.getCore();return!(!this.contains(e)||!t)&&(o.api.transformColor(o,r?t:null,!0,(function(){var r;return null===(r=e.parentNode)||void 0===r?void 0:r.replaceChild(t,e)}),0),!0)},e.prototype.getBlockElementAtNode=function(e){return(0,i.getBlockElementAtNode)(this.getCore().contentDiv,e)},e.prototype.contains=function(e){return!!e&&(0,i.contains)(this.getCore().contentDiv,e)},e.prototype.queryElements=function(e,t,r){void 0===t&&(t=0);var n=this.getCore(),s=[],a=t instanceof Function?0:t;r=t instanceof Function?t:r;var l=0==a?null:this.getSelectionRangeEx();return l?(l.ranges.forEach((function(t){s.push.apply(s,(0,o.__spreadArray)([],(0,o.__read)((0,i.queryElements)(n.contentDiv,e,r,a,t)),!1))})),s):(0,i.queryElements)(n.contentDiv,e,r,a,void 0)},e.prototype.collapseNodes=function(e,t,r){return(0,i.collapseNodes)(this.getCore().contentDiv,e,t,r)},e.prototype.isEmpty=function(e){return(0,i.isNodeEmpty)(this.getCore().contentDiv,e)},e.prototype.getContent=function(e){void 0===e&&(e=0);var t=this.getCore();return t.api.getContent(t,e)},e.prototype.setContent=function(e,t){void 0===t&&(t=!0);var r=this.getCore();r.api.setContent(r,e,t)},e.prototype.insertContent=function(e,t){var r;if(e){var o=this.getDocument(),n=null===(r=(new DOMParser).parseFromString(this.getCore().trustedHTMLHandler(e),"text/html"))||void 0===r?void 0:r.body,s=(null==n?void 0:n.childNodes)?(0,i.toArray)(n.childNodes):[];t&&t.insertOnNewLine&&s.length>1&&(s=[(0,i.wrap)(s)]);var a=o.createDocumentFragment();s.forEach((function(e){return a.appendChild(e)})),this.insertNode(a,t)}},e.prototype.deleteSelectedContent=function(){var e=this.getSelectionRange();return e&&!e.collapsed?(0,i.deleteSelectedContent)(this.getCore().contentDiv,e):null},e.prototype.paste=function(e,t,r,o){var n=this;void 0===t&&(t=!1),void 0===r&&(r=!1),void 0===o&&(o=!1);var s=this.getCore();if(e){e.snapshotBeforePaste?this.setContent(e.snapshotBeforePaste):e.snapshotBeforePaste=this.getContent(2);var a=this.getSelectionRange(),l=a&&i.Position.getStart(a),d=s.api.createPasteFragment(s,e,l,t,r,o);d&&this.addUndoSnapshot((function(){return n.insertNode(d),e}),"Paste")}},e.prototype.getSelectionRange=function(e){void 0===e&&(e=!0);var t=this.getCore();return t.api.getSelectionRange(t,e)},e.prototype.getSelectionRangeEx=function(){var e=this.getCore();return e.api.getSelectionRangeEx(e)},e.prototype.getSelectionPath=function(){var e=this.getSelectionRange();return e&&(0,i.getSelectionPath)(this.getCore().contentDiv,e)},e.prototype.hasFocus=function(){var e=this.getCore();return e.api.hasFocus(e)},e.prototype.focus=function(){var e=this.getCore();e.api.focus(e)},e.prototype.select=function(e,t,r,o){var n=this.getCore();return n.api.select(n,e,t,r,o)},e.prototype.getFocusedPosition=function(){var e,t=null===(e=this.getDocument().defaultView)||void 0===e?void 0:e.getSelection();if((null==t?void 0:t.focusNode)&&this.contains(t.focusNode))return new i.Position(t.focusNode,t.focusOffset);var r=this.getSelectionRange();return r?i.Position.getStart(r):null},e.prototype.getElementAtCursor=function(e,t,r){var o,n=this;return r=t?void 0:r,null!==(o=(0,i.cacheGetEventData)(null!=r?r:null,"GET_ELEMENT_AT_CURSOR_"+e,(function(){if(!t){var r=n.getFocusedPosition();t=null==r?void 0:r.node}return t&&(0,i.findClosestElementAncestor)(t,n.getCore().contentDiv,e)})))&&void 0!==o?o:null},e.prototype.isPositionAtBeginning=function(e){return(0,i.isPositionAtBeginningOf)(e,this.getCore().contentDiv)},e.prototype.getSelectedRegions=function(e){void 0===e&&(e=0);var t=this.getSelectionRangeEx(),r=[],n=this.getCore().contentDiv;return t.ranges.forEach((function(t){r.push.apply(r,(0,o.__spreadArray)([],(0,o.__read)(t?(0,i.getRegionsFromRange)(n,t,e):[]),!1))})),r.filter((function(e,t,r){return r.indexOf(e)===t}))},e.prototype.addDomEventHandler=function(e,t){var r,o="string"==typeof e?((r={})[e]=t,r):e,n=this.getCore();return n.api.attachDomEvent(n,o)},e.prototype.triggerPluginEvent=function(e,t,r){void 0===r&&(r=!1);var n=this.getCore(),i=(0,o.__assign)({eventType:e},t);return n.api.triggerEvent(n,i,r),i},e.prototype.triggerContentChangedEvent=function(e,t){void 0===e&&(e="SetContent"),this.triggerPluginEvent(7,{source:e,data:t})},e.prototype.undo=function(){this.focus();var e=this.getCore();e.api.restoreUndoSnapshot(e,-1)},e.prototype.redo=function(){this.focus();var e=this.getCore();e.api.restoreUndoSnapshot(e,1)},e.prototype.addUndoSnapshot=function(e,t,r,o){var n=this.getCore();n.api.addUndoSnapshot(n,null!=e?e:null,null!=t?t:null,null!=r&&r,o)},e.prototype.getUndoState=function(){var e=this.getCore().undo,t=e.hasNewContent,r=e.snapshotsService;return{canUndo:t||r.canMove(-1),canRedo:r.canMove(1)}},e.prototype.getDocument=function(){return this.getCore().contentDiv.ownerDocument},e.prototype.getScrollContainer=function(){return this.getCore().domEvent.scrollContainer},e.prototype.getCustomData=function(e,t,r){var o=this.getCore();return(o.lifecycle.customData[e]=o.lifecycle.customData[e]||{value:t?t():void 0,disposer:r}).value},e.prototype.isInIME=function(){return this.getCore().domEvent.isInIME},e.prototype.getDefaultFormat=function(){var e;return null!==(e=this.getCore().lifecycle.defaultFormat)&&void 0!==e?e:{}},e.prototype.getBodyTraverser=function(e){return i.ContentTraverser.createBodyTraverser(this.getCore().contentDiv,e)},e.prototype.getSelectionTraverser=function(e){var t;return(e=null!==(t=null!=e?e:this.getSelectionRange())&&void 0!==t?t:void 0)?i.ContentTraverser.createSelectionTraverser(this.getCore().contentDiv,e):null},e.prototype.getBlockTraverser=function(e){void 0===e&&(e=3);var t=this.getSelectionRange();return t?i.ContentTraverser.createBlockTraverser(this.getCore().contentDiv,t,e):null},e.prototype.getContentSearcherOfCursor=function(e){var t=this;return(0,i.cacheGetEventData)(null!=e?e:null,"ContentSearcher",(function(){var e=t.getSelectionRange();return e&&new i.PositionContentSearcher(t.getCore().contentDiv,i.Position.getStart(e))}))},e.prototype.runAsync=function(e){var t=this,r=this.getCore().contentDiv.ownerDocument.defaultView||window,o=r.requestAnimationFrame((function(){!t.isDisposed()&&e&&e(t)}));return function(){r.cancelAnimationFrame(o)}},e.prototype.setEditorDomAttribute=function(e,t){null===t?this.getCore().contentDiv.removeAttribute(e):this.getCore().contentDiv.setAttribute(e,t)},e.prototype.getEditorDomAttribute=function(e){return this.getCore().contentDiv.getAttribute(e)},e.prototype.getRelativeDistanceToEditor=function(e,t){if(this.contains(e)){var r=this.getCore().contentDiv,o=r.getBoundingClientRect(),n=e.getBoundingClientRect();if(o&&n){var i=n.left-(null==o?void 0:o.left),s=n.top-(null==o?void 0:o.top);return t&&(i+=r.scrollLeft,s+=r.scrollTop),[i,s]}}return null},e.prototype.addContentEditFeature=function(e){var t=this.getCore();null==e||e.keys.forEach((function(r){var o=t.edit.features[r]||[];o.push(e),t.edit.features[r]=o}))},e.prototype.removeContentEditFeature=function(e){var t=this.getCore();null==e||e.keys.forEach((function(r){var o,n=t.edit.features[r],i=null!==(o=null==n?void 0:n.indexOf(e))&&void 0!==o?o:-1;i>=0&&(t.edit.features[r].splice(i,1),t.edit.features[r].length<1&&delete t.edit.features[r])}))},e.prototype.getStyleBasedFormatState=function(e){var t;if(!e){var r=this.getSelectionRange();e=null!==(t=r&&i.Position.getStart(r).normalize().node)&&void 0!==t?t:void 0}var o=this.getCore();return o.api.getStyleBasedFormatState(o,null!=e?e:null)},e.prototype.getPendableFormatState=function(e){void 0===e&&(e=!1);var t=this.getCore();return t.api.getPendableFormatState(t,e)},e.prototype.ensureTypeInContainer=function(e,t){var r=this.getCore();r.api.ensureTypeInContainer(r,e,t)},e.prototype.setDarkModeState=function(e){var t=this.isDarkMode();if(t!=!!e){var r=this.getCore();r.api.transformColor(r,r.contentDiv,!1,null,e?0:1,!0,t),this.triggerContentChangedEvent(e?"SwitchToDarkMode":"SwitchToLightMode")}},e.prototype.isDarkMode=function(){return this.getCore().lifecycle.isDarkMode},e.prototype.transformToDarkColor=function(e,t){void 0===t&&(t=0);var r=this.getCore();r.api.transformColor(r,e,!0,null,t)},e.prototype.getDarkColorHandler=function(){return this.getCore().darkColorHandler},e.prototype.startShadowEdit=function(){var e=this.getCore();e.api.switchShadowEdit(e,!0)},e.prototype.stopShadowEdit=function(){var e=this.getCore();e.api.switchShadowEdit(e,!1)},e.prototype.isInShadowEdit=function(){return!!this.getCore().lifecycle.shadowEditFragment},e.prototype.isFeatureEnabled=function(e){return(0,n.isFeatureEnabled)(this.getCore().lifecycle.experimentalFeatures,e)},e.prototype.getTrustedHTMLHandler=function(){return this.getCore().trustedHTMLHandler},e.prototype.getSizeTransformer=function(){return this.getCore().sizeTransformer},e.prototype.getZoomScale=function(){return this.getCore().zoomScale},e.prototype.setZoomScale=function(e){var t=this.getCore();if(e>0&&e<=10){var r=t.zoomScale;t.zoomScale=e,r!=e&&this.triggerPluginEvent(21,{oldZoomScale:r,newZoomScale:e},!0)}},e.prototype.getVisibleViewport=function(){return this.getCore().getVisibleViewport()},e.prototype.getCore=function(){if(!this.core)throw new Error("Editor is already disposed");return this.core},e}();t.EditorBase=s},"./packages/roosterjs-editor-core/lib/editor/createEditorCore.ts":
/*!***********************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/editor/createEditorCore.ts ***!
  \***********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEditorCore=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../corePlugins/createCorePlugins */"./packages/roosterjs-editor-core/lib/corePlugins/createCorePlugins.ts"),i=r(/*! ./DarkColorHandlerImpl */"./packages/roosterjs-editor-core/lib/editor/DarkColorHandlerImpl.ts"),s=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),a=r(/*! ../coreApi/coreApiMap */"./packages/roosterjs-editor-core/lib/coreApi/coreApiMap.ts");t.createEditorCore=function(e,t){var r,l=(0,n.default)(e,t),d=[];(0,s.getObjectKeys)(l).forEach((function(e){"_placeholder"==e?t.plugins&&(0,s.arrayPush)(d,t.plugins):d.push(l[e])}));var u=(0,n.getPluginState)(l),c=(null!==(r=t.zoomScale)&&void 0!==r?r:-1)>0?t.zoomScale:1,p=t.getVisibleViewport||function(){var e=u.domEvent.scrollContainer;return(0,s.getIntersectedRect)(e==f.contentDiv?[e]:[e,f.contentDiv])},f=(0,o.__assign)((0,o.__assign)({contentDiv:e,api:(0,o.__assign)((0,o.__assign)({},a.coreApiMap),t.coreApiOverride||{}),originalApi:a.coreApiMap,plugins:d.filter((function(e){return!!e}))},u),{trustedHTMLHandler:t.trustedHTMLHandler||function(e){return e},zoomScale:c,sizeTransformer:t.sizeTransformer||function(e){return e/c},getVisibleViewport:p,imageSelectionBorderColor:t.imageSelectionBorderColor,darkColorHandler:new i.default(e,u.lifecycle.getDarkColor),disposeErrorHandler:t.disposeErrorHandler});return f}},"./packages/roosterjs-editor-core/lib/editor/isFeatureEnabled.ts":
/*!***********************************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/editor/isFeatureEnabled.ts ***!
  \***********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFeatureEnabled=void 0,t.isFeatureEnabled=function(e,t){return(e||[]).indexOf(t)>=0}},"./packages/roosterjs-editor-core/lib/index.ts":
/*!*****************************************************!*\
  !*** ./packages/roosterjs-editor-core/lib/index.ts ***!
  \*****************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEditorCore=t.isFeatureEnabled=t.EditorBase=t.Editor=void 0;var o=r(/*! ./editor/Editor */"./packages/roosterjs-editor-core/lib/editor/Editor.ts");Object.defineProperty(t,"Editor",{enumerable:!0,get:function(){return o.default}});var n=r(/*! ./editor/EditorBase */"./packages/roosterjs-editor-core/lib/editor/EditorBase.ts");Object.defineProperty(t,"EditorBase",{enumerable:!0,get:function(){return n.EditorBase}});var i=r(/*! ./editor/isFeatureEnabled */"./packages/roosterjs-editor-core/lib/editor/isFeatureEnabled.ts");Object.defineProperty(t,"isFeatureEnabled",{enumerable:!0,get:function(){return i.isFeatureEnabled}});var s=r(/*! ./editor/createEditorCore */"./packages/roosterjs-editor-core/lib/editor/createEditorCore.ts");Object.defineProperty(t,"createEditorCore",{enumerable:!0,get:function(){return s.createEditorCore}})},"./packages/roosterjs-editor-dom/lib/blockElements/NodeBlockElement.ts":
/*!*****************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/blockElements/NodeBlockElement.ts ***!
  \*****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),n=r(/*! ../utils/isNodeAfter */"./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts"),i=function(){function e(e){this.element=e}return e.prototype.collapseToSingleElement=function(){return this.element},e.prototype.getStartNode=function(){return this.element},e.prototype.getEndNode=function(){return this.element},e.prototype.equals=function(e){return this.element==e.getStartNode()},e.prototype.isAfter=function(e){return(0,n.default)(this.element,e.getEndNode())},e.prototype.contains=function(e){return(0,o.default)(this.element,e,!0)},e.prototype.getTextContent=function(){var e;return(null===(e=this.element)||void 0===e?void 0:e.textContent)||""},e}();t.default=i},"./packages/roosterjs-editor-dom/lib/blockElements/StartEndBlockElement.ts":
/*!*********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/blockElements/StartEndBlockElement.ts ***!
  \*********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/collapseNodes */"./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts"),n=r(/*! ../utils/contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),i=r(/*! ../selection/createRange */"./packages/roosterjs-editor-dom/lib/selection/createRange.ts"),s=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),a=r(/*! ../utils/isBlockElement */"./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts"),l=r(/*! ../utils/isNodeAfter */"./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts"),d=r(/*! ../utils/wrap */"./packages/roosterjs-editor-dom/lib/utils/wrap.ts"),u=r(/*! ../utils/splitParentNode */"./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts"),c=["TD","TH","LI","BLOCKQUOTE"],p=function(){function e(e,t,r){this.rootNode=e,this.startNode=t,this.endNode=r}return e.getBlockContext=function(e){for(var t=e;t&&!(0,a.default)(t);)t=t.parentNode;return t},e.prototype.collapseToSingleElement=function(){for(var t=e.getBlockContext(this.startNode),r=t?(0,o.default)(t,this.startNode,this.endNode,!0):[],n=e.getBlockContext(this.startNode);r[0]&&r[0]!=n&&r[0].parentNode!=this.rootNode&&c.indexOf((0,s.default)(r[0].parentNode))<0;){var i=(0,u.splitBalancedNodeRange)(r);if(!i)break;r=[i]}return 1==r.length&&(0,a.default)(r[0])?r[0]:(0,d.default)(r)},e.prototype.getStartNode=function(){return this.startNode},e.prototype.getEndNode=function(){return this.endNode},e.prototype.equals=function(e){return this.startNode==e.getStartNode()&&this.endNode==e.getEndNode()},e.prototype.isAfter=function(e){return(0,l.default)(this.getStartNode(),e.getEndNode())},e.prototype.contains=function(e){return(0,n.default)(this.startNode,e,!0)||(0,n.default)(this.endNode,e,!0)||(0,l.default)(e,this.startNode)&&(0,l.default)(this.endNode,e)},e.prototype.getTextContent=function(){var e=(0,i.default)(this.getStartNode(),this.getEndNode());return e?e.toString():""},e}();t.default=p},"./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts":
/*!**********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts ***!
  \**********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/collapseNodes */"./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts"),n=r(/*! ../utils/contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),i=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),s=r(/*! ../utils/isBlockElement */"./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts"),a=r(/*! ./NodeBlockElement */"./packages/roosterjs-editor-dom/lib/blockElements/NodeBlockElement.ts"),l=r(/*! ./StartEndBlockElement */"./packages/roosterjs-editor-dom/lib/blockElements/StartEndBlockElement.ts");function d(e,t,r){var o=e;if("BR"==(0,i.default)(o)&&r)return o;for(;o;){for(var n=e;e.parentNode&&!(n=r?e.nextSibling:e.previousSibling);)if((e=e.parentNode)==t)return o;for(;n;){if((0,s.default)(n))return o;if("BR"==(0,i.default)(n))return r?n:o;e=n,n=r?e.firstChild:e.lastChild}o=e}return o}t.default=function(e,t){if(!(0,n.default)(e,t))return null;var r=l.default.getBlockContext(t);if(!r)return null;if(r==t)return new a.default(r);var i=d(t,r,!1),u=d(t,r,!0);if(!i||!u)return null;var c=(0,o.default)(e,i,u,!1);if(0===c.length)return null;if(i=c[0],u=c[c.length-1],i.parentNode!=u.parentNode)return new l.default(e,i,u);for(;!i.previousSibling&&!u.nextSibling;){var p=i.parentNode;if(p==r){r!=e&&(i=u=p);break}if(!p||p==e)break;i=u=p}return i==u&&(0,s.default)(i)?new a.default(i):new l.default(e,i,u)}},"./packages/roosterjs-editor-dom/lib/blockElements/getFirstLastBlockElement.ts":
/*!*************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/blockElements/getFirstLastBlockElement.ts ***!
  \*************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./getBlockElementAtNode */"./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts");t.default=function(e,t){var r=e;do{r=r&&(t?r.firstChild:r.lastChild)}while(r&&r.firstChild);return r&&(0,o.default)(e,r)||null}},"./packages/roosterjs-editor-dom/lib/clipboard/extractClipboardEvent.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/clipboard/extractClipboardEvent.ts ***!
  \******************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./extractClipboardItems */"./packages/roosterjs-editor-dom/lib/clipboard/extractClipboardItems.ts"),n=r(/*! ./extractClipboardItemsForIE */"./packages/roosterjs-editor-dom/lib/clipboard/extractClipboardItemsForIE.ts"),i=r(/*! ../jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts"),s=r(/*! ../utils/Browser */"./packages/roosterjs-editor-dom/lib/utils/Browser.ts");t.default=function(e,t,r,a){var l,d=e.clipboardData||(null===(l=e.target.ownerDocument)||void 0===l?void 0:l.defaultView).clipboardData;d.items?(e.preventDefault(),(0,o.default)((0,i.default)(d.items),r,!0).then((function(e){var r;r=a,s.Browser.isAndroid&&r&&r.deleteContents(),t(e)}))):(0,n.default)(d,t,r)}},"./packages/roosterjs-editor-dom/lib/clipboard/extractClipboardItems.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/clipboard/extractClipboardItems.ts ***!
  \******************************************************************************/(e,t,r)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/readFile */"./packages/roosterjs-editor-dom/lib/utils/readFile.ts"),i=r(/*! ../utils/Browser */"./packages/roosterjs-editor-dom/lib/utils/Browser.ts"),s=/^Version:[0-9\.]+\s+StartHTML:\s*([0-9]+)\s+EndHTML:\s*([0-9]+)\s+/i,a="text/*",l="link-preview",d=((o={})["text/html"]=function(e,t){return e.rawHtml=i.Browser.isEdge?function(e){var t=s.exec(e);if(3==(null==t?void 0:t.length)){var r=parseInt(t[1]),o=parseInt(t[2]);r>0&&o>r&&(e=e.substring(r,o))}return e}(t):t},o["text/plain"]=function(e,t){return e.text=t},o[a]=function(e,t,r){return!!r&&(e.customValues[r]=t)},o["text/"+l]=function(e,t){try{e.customValues[l]=t,e.linkPreview=JSON.parse(t)}catch(e){}},o);t.default=function(e,t,r){var o={types:[],text:"",image:null,files:[],rawHtml:null,customValues:{},pasteNativeEvent:r};return Promise.all((e||[]).map((function(e){var r=e.type;if(0!=r.indexOf("image/")||o.image||"file"!=e.kind){if("file"==e.kind)return new Promise((function(t){var n=e.getAsFile();n&&(o.types.push(r),o.files.push(n)),t()}));var i=function(e,t){var r=0==e.indexOf("text/")?e.substring(5):null,o=t&&r?t.indexOf(r):-1;return r&&o>=0?r:void 0}(r,null==t?void 0:t.allowedCustomPasteType),s=d[r]||(i?d[a]:null);return new Promise((function(t){return s?e.getAsString((function(e){o.types.push(r),s(o,e,i),t()})):t()}))}return o.types.push(r),o.image=e.getAsFile(),new Promise((function(e){o.image?(0,n.default)(o.image,(function(t){o.imageDataUri=t,e()})):e()}))}))).then((function(){return o}))}},"./packages/roosterjs-editor-dom/lib/clipboard/extractClipboardItemsForIE.ts":
/*!***********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/clipboard/extractClipboardItemsForIE.ts ***!
  \***********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/readFile */"./packages/roosterjs-editor-dom/lib/utils/readFile.ts"),n=r(/*! ../jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts");t.default=function(e,t,r){for(var i,s,a,l={types:e.types?(0,n.default)(e.types):[],text:e.getData("text"),image:null,files:[],rawHtml:null,customValues:{},pasteNativeEvent:!0},d=0;d<(e.files?e.files.length:0);d++){var u=e.files.item(d);if(0==(null===(i=null==u?void 0:u.type)||void 0===i?void 0:i.indexOf("image/"))){l.image=u;break}}var c=function(){l.image?(0,o.default)(l.image,(function(e){l.imageDataUri=e,t(l)})):t(l)};if((null==r?void 0:r.getTempDiv)&&(null==r?void 0:r.removeTempDiv)){var p=r.getTempDiv();p.contentEditable="true",p.innerHTML="",p.focus(),null===(a=null===(s=p.ownerDocument)||void 0===s?void 0:s.defaultView)||void 0===a||a.setTimeout((function(){var e;l.rawHtml=p.innerHTML,null===(e=r.removeTempDiv)||void 0===e||e.call(r,p),c()}),0)}else l.rawHtml=void 0,c()}},"./packages/roosterjs-editor-dom/lib/clipboard/getPasteType.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/clipboard/getPasteType.ts ***!
  \*********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return e?1:t?2:r?3:0}},"./packages/roosterjs-editor-dom/lib/clipboard/handleImagePaste.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/clipboard/handleImagePaste.ts ***!
  \*************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=t.ownerDocument.createElement("img");r.style.maxWidth="100%",r.src=e,t.appendChild(r)}},"./packages/roosterjs-editor-dom/lib/clipboard/handleTextPaste.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/clipboard/handleTextPaste.ts ***!
  \************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformTabCharacters=void 0;var o=r(/*! ../utils/wrap */"./packages/roosterjs-editor-dom/lib/utils/wrap.ts"),n=" ",i=6;function s(e,t){void 0===t&&(t=0);for(var r,o=e;-1!=(r=o.indexOf("\t"));){var s=o.slice(0,r),a=o.slice(r+1),l=i-(s.length+t)%i;o=s+Array(l).fill(n).join("")+a}return o}t.default=function(e,t,r){var n=r.ownerDocument;e.split("\n").forEach((function(e,i,a){(e=e.replace(/^ /g," ").replace(/\r/g,"").replace(/ {2}/g,"  ")).includes("\t")&&(e=s(e,0===i?null==t?void 0:t.offset:0));var l=n.createTextNode(e);2==a.length&&0==i?(r.appendChild(l),r.appendChild(n.createElement("br"))):i>0&&i<a.length-1?r.appendChild((0,o.default)(""==e?n.createElement("br"):l)):r.appendChild(l)}))},t.transformTabCharacters=s},"./packages/roosterjs-editor-dom/lib/clipboard/retrieveMetadataFromClipboard.ts":
/*!**************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/clipboard/retrieveMetadataFromClipboard.ts ***!
  \**************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),n=r(/*! ../jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts"),i="\x3c!--StartFragment--\x3e",s="\x3c!--EndFragment--\x3e";function a(e,t){(0,n.default)(e.querySelectorAll("style")).forEach(t)}t.default=function(e,t,r){var l,d,u=t.clipboardData,c=t.sanitizingOption,p=u.rawHtml;if(p&&(null==e?void 0:e.body)){var f=null===(l=e.querySelector("html"))||void 0===l?void 0:l.attributes;(f?(0,n.default)(f):[]).reduce((function(e,t){return e[t.name]=t.value,e}),t.htmlAttributes),(0,n.default)(e.querySelectorAll("meta")).reduce((function(e,t){return e[t.name]=t.content,e}),t.htmlAttributes),u.htmlFirstLevelChildTags=[],null==e||e.body.normalize();for(var g=0;g<(null==e?void 0:e.body.childNodes.length);g++){var m=null==e?void 0:e.body.childNodes.item(g);if(m.nodeType==Node.TEXT_NODE)if(!(null===(d=m.nodeValue)||void 0===d?void 0:d.replace(/(\r\n|\r|\n)/gm,"").trim()))continue;var v=(0,o.default)(m);m.nodeType!=Node.COMMENT_NODE&&u.htmlFirstLevelChildTags.push(v)}a(e,(function(t){null==e||e.head.appendChild(t),c.additionalGlobalStyleNodes.push(t)}));var h=p.indexOf(i),b=p.lastIndexOf(s);h>=0&&b>=h+20&&(t.htmlBefore=p.substr(0,h),t.htmlAfter=p.substr(b+18),u.html=p.substring(h+20,b),e.body.innerHTML=r(u.html),a(e.body,(function(e){var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)})))}}},"./packages/roosterjs-editor-dom/lib/clipboard/sanitizePasteContent.ts":
/*!*****************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/clipboard/sanitizePasteContent.ts ***!
  \*****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../htmlSanitizer/getInheritableStyles */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/getInheritableStyles.ts"),n=r(/*! ../htmlSanitizer/HtmlSanitizer */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/HtmlSanitizer.ts");t.default=function(e,t){var r=e.fragment,i=new n.default(e.sanitizingOption);i.convertGlobalCssToInlineCss(r),i.sanitize(r,t?(0,o.default)(t.element):void 0)}},"./packages/roosterjs-editor-dom/lib/contentTraverser/BodyScoper.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/contentTraverser/BodyScoper.ts ***!
  \**************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),n=r(/*! ../blockElements/getBlockElementAtNode */"./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),i=r(/*! ../blockElements/getFirstLastBlockElement */"./packages/roosterjs-editor-dom/lib/blockElements/getFirstLastBlockElement.ts"),s=r(/*! ../inlineElements/getInlineElementAtNode */"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts"),a=r(/*! ../inlineElements/getFirstLastInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/getFirstLastInlineElement.ts"),l=function(){function e(e,t){this.rootNode=e,this.startNode=(0,o.default)(e,t)?t:null}return e.prototype.getStartBlockElement=function(){return this.startNode?(0,n.default)(this.rootNode,this.startNode):(0,i.default)(this.rootNode,!0)},e.prototype.getStartInlineElement=function(){return this.startNode?(0,s.default)(this.rootNode,this.startNode):(0,a.getFirstInlineElement)(this.rootNode)},e.prototype.isBlockInScope=function(e){return(0,o.default)(this.rootNode,e.getStartNode())},e.prototype.trimInlineElement=function(e){return e},e}();t.default=l},"./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts":
/*!********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts ***!
  \********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./BodyScoper */"./packages/roosterjs-editor-dom/lib/contentTraverser/BodyScoper.ts"),n=r(/*! ../inlineElements/EmptyInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/EmptyInlineElement.ts"),i=r(/*! ../blockElements/getBlockElementAtNode */"./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),s=r(/*! ../inlineElements/getInlineElementAtNode */"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts"),a=r(/*! ../inlineElements/PartialInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/PartialInlineElement.ts"),l=r(/*! ./SelectionBlockScoper */"./packages/roosterjs-editor-dom/lib/contentTraverser/SelectionBlockScoper.ts"),d=r(/*! ./SelectionScoper */"./packages/roosterjs-editor-dom/lib/contentTraverser/SelectionScoper.ts"),u=r(/*! ../inlineElements/getInlineElementBeforeAfter */"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementBeforeAfter.ts"),c=r(/*! ../utils/getLeafSibling */"./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts"),p=function(){function e(e,t){this.scoper=e,this.skipTags=t,this.currentInline=null,this.currentBlock=null}return e.createBodyTraverser=function(t,r,n){return new e(new o.default(t,r))},e.createSelectionTraverser=function(t,r,o){return new e(new d.default(t,r),o)},e.createBlockTraverser=function(t,r,o,n){return void 0===o&&(o=3),new e(new l.default(t,r,o))},Object.defineProperty(e.prototype,"currentBlockElement",{get:function(){return this.currentBlock||(this.currentBlock=this.scoper.getStartBlockElement()),this.currentBlock},enumerable:!1,configurable:!0}),e.prototype.getNextBlockElement=function(){return this.getPreviousNextBlockElement(!0)},e.prototype.getPreviousBlockElement=function(){return this.getPreviousNextBlockElement(!1)},e.prototype.getPreviousNextBlockElement=function(e){var t=this.currentBlockElement;if(!t)return null;var r=(0,c.getLeafSibling)(this.scoper.rootNode,e?t.getEndNode():t.getStartNode(),e,this.skipTags),o=r?(0,i.default)(this.scoper.rootNode,r):null;return o&&this.scoper.isBlockInScope(o)&&(e&&o.isAfter(t)||!e&&t.isAfter(o))?(this.currentBlock=o,this.currentBlock):null},Object.defineProperty(e.prototype,"currentInlineElement",{get:function(){return this.currentInline||(this.currentInline=this.scoper.getStartInlineElement()),this.currentInline instanceof n.default?null:this.currentInline},enumerable:!1,configurable:!0}),e.prototype.getNextInlineElement=function(){return this.getPreviousNextInlineElement(!0)},e.prototype.getPreviousInlineElement=function(){return this.getPreviousNextInlineElement(!1)},e.prototype.getPreviousNextInlineElement=function(e){var t,r=this.currentInlineElement||this.currentInline;return r?(r instanceof n.default?(t=(0,u.getInlineElementBeforeAfter)(this.scoper.rootNode,r.getStartPosition(),e))&&!r.getParentBlock().contains(t.getContainerNode())&&(t=null):(t=function(e,t,r){if(!t)return null;if(t instanceof a.default){var o=r?t.nextInlineElement:t.previousInlineElement;if(o)return o}var n=t.getContainerNode();return n=(0,c.getLeafSibling)(e,n,r),(0,s.default)(e,n)}(this.scoper.rootNode,r,e),t=t&&r&&(e&&t.isAfter(r)||!e&&r.isAfter(t))?t:null),t&&(t=this.scoper.trimInlineElement(t))?(this.currentInline=t,this.currentInline):null):null},e}();t.default=p},"./packages/roosterjs-editor-dom/lib/contentTraverser/PositionContentSearcher.ts":
/*!***************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/contentTraverser/PositionContentSearcher.ts ***!
  \***************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./ContentTraverser */"./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts"),n=r(/*! ../selection/createRange */"./packages/roosterjs-editor-dom/lib/selection/createRange.ts"),i=/[\s\u00A0\u200B\u3000]+([^\s\u00A0\u200B\u3000]*)$/i,s=function(){function e(e,t){this.rootNode=e,this.position=t,this.text="",this.word="",this.inlineBefore=null,this.inlineAfter=null,this.traverser=null,this.traversingComplete=!1,this.inlineElements=[],this.nearestNonTextInlineElement=null}return e.prototype.getWordBefore=function(){var e=this;return this.word||this.traverse((function(){return e.word})),this.word||""},e.prototype.getInlineElementBefore=function(){return this.inlineBefore||this.traverse(null),this.inlineBefore},e.prototype.getInlineElementAfter=function(){return this.inlineAfter||(this.inlineAfter=o.default.createBlockTraverser(this.rootNode,this.position).currentInlineElement),this.inlineAfter},e.prototype.getSubStringBefore=function(e){var t=this;return this.text.length<e&&this.traverse((function(){return t.text.length>=e})),this.text.substr(Math.max(0,this.text.length-e))},e.prototype.getRangeFromText=function(e,t){if(!e)return null;var r=null,o=null,i=e.length-1;return this.forEachTextInlineElement((function(n){for(var s=n.getTextContent()||"",a=s.length-1;a>=0&&i>=0;a--)if(e.charCodeAt(i)==s.charCodeAt(a))i--,o||(o=n.getStartPosition().move(a+1));else if(t||o)return!0;return-1==i&&(r=n.getStartPosition().move(a+1),!0)})),r&&o&&(0,n.default)(r,o)},e.prototype.forEachTextInlineElement=function(e){this.inlineElements.some(e)||this.traverse(e)},e.prototype.getNearestNonTextInlineElement=function(){var e=this;return this.nearestNonTextInlineElement||this.traverse((function(){return e.nearestNonTextInlineElement})),this.nearestNonTextInlineElement},e.prototype.traverse=function(e){if(this.traverser=this.traverser||o.default.createBlockTraverser(this.rootNode,this.position),this.traverser&&!this.traversingComplete)for(var t=this.traverser.getPreviousInlineElement();!this.traversingComplete;){if(this.inlineBefore=this.inlineBefore||t,!t||!t.isTextualInlineElement()){this.nearestNonTextInlineElement=t,this.traversingComplete=!0,this.word||(this.word=this.text);break}var r=t.getTextContent();if(!this.word){var n=i.exec(r);n&&2==n.length&&(this.word=n[1]+this.text)}if(this.text=r+this.text,this.inlineElements.push(t),e&&e(t))break;t=this.traverser.getPreviousInlineElement()}},e}();t.default=s},"./packages/roosterjs-editor-dom/lib/contentTraverser/SelectionBlockScoper.ts":
/*!************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/contentTraverser/SelectionBlockScoper.ts ***!
  \************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../inlineElements/EmptyInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/EmptyInlineElement.ts"),n=r(/*! ../blockElements/getBlockElementAtNode */"./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),i=r(/*! ../inlineElements/getInlineElementAtNode */"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts"),s=r(/*! ../blockElements/NodeBlockElement */"./packages/roosterjs-editor-dom/lib/blockElements/NodeBlockElement.ts"),a=r(/*! ../selection/Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts"),l=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),d=r(/*! ../inlineElements/getInlineElementBeforeAfter */"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementBeforeAfter.ts"),u=r(/*! ../inlineElements/getFirstLastInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/getFirstLastInlineElement.ts"),c=function(){function e(e,t,r){this.rootNode=e,this.startFrom=r,(0,l.default)(t,"Range")&&(t=a.default.getStart(t)),this.position=t.normalize(),this.block=(0,n.default)(this.rootNode,this.position.node)}return e.prototype.getStartBlockElement=function(){return this.block},e.prototype.getStartInlineElement=function(){if(this.block)switch(this.startFrom){case 0:case 1:case 2:return function(e,t){if(e instanceof s.default){var r=e.getStartNode();return t?(0,u.getFirstInlineElement)(r):(0,u.getLastInlineElement)(r)}return(0,i.default)(e,t?e.getStartNode():e.getEndNode())}(this.block,0==this.startFrom);case 3:var e=(0,d.getInlineElementAfter)(this.rootNode,this.position);return e&&this.block.contains(e.getContainerNode())?e:new o.default(this.position,this.block)}return null},e.prototype.isBlockInScope=function(e){return!(!this.block||!e)&&this.block.equals(e)},e.prototype.trimInlineElement=function(e){return this.block&&e&&this.block.contains(e.getContainerNode())?e:null},e}();t.default=c},"./packages/roosterjs-editor-dom/lib/contentTraverser/SelectionScoper.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/contentTraverser/SelectionScoper.ts ***!
  \*******************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../blockElements/getBlockElementAtNode */"./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),n=r(/*! ../inlineElements/PartialInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/PartialInlineElement.ts"),i=r(/*! ../selection/Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts"),s=r(/*! ../inlineElements/getInlineElementBeforeAfter */"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementBeforeAfter.ts"),a=function(){function e(e,t){this.rootNode=e,this.startBlock=null,this.startInline=null,this.start=i.default.getStart(t).normalize(),this.end=i.default.getEnd(t).normalize()}return e.prototype.getStartBlockElement=function(){return this.startBlock||(this.startBlock=(0,o.default)(this.rootNode,this.start.node)),this.startBlock},e.prototype.getStartInlineElement=function(){return this.startInline||(this.startInline=this.trimInlineElement((0,s.getInlineElementAfter)(this.rootNode,this.start))),this.startInline},e.prototype.isBlockInScope=function(e){if(!e)return!1;var t=!1,r=this.getStartBlockElement();if(this.start.equalTo(this.end))t=!!r&&r.equals(e);else{var n=(0,o.default)(this.rootNode,this.end.node);t=!!r&&!!n&&(e.equals(r)||e.equals(n)||e.isAfter(r)&&n.isAfter(e))}return t},e.prototype.trimInlineElement=function(e){if(!e||this.start.equalTo(this.end))return null;var t=e.getStartPosition(),r=e.getEndPosition();if(t.isAfter(this.end)||this.start.isAfter(r))return null;var o=!1,i=!1;return this.start.isAfter(t)&&(t=this.start,o=!0),r.isAfter(this.end)&&(r=this.end,i=!0),t.isAfter(r)||t.equalTo(r)?null:o||i?new n.default(e,o?t:void 0,i?r:void 0):e},e}();t.default=a},"./packages/roosterjs-editor-dom/lib/delimiter/addDelimiters.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/delimiter/addDelimiters.ts ***!
  \**********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addDelimiterBefore=t.addDelimiterAfter=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../utils/createElement */"./packages/roosterjs-editor-dom/lib/utils/createElement.ts"),i=r(/*! ./getDelimiterFromElement */"./packages/roosterjs-editor-dom/lib/delimiter/getDelimiterFromElement.ts"),s="​";function a(e){return u(e,"entityDelimiterAfter")}function l(e){return u(e,"entityDelimiterBefore")}function d(e,t){return e&&(0,i.default)(e)&&e.classList.contains(t)?e:void 0}function u(e,t){var r=(0,n.default)({tag:"span",className:t,children:[s]},e.ownerDocument);if(r){var o="entityDelimiterAfter"==t?"afterend":"beforebegin";e.insertAdjacentElement(o,r)}return r}t.default=function(e){var t,r,n,i,s=(0,o.__read)((r=[],n=(t=e).nextElementSibling,i=t.previousElementSibling,r.push(d(n,"entityDelimiterAfter"),d(i,"entityDelimiterBefore")),r),2),u=s[0],c=s[1];return u||(u=a(e)),c||(c=l(e)),[u,c]},t.addDelimiterAfter=a,t.addDelimiterBefore=l},"./packages/roosterjs-editor-dom/lib/delimiter/getDelimiterFromElement.ts":
/*!********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/delimiter/getDelimiterFromElement.ts ***!
  \********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=function(e){return e&&(0,o.default)(e,"HTMLSpanElement")&&(e.classList.contains("entityDelimiterAfter")||e.classList.contains("entityDelimiterBefore"))&&"​"===e.textContent?e:null}},"./packages/roosterjs-editor-dom/lib/edit/adjustInsertPosition.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/edit/adjustInsertPosition.ts ***!
  \************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/changeElementTag */"./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts"),n=r(/*! ../utils/contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),i=r(/*! ../contentTraverser/ContentTraverser */"./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts"),s=r(/*! ../selection/createRange */"./packages/roosterjs-editor-dom/lib/selection/createRange.ts"),a=r(/*! ../utils/findClosestElementAncestor */"./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts"),l=r(/*! ../blockElements/getBlockElementAtNode */"./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),d=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),u=r(/*! ../utils/isNodeEmpty */"./packages/roosterjs-editor-dom/lib/utils/isNodeEmpty.ts"),c=r(/*! ../selection/isPositionAtBeginningOf */"./packages/roosterjs-editor-dom/lib/selection/isPositionAtBeginningOf.ts"),p=r(/*! ../utils/isVoidHtmlElement */"./packages/roosterjs-editor-dom/lib/utils/isVoidHtmlElement.ts"),f=r(/*! ../inlineElements/LinkInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/LinkInlineElement.ts"),g=r(/*! ../utils/moveChildNodes */"./packages/roosterjs-editor-dom/lib/utils/moveChildNodes.ts"),m=r(/*! ../table/pasteTable */"./packages/roosterjs-editor-dom/lib/table/pasteTable.ts"),v=r(/*! ../selection/Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts"),h=r(/*! ../contentTraverser/PositionContentSearcher */"./packages/roosterjs-editor-dom/lib/contentTraverser/PositionContentSearcher.ts"),b=r(/*! ../utils/queryElements */"./packages/roosterjs-editor-dom/lib/utils/queryElements.ts"),y=r(/*! ../utils/splitTextNode */"./packages/roosterjs-editor-dom/lib/utils/splitTextNode.ts"),E=r(/*! ../jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts"),C=r(/*! ../utils/unwrap */"./packages/roosterjs-editor-dom/lib/utils/unwrap.ts"),k=r(/*! ../utils/wrap */"./packages/roosterjs-editor-dom/lib/utils/wrap.ts"),S=r(/*! ../utils/splitParentNode */"./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts"),j="[contenteditable=false]",T=[function(e,t,r,o){var i,a,d=(0,l.default)(e,r.node);if(d){var c=(0,b.default)(e,"a[href]",null,1,(0,s.default)(r)).filter((function(e){return d.contains(e)}))[0];if(c&&(0,u.default)(c)&&(r=new v.default(c,-2),P(c),c=null),c&&(null===(i=t)||void 0===i?void 0:i.querySelector)&&(null===(a=t)||void 0===a?void 0:a.querySelector("a[href]"))){var p=r.normalize(),f=p.node.parentNode,g=3==p.node.nodeType?(0,y.default)(p.node,p.offset,!1):p.isAtEnd?p.node.nextSibling:p.node,m=e.ownerDocument.createTextNode("");for(f.insertBefore(m,g);m&&(0,n.default)(c,m);)m=(0,S.splitBalancedNodeRange)(m);m&&(r=new v.default(m,-2),P(m))}}return r},function(e,t,r,o){var n=t,i=!1;if(11==n.nodeType){i=!0;var s=(0,E.default)(n.childNodes).filter((function(e){return"BR"!=(0,d.default)(e)}));n=1==s.length?s[0]:null}var l=(0,d.default)(n),u=l&&n&&"BR"==(0,d.default)(n.nextSibling),p=(0,a.default)(r.node,e,"LI"),f=p&&(0,a.default)(p,e,"OL,UL"),h=(0,a.default)(r.node,e,"TD,TH");"LI"==l&&(l=f?(0,d.default)(f):"UL",n=(0,k.default)(n,l));if(("OL"==l||"UL"==l)&&n&&"LI"==(0,d.default)(n.firstChild)){var b=!n.firstChild.nextSibling&&!u;u&&n.parentNode&&P(n.nextSibling),b?((0,C.default)(n.firstChild),(0,C.default)(n)):(0,d.default)(f)==l&&((0,C.default)(n),r=new v.default(p,(0,c.default)(r,p)?-2:-3))}i&&"TABLE"==l&&h&&((0,m.default)(h,n,r,o),r=new v.default(n,0),(0,g.default)(t));return r},function(e,t,r,n){if("P"==(0,d.default)(r.node)){var i=r.normalize(),s=(0,o.default)(r.node,"div");i.node!=s&&(r=i)}return r},function(e,t,r,o){(0,p.default)(r.node)&&(r=new v.default(r.node,r.isAtEnd?-3:-2));return r},function(e,t,r,o){if(o&&o.collapsed){var n=new h.default(e,v.default.getStart(o)),i=n.getInlineElementBefore(),s=n.getInlineElementAfter();i instanceof f.default?r=new v.default(i.getContainerNode(),-3):s instanceof f.default&&(r=new v.default(s.getContainerNode(),-2))}return r},function e(t,r,o,n){var i;if(!(null===(i=o.element)||void 0===i?void 0:i.isContentEditable)){for(var s=void 0,l=(0,a.default)(o.node,t,j);l;)l=(null==(s=l)?void 0:s.parentElement)?(0,a.default)(s.parentElement,t,j):null;if(s)return o=new v.default(s,-3),e(t,r,o,n)}return o},function(e,t,r,o){if(1==t.childNodes.length&&"TABLE"==(0,d.default)(t.childNodes[0])||"TABLE"==(0,d.default)(t)){var n=r.element,l=new v.default(n,-2),u=(0,s.default)(l,r),c=i.default.createSelectionTraverser(e,u),p=c&&c.currentBlockElement;if(p){for(var f=p;!f;)(f=c.getNextBlockElement())&&(p=f);var g=null==p?void 0:p.getEndNode();if(g&&(0,a.default)(g,e,"TABLE")){var m=(0,s.default)(r);m.collapse(!1);var h=e.ownerDocument.createElement("br");m.insertNode(h),m=(0,s.default)(h),r=v.default.getEnd(m)}}}return r}];function P(e){var t;null===(t=null==e?void 0:e.parentNode)||void 0===t||t.removeChild(e)}t.default=function(e,t,r,o){return T.forEach((function(n){r=n(e,t,r,o)})),r}},"./packages/roosterjs-editor-dom/lib/edit/deleteSelectedContent.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/edit/deleteSelectedContent.ts ***!
  \*************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../jsUtils/arrayPush */"./packages/roosterjs-editor-dom/lib/jsUtils/arrayPush.ts"),i=r(/*! ../region/collapseNodesInRegion */"./packages/roosterjs-editor-dom/lib/region/collapseNodesInRegion.ts"),s=r(/*! ../region/getRegionsFromRange */"./packages/roosterjs-editor-dom/lib/region/getRegionsFromRange.ts"),a=r(/*! ../region/getSelectionRangeInRegion */"./packages/roosterjs-editor-dom/lib/region/getSelectionRangeInRegion.ts"),l=r(/*! ../region/mergeBlocksInRegion */"./packages/roosterjs-editor-dom/lib/region/mergeBlocksInRegion.ts"),d=r(/*! ../selection/Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts"),u=r(/*! ../utils/queryElements */"./packages/roosterjs-editor-dom/lib/utils/queryElements.ts"),c=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),p=r(/*! ../utils/splitTextNode */"./packages/roosterjs-editor-dom/lib/utils/splitTextNode.ts");function f(e,t,r){var o,n;if((0,c.default)(e,"Text")){var i=(0,p.default)(e,t,r);return r?[i,e]:[e,i]}var s=e.childNodes[t-1],a=e.childNodes[t];if(s||a||(r?s=(a=e).previousSibling:a=(s=e).nextSibling),(s||a)&&(!s||!a)){var l=e.ownerDocument.createTextNode("");null===(n=null===(o=s||a)||void 0===o?void 0:o.parentNode)||void 0===n||n.insertBefore(l,a),s?a=l:s=l}return[s,a]}t.default=function(e,t){var r=null,p=(0,u.default)(e,"table,tr",null,2,t),g=(0,s.default)(e,t,0).map((function(e){var t=(0,a.default)(e);if(!t)return null;var s=t.startContainer,l=t.endContainer,d=t.startOffset,u=t.endOffset,g=t.commonAncestorContainer;if((0,c.default)(g,"HTMLElement")&&!g.isContentEditable)return null;var m=(0,o.__read)(f(l,u,!1),2),v=m[0],h=m[1],b=(0,o.__read)(f(s,d,!0),2),y=b[0],E=b[1];r=r||y;var C=(0,i.default)(e,[E,v]);return(0,n.default)(p,C),{region:e,beforeStart:y,afterEnd:h}})).filter((function(e){return!!e}));return p.forEach((function(e){var t;return(null===(t=e.parentElement)||void 0===t?void 0:t.isContentEditable)&&e.parentElement.removeChild(e)})),g.forEach((function(e){e&&(0,l.default)(e.region,e.beforeStart,e.afterEnd)})),r&&new d.default(r,-1)}},"./packages/roosterjs-editor-dom/lib/edit/getTextContent.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/edit/getTextContent.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../contentTraverser/ContentTraverser */"./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts");t.default=function(e){for(var t=o.default.createBodyTraverser(e),r=t&&t.currentBlockElement,n=[];r;)n.push(r.getTextContent()),r=t.getNextBlockElement();return n.join("\n")}},"./packages/roosterjs-editor-dom/lib/entity/commitEntity.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/entity/commitEntity.ts ***!
  \******************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="contenteditable";t.default=function(e,t,o,n){e&&(e.className="_Entity _EType_"+t+" "+(n?"_EId_"+n+" ":"")+"_EReadonly_"+(o?"1":"0"),o?e.contentEditable="false":e.getAttribute(r)&&e.removeAttribute(r))}},"./packages/roosterjs-editor-dom/lib/entity/entityPlaceholderUtils.ts":
/*!****************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/entity/entityPlaceholderUtils.ts ***!
  \****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restoreContentWithEntityPlaceholder=t.moveContentWithEntityPlaceholders=t.createEntityPlaceholder=void 0;var o=r(/*! ./getEntityFromElement */"./packages/roosterjs-editor-dom/lib/entity/getEntityFromElement.ts"),n=r(/*! ./getEntitySelector */"./packages/roosterjs-editor-dom/lib/entity/getEntitySelector.ts"),i=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");function s(e,t){for(var r;e&&(!t||e!=t);){var o=e;e=e.nextSibling,null===(r=o.parentNode)||void 0===r||r.removeChild(o)}return e}function a(e,t){var r,n=(0,i.default)(t,"HTMLElement")&&t.classList.contains("_Entity")&&(null===(r=(0,o.default)(t))||void 0===r?void 0:r.id),s=n?null==e?void 0:e[n]:null;return s?(0,i.default)(s,"HTMLElement")?s:(null==s?void 0:s.canPersist)?s.element:null:null}function l(e,t){return t[e.id]=e.wrapper,e.wrapper.cloneNode(!0)}t.createEntityPlaceholder=function(e){var t=e.wrapper.ownerDocument.createElement("ENTITY-PLACEHOLDER");return t.id=e.id,t},t.moveContentWithEntityPlaceholders=function(e,t){for(var r=(0,n.default)(),s=e.ownerDocument.createDocumentFragment(),a=null,d=function(e){var n,d=e;a=e.nextSibling,(0,i.default)(e,"HTMLElement")&&((n=(0,o.default)(e))?d=l(n,t):e.querySelectorAll(r).forEach((function(e){var r;if(n=(0,o.default)(e)){var i=l(n,t);null===(r=e.parentNode)||void 0===r||r.replaceChild(i,e)}}))),s.appendChild(d)},u=e.firstChild;u;u=a)d(u);return s.normalize(),s},t.restoreContentWithEntityPlaceholder=function(e,t,r,o){for(var l=t.firstChild,d=(0,n.default)(),u=e.firstChild;u;){var c=u.nextSibling,p=a(r,u);if(p)(l=s(l,p))?l=l.nextSibling:t.appendChild(p);else{var f=o?u.cloneNode(!0):u;t.insertBefore(f,l),(0,i.default)(f,"HTMLElement")&&f.querySelectorAll(d).forEach((function(e){var t,o=a(r,e);o&&(null===(t=e.parentNode)||void 0===t||t.replaceChild(o,e))}))}u=c}s(l)}},"./packages/roosterjs-editor-dom/lib/entity/getEntityFromElement.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/entity/getEntityFromElement.ts ***!
  \**************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r=!1,o="",n="",i=!1;return null===(t=null==e?void 0:e.className)||void 0===t||t.split(" ").forEach((function(e){"_Entity"==e?r=!0:0==e.indexOf("_EType_")?o=e.substr(7):0==e.indexOf("_EId_")?n=e.substr(5):0==e.indexOf("_EReadonly_")&&(i="1"==e.substr(11))})),r?{wrapper:e,id:n,type:o,isReadonly:i}:null}},"./packages/roosterjs-editor-dom/lib/entity/getEntitySelector.ts":
/*!***********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/entity/getEntitySelector.ts ***!
  \***********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return"._Entity"+(e?"._EType_"+e:"")+(t?"._EId_"+t:"")}},"./packages/roosterjs-editor-dom/lib/event/cacheGetEventData.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/event/cacheGetEventData.ts ***!
  \**********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var o=e&&e.eventDataCache&&e.eventDataCache.hasOwnProperty(t)?e.eventDataCache[t]:r();return e&&(e.eventDataCache=e.eventDataCache||{},e.eventDataCache[t]=o),o}},"./packages/roosterjs-editor-dom/lib/event/clearEventDataCache.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/event/clearEventDataCache.ts ***!
  \************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e&&e.eventDataCache&&(t&&e.eventDataCache.hasOwnProperty(t)?delete e.eventDataCache[t]:t||(e.eventDataCache={}))}},"./packages/roosterjs-editor-dom/lib/event/isCharacterValue.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/event/isCharacterValue.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./isModifierKey */"./packages/roosterjs-editor-dom/lib/event/isModifierKey.ts");t.default=function(e){return!(0,o.default)(e)&&!!e.key&&1==e.key.length}},"./packages/roosterjs-editor-dom/lib/event/isCtrlOrMetaPressed.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/event/isCtrlOrMetaPressed.ts ***!
  \************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/Browser */"./packages/roosterjs-editor-dom/lib/utils/Browser.ts").Browser.isMac?function(e){return e.metaKey}:function(e){return e.ctrlKey};t.default=function(e){return o(e)}},"./packages/roosterjs-editor-dom/lib/event/isModifierKey.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/event/isModifierKey.ts ***!
  \******************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.ctrlKey||"Control"===e.key,r=e.altKey||"Alt"===e.key,o=e.metaKey||"Meta"===e.key;return t||r||o}},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/HtmlSanitizer.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/htmlSanitizer/HtmlSanitizer.ts ***!
  \**************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../utils/changeElementTag */"./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts"),i=r(/*! ./getInheritableStyles */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/getInheritableStyles.ts"),s=r(/*! ../jsUtils/getObjectKeys */"./packages/roosterjs-editor-dom/lib/jsUtils/getObjectKeys.ts"),a=r(/*! ./getPredefinedCssForElement */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/getPredefinedCssForElement.ts"),l=r(/*! ../style/getStyles */"./packages/roosterjs-editor-dom/lib/style/getStyles.ts"),d=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),u=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),c=r(/*! ../style/setStyles */"./packages/roosterjs-editor-dom/lib/style/setStyles.ts"),p=r(/*! ../jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts"),f=r(/*! ./cloneObject */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/cloneObject.ts"),g=r(/*! ./processCssVariable */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/processCssVariable.ts"),m=r(/*! ./getAllowedValues */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/getAllowedValues.ts"),v=function(){function e(e){e=e||{},this.elementCallbacks=(0,f.cloneObject)(e.elementCallbacks),this.styleCallbacks=(0,m.getStyleCallbacks)(e.cssStyleCallbacks),this.attributeCallbacks=(0,f.cloneObject)(e.attributeCallbacks),this.tagReplacements=(0,m.getTagReplacement)(e.additionalTagReplacements),this.allowedAttributes=(0,m.getAllowedAttributes)(e.additionalAllowedAttributes),this.allowedCssClassesRegex=(0,m.getAllowedCssClassesRegex)(e.additionalAllowedCssClasses),this.defaultStyleValues=(0,m.getDefaultStyleValues)(e.additionalDefaultStyleValues),this.additionalPredefinedCssForElement=e.additionalPredefinedCssForElement||null,this.additionalGlobalStyleNodes=e.additionalGlobalStyleNodes||[],this.preserveHtmlComments=e.preserveHtmlComments||!1,this.unknownTagReplacement=e.unknownTagReplacement||null}return e.convertInlineCss=function(t,r){return new e({additionalGlobalStyleNodes:r}).exec(t,!0)},e.sanitizeHtml=function(t,r){var o=new e(r=r||{}),n=(0,u.default)(r.currentElementOrStyle,"HTMLElement")?(0,i.default)(r.currentElementOrStyle):r.currentElementOrStyle;return o.exec(t,r.convertCssOnly,n)},e.prototype.exec=function(e,t,r){var o=(new DOMParser).parseFromString(e||"","text/html");return o&&o.body&&o.body.firstChild&&(this.convertGlobalCssToInlineCss(o),t||this.sanitize(o.body,r)),o&&o.body&&o.body.innerHTML||""},e.prototype.sanitize=function(e,t){if(!e)return"";t=(0,f.cloneObject)(t,(0,i.default)(null)),this.processNode(e,t,{})},e.prototype.convertGlobalCssToInlineCss=function(e){var t,r,n=(0,p.default)(e.querySelectorAll("style")),i=this.additionalGlobalStyleNodes.reverse().map((function(e){return e.sheet})).concat(n.map((function(e){return e.sheet})).reverse()).filter((function(e){return e}));try{for(var s=(0,o.__values)(i),a=s.next();!a.done;a=s.next())for(var l=a.value,d=function(t){var r,n,i=l.cssRules[t],s=i&&i.style?i.style.cssText:null;if(i.type!=CSSRule.STYLE_RULE||!s||!i.selectorText)return"continue";try{for(var a=(r=void 0,(0,o.__values)(i.selectorText.split(","))),d=a.next();!d.done;d=a.next()){var u=d.value;if(u&&u.trim()&&!(u.indexOf(":")>=0))(0,p.default)(e.querySelectorAll(u)).forEach((function(e){return e.setAttribute("style",s+(e.getAttribute("style")||""))}))}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},u=l.cssRules.length-1;u>=0;u--)d(u)}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}n.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},e.prototype.processNode=function(e,t,r){var o,i=e.nodeType,s=1==i,a=3==i,l=11==i,u=8==i,c=!1;if(s){var p=(0,d.default)(e),g=this.elementCallbacks[p],m=this.tagReplacements[p.toLowerCase()];void 0===m&&(m=this.unknownTagReplacement),g?c=g(e,r):p.indexOf(":")>0||p==m||"*"==m?c=!0:m&&/^[a-zA-Z][\w\-]*$/.test(m)&&(e=(0,n.default)(e,m),c=!0)}else if(a){var v=t["white-space"];c="pre"==v||"pre-line"==v||"pre-wrap"==v||!/^[\r\n]*$/g.test(e.nodeValue||"")}else c=!!l||!!u&&this.preserveHtmlComments;if(c)if(!a||"pre"!=t["white-space"]&&"pre-wrap"!=t["white-space"]){if(s||l){var h=(0,f.cloneObject)(t),b=e;s&&(this.processAttributes(b,r),this.preprocessCss(b,h),this.processCss(b,h,r));for(var y=b.firstChild,E=void 0;y;y=E)E=y.nextSibling,this.processNode(y,h,r)}}else e.nodeValue=(e.nodeValue||"").replace(/^ /gm," ").replace(/ {2}/g,"  ");else null===(o=e.parentNode)||void 0===o||o.removeChild(e)},e.prototype.preprocessCss=function(e,t){var r=(0,a.default)(e,this.additionalPredefinedCssForElement);r&&(0,s.default)(r).forEach((function(e){t[e]=r[e]}))},e.prototype.processCss=function(e,t,r){var o=this,n=(0,l.default)(e);(0,s.default)(n).forEach((function(i){var s=n[i],a=o.styleCallbacks[i],l=null!=t[i],d=!0;d&&a&&(d=a(s,e,t,r)),d&&(0,g.isCssVariable)(s)&&(d=!!(s=(0,g.processCssVariable)(s))),(d=d&&"inherit"!=s&&s.indexOf("expression")<0&&"-"!=i.substr(0,1)&&o.defaultStyleValues[i]!=s&&(l&&s!=t[i]||!l&&"initial"!=s&&"normal"!=s))&&l&&(t[i]=s),d?n[i]=s:delete n[i]})),(0,c.default)(e,n)},e.prototype.processAttributes=function(e,t){for(var r=e.attributes.length-1;r>=0;r--){var o=e.attributes[r],n=o.name.toLowerCase().trim(),i=o.value,s=this.attributeCallbacks[n],a=s?s(i,e,t):this.allowedAttributes.indexOf(n)>=0||0==n.indexOf("data-")?i:null;"class"==n&&this.allowedCssClassesRegex&&(a=this.processCssClass(i,a)),null==a||a.match(/s\n*c\n*r\n*i\n*p\n*t\n*:/i)?e.removeAttribute(n):o.value=a}},e.prototype.processCssClass=function(e,t){var r=this,o=e?e.split(" "):[],n=t?t.split(" "):[];return o.forEach((function(e){var t;(null===(t=r.allowedCssClassesRegex)||void 0===t?void 0:t.test(e))&&n.indexOf(e)<0&&n.push(e)})),(null==n?void 0:n.length)>0?n.join(" "):null},e}();t.default=v},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/chainSanitizerCallback.ts":
/*!***********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/htmlSanitizer/chainSanitizerCallback.ts ***!
  \***********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs");t.default=function(e,t,r){if(e[t]){var n=e[t];e[t]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(void 0,(0,o.__spreadArray)([],(0,o.__read)(e),!1)),r.apply(void 0,(0,o.__spreadArray)([],(0,o.__read)(e),!1))}}else e[t]=r}},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/cloneObject.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/htmlSanitizer/cloneObject.ts ***!
  \************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneObject=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../jsUtils/getObjectKeys */"./packages/roosterjs-editor-dom/lib/jsUtils/getObjectKeys.ts");var i=Object.assign?function(e,t){return Object.assign(t||{},e)}:function(e,t){var r,i,s=t||{};if(e)try{for(var a=(0,o.__values)((0,n.default)(e)),l=a.next();!l.done;l=a.next()){var d=l.value;s[d]=e[d]}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return s};t.cloneObject=function(e,t){return i(e,t)}},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/createDefaultHtmlSanitizerOptions.ts":
/*!**********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/htmlSanitizer/createDefaultHtmlSanitizerOptions.ts ***!
  \**********************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{elementCallbacks:{},attributeCallbacks:{},cssStyleCallbacks:{},additionalTagReplacements:{},additionalAllowedAttributes:[],additionalAllowedCssClasses:[],additionalDefaultStyleValues:{},additionalGlobalStyleNodes:[],additionalPredefinedCssForElement:{},preserveHtmlComments:!1,unknownTagReplacement:null}}},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/getAllowedValues.ts":
/*!*****************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/htmlSanitizer/getAllowedValues.ts ***!
  \*****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStyleCallbacks=t.getDefaultStyleValues=t.getAllowedCssClassesRegex=t.getAllowedAttributes=t.getTagReplacement=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../jsUtils/getObjectKeys */"./packages/roosterjs-editor-dom/lib/jsUtils/getObjectKeys.ts"),i=r(/*! ./cloneObject */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/cloneObject.ts"),s={a:"*",abbr:"*",address:"*",area:"*",article:"*",aside:"*",b:"*",bdi:"*",bdo:"*",blockquote:"*",body:"*",br:"*",button:"*",canvas:"*",caption:"*",center:"*",cite:"*",code:"*",col:"*",colgroup:"*",data:"*",datalist:"*",dd:"*",del:"*",details:"*",dfn:"*",dialog:"*",dir:"*",div:"*",dl:"*",dt:"*",em:"*",fieldset:"*",figcaption:"*",figure:"*",font:"*",footer:"*",h1:"*",h2:"*",h3:"*",h4:"*",h5:"*",h6:"*",head:"*",header:"*",hgroup:"*",hr:"*",html:"*",i:"*",img:"*",input:"*",ins:"*",kbd:"*",label:"*",legend:"*",li:"*",main:"*",map:"*",mark:"*",menu:"*",menuitem:"*",meter:"*",nav:"*",ol:"*",optgroup:"*",option:"*",output:"*",p:"*",picture:"*",pre:"*",progress:"*",q:"*",rp:"*",rt:"*",ruby:"*",s:"*",samp:"*",section:"*",select:"*",small:"*",span:"*",strike:"*",strong:"*",sub:"*",summary:"*",sup:"*",table:"*",tbody:"*",td:"*",textarea:"*",tfoot:"*",th:"*",thead:"*",time:"*",tr:"*",tt:"*",u:"*",ul:"*",var:"*",wbr:"*",xmp:"*",form:"SPAN",applet:null,audio:null,base:null,basefont:null,embed:null,frame:null,frameset:null,iframe:null,link:null,meta:null,noscript:null,object:null,param:null,script:null,slot:null,source:null,style:null,template:null,title:null,track:null,video:null},a="accept,align,alt,checked,cite,color,cols,colspan,contextmenu,coords,datetime,default,dir,dirname,disabled,download,face,headers,height,hidden,high,href,hreflang,ismap,kind,label,lang,list,low,max,maxlength,media,min,multiple,open,optimum,pattern,placeholder,readonly,rel,required,reversed,rows,rowspan,scope,selected,shape,size,sizes,span,spellcheck,src,srclang,srcset,start,step,style,tabindex,target,title,translate,type,usemap,valign,value,width,wrap,bgColor".split(","),l={"background-color":"transparent","border-bottom-color":"rgb(0, 0, 0)","border-bottom-style":"none","border-bottom-width":"0px","border-image-outset":"0","border-image-repeat":"stretch","border-image-slice":"100%","border-image-source":"none","border-image-width":"1","border-left-color":"rgb(0, 0, 0)","border-left-style":"none","border-left-width":"0px","border-right-color":"rgb(0, 0, 0)","border-right-style":"none","border-right-width":"0px","border-top-color":"rgb(0, 0, 0)","border-top-style":"none","border-top-width":"0px","outline-color":"transparent","outline-style":"none","outline-width":"0px",overflow:"visible","-webkit-text-stroke-width":"0px","word-wrap":"break-word","margin-left":"0px","margin-right":"0px",padding:"0px","padding-top":"0px","padding-left":"0px","padding-right":"0px","padding-bottom":"0px",border:"0px","border-top":"0px","border-left":"0px","border-right":"0px","border-bottom":"0px","vertical-align":"baseline",float:"none"},d=[];function u(){return null}function c(e,t){var r=t.tagName;return!("LI"==r||"DIV"==r)}t.getTagReplacement=function(e){var t=(0,o.__assign)({},s),r=e||{};return(0,n.default)(r).forEach((function(e){e&&(t[e.toLowerCase()]=r[e])})),t},t.getAllowedAttributes=function(e){return(t=a.concat(e||[]),t.filter((function(e,t,r){return r.indexOf(e)==t}))).map((function(e){return e.toLocaleLowerCase()}));var t},t.getAllowedCssClassesRegex=function(e){var t=d.concat(e||[]);return t.length>0?new RegExp(t.join("|")):null},t.getDefaultStyleValues=function(e){var t=(0,i.cloneObject)(l);return e&&Object.keys(e).forEach((function(r){var o=e[r];null!=o?t[r]=o:delete t[r]})),t},t.getStyleCallbacks=function(e){var t=(0,i.cloneObject)(e);return t.position=t.position||u,t.width=t.width||c,t}},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/getInheritableStyles.ts":
/*!*********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/htmlSanitizer/getInheritableStyles.ts ***!
  \*********************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="border-spacing,caption-side,color,cursor,direction,empty-cells,font-family,font-size,font-style,font-variant,font-weight,font,letter-spacing,line-height,list-style-image,list-style-position,list-style-type,list-style,orphans,quotes,text-align,text-indent,text-transform,visibility,white-space,widows,word-spacing".split(",");t.default=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView,o=t&&e&&t.getComputedStyle(e),n={};return r.forEach((function(e){return n[e]=o&&o.getPropertyValue(e)||""})),n}},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/getPredefinedCssForElement.ts":
/*!***************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/htmlSanitizer/getPredefinedCssForElement.ts ***!
  \***************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),n={B:{"font-weight":"bold"},EM:{"font-style":"italic"},I:{"font-style":"italic"},U:{"text-decoration":"underline"},P:{"margin-top":"1em","margin-bottom":"1em"},PRE:{"white-space":"pre"},S:{"text-decoration":"line-through"},STRIKE:{"text-decoration":"line-through"},SUB:{"vertical-align":"sub","font-size":"smaller"},SUP:{"vertical-align":"super","font-size":"smaller"}};t.default=function(e,t){var r=(0,o.default)(e);return n[r]||(t||{})[r]}},"./packages/roosterjs-editor-dom/lib/htmlSanitizer/processCssVariable.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/htmlSanitizer/processCssVariable.ts ***!
  \*******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCssVariable=t.processCssVariable=void 0;var r=/^\s*var\(\s*[a-zA-Z0-9-_]+\s*(,\s*(.*))?\)\s*$/;t.processCssVariable=function(e){var t=r.exec(e);return(null==t?void 0:t[2])||""},t.isCssVariable=function(e){return 0==e.indexOf("var(")}},"./packages/roosterjs-editor-dom/lib/index.ts":
/*!****************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/index.ts ***!
  \****************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeRect=t.splitTextNode=t.getLastLeafNode=t.getFirstLeafNode=t.getPreviousLeafSibling=t.getNextLeafSibling=t.wrap=t.unwrap=t.splitBalancedNodeRange=t.splitParentNode=t.queryElements=t.matchLink=t.isVoidHtmlElement=t.isNodeEmpty=t.isBlockElement=t.getTagOfNode=t.PendableFormatCommandMap=t.getPendableFormatState=t.getComputedStyle=t.getComputedStyles=t.fromHtml=t.findClosestElementAncestor=t.contains=t.collapseNodes=t.changeElementTag=t.applyFormat=t.getBrowserInfo=t.Browser=t.getPasteType=t.sanitizePasteContent=t.retrieveMetadataFromClipboard=t.handleTextPaste=t.handleImagePaste=t.extractClipboardItemsForIE=t.extractClipboardItems=t.extractClipboardEvent=t.applyTextStyle=t.PartialInlineElement=t.NodeInlineElement=t.LinkInlineElement=t.ImageInlineElement=t.getInlineElementAtNode=t.getDelimiterFromElement=t.addDelimiterBefore=t.addDelimiterAfter=t.addDelimiters=t.PositionContentSearcher=t.ContentTraverser=t.getFirstLastBlockElement=t.getBlockElementAtNode=void 0,t.getInheritableStyles=t.HtmlSanitizer=t.canUndoAutoComplete=t.createSnapshots=t.moveCurrentSnapsnot=t.moveCurrentSnapshot=t.clearProceedingSnapshotsV2=t.clearProceedingSnapshots=t.canMoveCurrentSnapshot=t.addSnapshotV2=t.addSnapshot=t.addRangeToSelection=t.extractContentMetadata=t.setHtmlWithMetadata=t.setHtmlWithSelectionPath=t.getHtmlWithSelectionPath=t.getSelectionPath=t.isPositionAtBeginningOf=t.getPositionRect=t.createRange=t.Position=t.mergeBlocksInRegion=t.getSelectionRangeInRegion=t.isNodeInRegion=t.collapseNodesInRegion=t.getSelectedBlockElementsInRegion=t.getRegionsFromRange=t.getTableCellMetadata=t.saveTableCellMetadata=t.getTableFormatInfo=t.setListItemStyle=t.convertDecimalsToRoman=t.convertDecimalsToAlpha=t.VListChain=t.createVListFromRegion=t.VListItem=t.VList=t.isWholeTableSelected=t.VTable=t.parseColor=t.isNodeAfter=t.getIntersectedRect=t.moveChildNodes=t.KnownCreateElementData=t.createElement=t.matchesSelector=t.setColor=t.getInnerHTML=t.readFile=t.safeInstanceOf=void 0,t.getPasteSource=t.toArray=t.getObjectKeys=t.arrayPush=t.removeMetadata=t.setMetadata=t.getMetadata=t.createObjectDefinition=t.createArrayDefinition=t.createStringDefinition=t.createBooleanDefinition=t.createNumberDefinition=t.validate=t.getTextContent=t.deleteSelectedContent=t.adjustInsertPosition=t.removeGlobalCssStyle=t.setGlobalCssStyles=t.removeImportantStyleRule=t.setStyles=t.getStyles=t.isCtrlOrMetaPressed=t.isCharacterValue=t.isModifierKey=t.clearEventDataCache=t.cacheGetEventData=t.restoreContentWithEntityPlaceholder=t.moveContentWithEntityPlaceholders=t.createEntityPlaceholder=t.getEntitySelector=t.getEntityFromElement=t.commitEntity=t.chainSanitizerCallback=t.createDefaultHtmlSanitizerOptions=void 0;var o=r(/*! ./blockElements/getBlockElementAtNode */"./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts");Object.defineProperty(t,"getBlockElementAtNode",{enumerable:!0,get:function(){return o.default}});var n=r(/*! ./blockElements/getFirstLastBlockElement */"./packages/roosterjs-editor-dom/lib/blockElements/getFirstLastBlockElement.ts");Object.defineProperty(t,"getFirstLastBlockElement",{enumerable:!0,get:function(){return n.default}});var i=r(/*! ./contentTraverser/ContentTraverser */"./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts");Object.defineProperty(t,"ContentTraverser",{enumerable:!0,get:function(){return i.default}});var s=r(/*! ./contentTraverser/PositionContentSearcher */"./packages/roosterjs-editor-dom/lib/contentTraverser/PositionContentSearcher.ts");Object.defineProperty(t,"PositionContentSearcher",{enumerable:!0,get:function(){return s.default}});var a=r(/*! ./delimiter/addDelimiters */"./packages/roosterjs-editor-dom/lib/delimiter/addDelimiters.ts");Object.defineProperty(t,"addDelimiters",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"addDelimiterAfter",{enumerable:!0,get:function(){return a.addDelimiterAfter}}),Object.defineProperty(t,"addDelimiterBefore",{enumerable:!0,get:function(){return a.addDelimiterBefore}});var l=r(/*! ./delimiter/getDelimiterFromElement */"./packages/roosterjs-editor-dom/lib/delimiter/getDelimiterFromElement.ts");Object.defineProperty(t,"getDelimiterFromElement",{enumerable:!0,get:function(){return l.default}});var d=r(/*! ./inlineElements/getInlineElementAtNode */"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts");Object.defineProperty(t,"getInlineElementAtNode",{enumerable:!0,get:function(){return d.default}});var u=r(/*! ./inlineElements/ImageInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/ImageInlineElement.ts");Object.defineProperty(t,"ImageInlineElement",{enumerable:!0,get:function(){return u.default}});var c=r(/*! ./inlineElements/LinkInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/LinkInlineElement.ts");Object.defineProperty(t,"LinkInlineElement",{enumerable:!0,get:function(){return c.default}});var p=r(/*! ./inlineElements/NodeInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/NodeInlineElement.ts");Object.defineProperty(t,"NodeInlineElement",{enumerable:!0,get:function(){return p.default}});var f=r(/*! ./inlineElements/PartialInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/PartialInlineElement.ts");Object.defineProperty(t,"PartialInlineElement",{enumerable:!0,get:function(){return f.default}});var g=r(/*! ./inlineElements/applyTextStyle */"./packages/roosterjs-editor-dom/lib/inlineElements/applyTextStyle.ts");Object.defineProperty(t,"applyTextStyle",{enumerable:!0,get:function(){return g.default}});var m=r(/*! ./clipboard/extractClipboardEvent */"./packages/roosterjs-editor-dom/lib/clipboard/extractClipboardEvent.ts");Object.defineProperty(t,"extractClipboardEvent",{enumerable:!0,get:function(){return m.default}});var v=r(/*! ./clipboard/extractClipboardItems */"./packages/roosterjs-editor-dom/lib/clipboard/extractClipboardItems.ts");Object.defineProperty(t,"extractClipboardItems",{enumerable:!0,get:function(){return v.default}});var h=r(/*! ./clipboard/extractClipboardItemsForIE */"./packages/roosterjs-editor-dom/lib/clipboard/extractClipboardItemsForIE.ts");Object.defineProperty(t,"extractClipboardItemsForIE",{enumerable:!0,get:function(){return h.default}});var b=r(/*! ./clipboard/handleImagePaste */"./packages/roosterjs-editor-dom/lib/clipboard/handleImagePaste.ts");Object.defineProperty(t,"handleImagePaste",{enumerable:!0,get:function(){return b.default}});var y=r(/*! ./clipboard/handleTextPaste */"./packages/roosterjs-editor-dom/lib/clipboard/handleTextPaste.ts");Object.defineProperty(t,"handleTextPaste",{enumerable:!0,get:function(){return y.default}});var E=r(/*! ./clipboard/retrieveMetadataFromClipboard */"./packages/roosterjs-editor-dom/lib/clipboard/retrieveMetadataFromClipboard.ts");Object.defineProperty(t,"retrieveMetadataFromClipboard",{enumerable:!0,get:function(){return E.default}});var C=r(/*! ./clipboard/sanitizePasteContent */"./packages/roosterjs-editor-dom/lib/clipboard/sanitizePasteContent.ts");Object.defineProperty(t,"sanitizePasteContent",{enumerable:!0,get:function(){return C.default}});var k=r(/*! ./clipboard/getPasteType */"./packages/roosterjs-editor-dom/lib/clipboard/getPasteType.ts");Object.defineProperty(t,"getPasteType",{enumerable:!0,get:function(){return k.default}});var S=r(/*! ./utils/Browser */"./packages/roosterjs-editor-dom/lib/utils/Browser.ts");Object.defineProperty(t,"Browser",{enumerable:!0,get:function(){return S.Browser}}),Object.defineProperty(t,"getBrowserInfo",{enumerable:!0,get:function(){return S.getBrowserInfo}});var j=r(/*! ./utils/applyFormat */"./packages/roosterjs-editor-dom/lib/utils/applyFormat.ts");Object.defineProperty(t,"applyFormat",{enumerable:!0,get:function(){return j.default}});var T=r(/*! ./utils/changeElementTag */"./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts");Object.defineProperty(t,"changeElementTag",{enumerable:!0,get:function(){return T.default}});var P=r(/*! ./utils/collapseNodes */"./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts");Object.defineProperty(t,"collapseNodes",{enumerable:!0,get:function(){return P.default}});var _=r(/*! ./utils/contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts");Object.defineProperty(t,"contains",{enumerable:!0,get:function(){return _.default}});var O=r(/*! ./utils/findClosestElementAncestor */"./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts");Object.defineProperty(t,"findClosestElementAncestor",{enumerable:!0,get:function(){return O.default}});var w=r(/*! ./utils/fromHtml */"./packages/roosterjs-editor-dom/lib/utils/fromHtml.ts");Object.defineProperty(t,"fromHtml",{enumerable:!0,get:function(){return w.default}});var I=r(/*! ./utils/getComputedStyles */"./packages/roosterjs-editor-dom/lib/utils/getComputedStyles.ts");Object.defineProperty(t,"getComputedStyles",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"getComputedStyle",{enumerable:!0,get:function(){return I.getComputedStyle}});var A=r(/*! ./utils/getPendableFormatState */"./packages/roosterjs-editor-dom/lib/utils/getPendableFormatState.ts");Object.defineProperty(t,"getPendableFormatState",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"PendableFormatCommandMap",{enumerable:!0,get:function(){return A.PendableFormatCommandMap}});var D=r(/*! ./utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts");Object.defineProperty(t,"getTagOfNode",{enumerable:!0,get:function(){return D.default}});var x=r(/*! ./utils/isBlockElement */"./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts");Object.defineProperty(t,"isBlockElement",{enumerable:!0,get:function(){return x.default}});var L=r(/*! ./utils/isNodeEmpty */"./packages/roosterjs-editor-dom/lib/utils/isNodeEmpty.ts");Object.defineProperty(t,"isNodeEmpty",{enumerable:!0,get:function(){return L.default}});var M=r(/*! ./utils/isVoidHtmlElement */"./packages/roosterjs-editor-dom/lib/utils/isVoidHtmlElement.ts");Object.defineProperty(t,"isVoidHtmlElement",{enumerable:!0,get:function(){return M.default}});var R=r(/*! ./utils/matchLink */"./packages/roosterjs-editor-dom/lib/utils/matchLink.ts");Object.defineProperty(t,"matchLink",{enumerable:!0,get:function(){return R.default}});var N=r(/*! ./utils/queryElements */"./packages/roosterjs-editor-dom/lib/utils/queryElements.ts");Object.defineProperty(t,"queryElements",{enumerable:!0,get:function(){return N.default}});var B=r(/*! ./utils/splitParentNode */"./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts");Object.defineProperty(t,"splitParentNode",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(t,"splitBalancedNodeRange",{enumerable:!0,get:function(){return B.splitBalancedNodeRange}});var F=r(/*! ./utils/unwrap */"./packages/roosterjs-editor-dom/lib/utils/unwrap.ts");Object.defineProperty(t,"unwrap",{enumerable:!0,get:function(){return F.default}});var H=r(/*! ./utils/wrap */"./packages/roosterjs-editor-dom/lib/utils/wrap.ts");Object.defineProperty(t,"wrap",{enumerable:!0,get:function(){return H.default}});var z=r(/*! ./utils/getLeafSibling */"./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts");Object.defineProperty(t,"getNextLeafSibling",{enumerable:!0,get:function(){return z.getNextLeafSibling}}),Object.defineProperty(t,"getPreviousLeafSibling",{enumerable:!0,get:function(){return z.getPreviousLeafSibling}});var U=r(/*! ./utils/getLeafNode */"./packages/roosterjs-editor-dom/lib/utils/getLeafNode.ts");Object.defineProperty(t,"getFirstLeafNode",{enumerable:!0,get:function(){return U.getFirstLeafNode}}),Object.defineProperty(t,"getLastLeafNode",{enumerable:!0,get:function(){return U.getLastLeafNode}});var K=r(/*! ./utils/splitTextNode */"./packages/roosterjs-editor-dom/lib/utils/splitTextNode.ts");Object.defineProperty(t,"splitTextNode",{enumerable:!0,get:function(){return K.default}});var W=r(/*! ./utils/normalizeRect */"./packages/roosterjs-editor-dom/lib/utils/normalizeRect.ts");Object.defineProperty(t,"normalizeRect",{enumerable:!0,get:function(){return W.default}});var V=r(/*! ./utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");Object.defineProperty(t,"safeInstanceOf",{enumerable:!0,get:function(){return V.default}});var G=r(/*! ./utils/readFile */"./packages/roosterjs-editor-dom/lib/utils/readFile.ts");Object.defineProperty(t,"readFile",{enumerable:!0,get:function(){return G.default}});var q=r(/*! ./utils/getInnerHTML */"./packages/roosterjs-editor-dom/lib/utils/getInnerHTML.ts");Object.defineProperty(t,"getInnerHTML",{enumerable:!0,get:function(){return q.default}});var Z=r(/*! ./utils/setColor */"./packages/roosterjs-editor-dom/lib/utils/setColor.ts");Object.defineProperty(t,"setColor",{enumerable:!0,get:function(){return Z.default}});var Y=r(/*! ./utils/matchesSelector */"./packages/roosterjs-editor-dom/lib/utils/matchesSelector.ts");Object.defineProperty(t,"matchesSelector",{enumerable:!0,get:function(){return Y.default}});var X=r(/*! ./utils/createElement */"./packages/roosterjs-editor-dom/lib/utils/createElement.ts");Object.defineProperty(t,"createElement",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(t,"KnownCreateElementData",{enumerable:!0,get:function(){return X.KnownCreateElementData}});var Q=r(/*! ./utils/moveChildNodes */"./packages/roosterjs-editor-dom/lib/utils/moveChildNodes.ts");Object.defineProperty(t,"moveChildNodes",{enumerable:!0,get:function(){return Q.default}});var $=r(/*! ./utils/getIntersectedRect */"./packages/roosterjs-editor-dom/lib/utils/getIntersectedRect.ts");Object.defineProperty(t,"getIntersectedRect",{enumerable:!0,get:function(){return $.default}});var J=r(/*! ./utils/isNodeAfter */"./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts");Object.defineProperty(t,"isNodeAfter",{enumerable:!0,get:function(){return J.default}});var ee=r(/*! ./utils/parseColor */"./packages/roosterjs-editor-dom/lib/utils/parseColor.ts");Object.defineProperty(t,"parseColor",{enumerable:!0,get:function(){return ee.default}});var te=r(/*! ./table/VTable */"./packages/roosterjs-editor-dom/lib/table/VTable.ts");Object.defineProperty(t,"VTable",{enumerable:!0,get:function(){return te.default}});var re=r(/*! ./table/isWholeTableSelected */"./packages/roosterjs-editor-dom/lib/table/isWholeTableSelected.ts");Object.defineProperty(t,"isWholeTableSelected",{enumerable:!0,get:function(){return re.default}});var oe=r(/*! ./list/VList */"./packages/roosterjs-editor-dom/lib/list/VList.ts");Object.defineProperty(t,"VList",{enumerable:!0,get:function(){return oe.default}});var ne=r(/*! ./list/VListItem */"./packages/roosterjs-editor-dom/lib/list/VListItem.ts");Object.defineProperty(t,"VListItem",{enumerable:!0,get:function(){return ne.default}});var ie=r(/*! ./list/createVListFromRegion */"./packages/roosterjs-editor-dom/lib/list/createVListFromRegion.ts");Object.defineProperty(t,"createVListFromRegion",{enumerable:!0,get:function(){return ie.default}});var se=r(/*! ./list/VListChain */"./packages/roosterjs-editor-dom/lib/list/VListChain.ts");Object.defineProperty(t,"VListChain",{enumerable:!0,get:function(){return se.default}});var ae=r(/*! ./list/convertDecimalsToAlpha */"./packages/roosterjs-editor-dom/lib/list/convertDecimalsToAlpha.ts");Object.defineProperty(t,"convertDecimalsToAlpha",{enumerable:!0,get:function(){return ae.default}});var le=r(/*! ./list/convertDecimalsToRomans */"./packages/roosterjs-editor-dom/lib/list/convertDecimalsToRomans.ts");Object.defineProperty(t,"convertDecimalsToRoman",{enumerable:!0,get:function(){return le.default}});var de=r(/*! ./list/setListItemStyle */"./packages/roosterjs-editor-dom/lib/list/setListItemStyle.ts");Object.defineProperty(t,"setListItemStyle",{enumerable:!0,get:function(){return de.default}});var ue=r(/*! ./table/tableFormatInfo */"./packages/roosterjs-editor-dom/lib/table/tableFormatInfo.ts");Object.defineProperty(t,"getTableFormatInfo",{enumerable:!0,get:function(){return ue.getTableFormatInfo}});var ce=r(/*! ./table/tableCellInfo */"./packages/roosterjs-editor-dom/lib/table/tableCellInfo.ts");Object.defineProperty(t,"saveTableCellMetadata",{enumerable:!0,get:function(){return ce.saveTableCellMetadata}});var pe=r(/*! ./table/tableCellInfo */"./packages/roosterjs-editor-dom/lib/table/tableCellInfo.ts");Object.defineProperty(t,"getTableCellMetadata",{enumerable:!0,get:function(){return pe.getTableCellMetadata}});var fe=r(/*! ./region/getRegionsFromRange */"./packages/roosterjs-editor-dom/lib/region/getRegionsFromRange.ts");Object.defineProperty(t,"getRegionsFromRange",{enumerable:!0,get:function(){return fe.default}});var ge=r(/*! ./region/getSelectedBlockElementsInRegion */"./packages/roosterjs-editor-dom/lib/region/getSelectedBlockElementsInRegion.ts");Object.defineProperty(t,"getSelectedBlockElementsInRegion",{enumerable:!0,get:function(){return ge.default}});var me=r(/*! ./region/collapseNodesInRegion */"./packages/roosterjs-editor-dom/lib/region/collapseNodesInRegion.ts");Object.defineProperty(t,"collapseNodesInRegion",{enumerable:!0,get:function(){return me.default}});var ve=r(/*! ./region/isNodeInRegion */"./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts");Object.defineProperty(t,"isNodeInRegion",{enumerable:!0,get:function(){return ve.default}});var he=r(/*! ./region/getSelectionRangeInRegion */"./packages/roosterjs-editor-dom/lib/region/getSelectionRangeInRegion.ts");Object.defineProperty(t,"getSelectionRangeInRegion",{enumerable:!0,get:function(){return he.default}});var be=r(/*! ./region/mergeBlocksInRegion */"./packages/roosterjs-editor-dom/lib/region/mergeBlocksInRegion.ts");Object.defineProperty(t,"mergeBlocksInRegion",{enumerable:!0,get:function(){return be.default}});var ye=r(/*! ./selection/Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts");Object.defineProperty(t,"Position",{enumerable:!0,get:function(){return ye.default}});var Ee=r(/*! ./selection/createRange */"./packages/roosterjs-editor-dom/lib/selection/createRange.ts");Object.defineProperty(t,"createRange",{enumerable:!0,get:function(){return Ee.default}});var Ce=r(/*! ./selection/getPositionRect */"./packages/roosterjs-editor-dom/lib/selection/getPositionRect.ts");Object.defineProperty(t,"getPositionRect",{enumerable:!0,get:function(){return Ce.default}});var ke=r(/*! ./selection/isPositionAtBeginningOf */"./packages/roosterjs-editor-dom/lib/selection/isPositionAtBeginningOf.ts");Object.defineProperty(t,"isPositionAtBeginningOf",{enumerable:!0,get:function(){return ke.default}});var Se=r(/*! ./selection/getSelectionPath */"./packages/roosterjs-editor-dom/lib/selection/getSelectionPath.ts");Object.defineProperty(t,"getSelectionPath",{enumerable:!0,get:function(){return Se.default}});var je=r(/*! ./selection/getHtmlWithSelectionPath */"./packages/roosterjs-editor-dom/lib/selection/getHtmlWithSelectionPath.ts");Object.defineProperty(t,"getHtmlWithSelectionPath",{enumerable:!0,get:function(){return je.default}});var Te=r(/*! ./selection/setHtmlWithSelectionPath */"./packages/roosterjs-editor-dom/lib/selection/setHtmlWithSelectionPath.ts");Object.defineProperty(t,"setHtmlWithSelectionPath",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(t,"setHtmlWithMetadata",{enumerable:!0,get:function(){return Te.setHtmlWithMetadata}}),Object.defineProperty(t,"extractContentMetadata",{enumerable:!0,get:function(){return Te.extractContentMetadata}});var Pe=r(/*! ./selection/addRangeToSelection */"./packages/roosterjs-editor-dom/lib/selection/addRangeToSelection.ts");Object.defineProperty(t,"addRangeToSelection",{enumerable:!0,get:function(){return Pe.default}});var _e=r(/*! ./snapshots/addSnapshot */"./packages/roosterjs-editor-dom/lib/snapshots/addSnapshot.ts");Object.defineProperty(t,"addSnapshot",{enumerable:!0,get:function(){return _e.default}}),Object.defineProperty(t,"addSnapshotV2",{enumerable:!0,get:function(){return _e.addSnapshotV2}});var Oe=r(/*! ./snapshots/canMoveCurrentSnapshot */"./packages/roosterjs-editor-dom/lib/snapshots/canMoveCurrentSnapshot.ts");Object.defineProperty(t,"canMoveCurrentSnapshot",{enumerable:!0,get:function(){return Oe.default}});var we=r(/*! ./snapshots/clearProceedingSnapshots */"./packages/roosterjs-editor-dom/lib/snapshots/clearProceedingSnapshots.ts");Object.defineProperty(t,"clearProceedingSnapshots",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(t,"clearProceedingSnapshotsV2",{enumerable:!0,get:function(){return we.clearProceedingSnapshotsV2}});var Ie=r(/*! ./snapshots/moveCurrentSnapshot */"./packages/roosterjs-editor-dom/lib/snapshots/moveCurrentSnapshot.ts");Object.defineProperty(t,"moveCurrentSnapshot",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(t,"moveCurrentSnapsnot",{enumerable:!0,get:function(){return Ie.moveCurrentSnapsnot}});var Ae=r(/*! ./snapshots/createSnapshots */"./packages/roosterjs-editor-dom/lib/snapshots/createSnapshots.ts");Object.defineProperty(t,"createSnapshots",{enumerable:!0,get:function(){return Ae.default}});var De=r(/*! ./snapshots/canUndoAutoComplete */"./packages/roosterjs-editor-dom/lib/snapshots/canUndoAutoComplete.ts");Object.defineProperty(t,"canUndoAutoComplete",{enumerable:!0,get:function(){return De.default}});var xe=r(/*! ./htmlSanitizer/HtmlSanitizer */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/HtmlSanitizer.ts");Object.defineProperty(t,"HtmlSanitizer",{enumerable:!0,get:function(){return xe.default}});var Le=r(/*! ./htmlSanitizer/getInheritableStyles */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/getInheritableStyles.ts");Object.defineProperty(t,"getInheritableStyles",{enumerable:!0,get:function(){return Le.default}});var Me=r(/*! ./htmlSanitizer/createDefaultHtmlSanitizerOptions */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/createDefaultHtmlSanitizerOptions.ts");Object.defineProperty(t,"createDefaultHtmlSanitizerOptions",{enumerable:!0,get:function(){return Me.default}});var Re=r(/*! ./htmlSanitizer/chainSanitizerCallback */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/chainSanitizerCallback.ts");Object.defineProperty(t,"chainSanitizerCallback",{enumerable:!0,get:function(){return Re.default}});var Ne=r(/*! ./entity/commitEntity */"./packages/roosterjs-editor-dom/lib/entity/commitEntity.ts");Object.defineProperty(t,"commitEntity",{enumerable:!0,get:function(){return Ne.default}});var Be=r(/*! ./entity/getEntityFromElement */"./packages/roosterjs-editor-dom/lib/entity/getEntityFromElement.ts");Object.defineProperty(t,"getEntityFromElement",{enumerable:!0,get:function(){return Be.default}});var Fe=r(/*! ./entity/getEntitySelector */"./packages/roosterjs-editor-dom/lib/entity/getEntitySelector.ts");Object.defineProperty(t,"getEntitySelector",{enumerable:!0,get:function(){return Fe.default}});var He=r(/*! ./entity/entityPlaceholderUtils */"./packages/roosterjs-editor-dom/lib/entity/entityPlaceholderUtils.ts");Object.defineProperty(t,"createEntityPlaceholder",{enumerable:!0,get:function(){return He.createEntityPlaceholder}}),Object.defineProperty(t,"moveContentWithEntityPlaceholders",{enumerable:!0,get:function(){return He.moveContentWithEntityPlaceholders}}),Object.defineProperty(t,"restoreContentWithEntityPlaceholder",{enumerable:!0,get:function(){return He.restoreContentWithEntityPlaceholder}});var ze=r(/*! ./event/cacheGetEventData */"./packages/roosterjs-editor-dom/lib/event/cacheGetEventData.ts");Object.defineProperty(t,"cacheGetEventData",{enumerable:!0,get:function(){return ze.default}});var Ue=r(/*! ./event/clearEventDataCache */"./packages/roosterjs-editor-dom/lib/event/clearEventDataCache.ts");Object.defineProperty(t,"clearEventDataCache",{enumerable:!0,get:function(){return Ue.default}});var Ke=r(/*! ./event/isModifierKey */"./packages/roosterjs-editor-dom/lib/event/isModifierKey.ts");Object.defineProperty(t,"isModifierKey",{enumerable:!0,get:function(){return Ke.default}});var We=r(/*! ./event/isCharacterValue */"./packages/roosterjs-editor-dom/lib/event/isCharacterValue.ts");Object.defineProperty(t,"isCharacterValue",{enumerable:!0,get:function(){return We.default}});var Ve=r(/*! ./event/isCtrlOrMetaPressed */"./packages/roosterjs-editor-dom/lib/event/isCtrlOrMetaPressed.ts");Object.defineProperty(t,"isCtrlOrMetaPressed",{enumerable:!0,get:function(){return Ve.default}});var Ge=r(/*! ./style/getStyles */"./packages/roosterjs-editor-dom/lib/style/getStyles.ts");Object.defineProperty(t,"getStyles",{enumerable:!0,get:function(){return Ge.default}});var qe=r(/*! ./style/setStyles */"./packages/roosterjs-editor-dom/lib/style/setStyles.ts");Object.defineProperty(t,"setStyles",{enumerable:!0,get:function(){return qe.default}});var Ze=r(/*! ./style/removeImportantStyleRule */"./packages/roosterjs-editor-dom/lib/style/removeImportantStyleRule.ts");Object.defineProperty(t,"removeImportantStyleRule",{enumerable:!0,get:function(){return Ze.default}});var Ye=r(/*! ./style/setGlobalCssStyles */"./packages/roosterjs-editor-dom/lib/style/setGlobalCssStyles.ts");Object.defineProperty(t,"setGlobalCssStyles",{enumerable:!0,get:function(){return Ye.default}});var Xe=r(/*! ./style/removeGlobalCssStyle */"./packages/roosterjs-editor-dom/lib/style/removeGlobalCssStyle.ts");Object.defineProperty(t,"removeGlobalCssStyle",{enumerable:!0,get:function(){return Xe.default}});var Qe=r(/*! ./edit/adjustInsertPosition */"./packages/roosterjs-editor-dom/lib/edit/adjustInsertPosition.ts");Object.defineProperty(t,"adjustInsertPosition",{enumerable:!0,get:function(){return Qe.default}});var $e=r(/*! ./edit/deleteSelectedContent */"./packages/roosterjs-editor-dom/lib/edit/deleteSelectedContent.ts");Object.defineProperty(t,"deleteSelectedContent",{enumerable:!0,get:function(){return $e.default}});var Je=r(/*! ./edit/getTextContent */"./packages/roosterjs-editor-dom/lib/edit/getTextContent.ts");Object.defineProperty(t,"getTextContent",{enumerable:!0,get:function(){return Je.default}});var et=r(/*! ./metadata/validate */"./packages/roosterjs-editor-dom/lib/metadata/validate.ts");Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return et.default}});var tt=r(/*! ./metadata/definitionCreators */"./packages/roosterjs-editor-dom/lib/metadata/definitionCreators.ts");Object.defineProperty(t,"createNumberDefinition",{enumerable:!0,get:function(){return tt.createNumberDefinition}}),Object.defineProperty(t,"createBooleanDefinition",{enumerable:!0,get:function(){return tt.createBooleanDefinition}}),Object.defineProperty(t,"createStringDefinition",{enumerable:!0,get:function(){return tt.createStringDefinition}}),Object.defineProperty(t,"createArrayDefinition",{enumerable:!0,get:function(){return tt.createArrayDefinition}}),Object.defineProperty(t,"createObjectDefinition",{enumerable:!0,get:function(){return tt.createObjectDefinition}});var rt=r(/*! ./metadata/metadata */"./packages/roosterjs-editor-dom/lib/metadata/metadata.ts");Object.defineProperty(t,"getMetadata",{enumerable:!0,get:function(){return rt.getMetadata}}),Object.defineProperty(t,"setMetadata",{enumerable:!0,get:function(){return rt.setMetadata}}),Object.defineProperty(t,"removeMetadata",{enumerable:!0,get:function(){return rt.removeMetadata}});var ot=r(/*! ./jsUtils/arrayPush */"./packages/roosterjs-editor-dom/lib/jsUtils/arrayPush.ts");Object.defineProperty(t,"arrayPush",{enumerable:!0,get:function(){return ot.default}});var nt=r(/*! ./jsUtils/getObjectKeys */"./packages/roosterjs-editor-dom/lib/jsUtils/getObjectKeys.ts");Object.defineProperty(t,"getObjectKeys",{enumerable:!0,get:function(){return nt.default}});var it=r(/*! ./jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts");Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return it.default}});var st=r(/*! ./pasteSourceValidations/getPasteSource */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/getPasteSource.ts");Object.defineProperty(t,"getPasteSource",{enumerable:!0,get:function(){return st.default}})},"./packages/roosterjs-editor-dom/lib/inlineElements/EmptyInlineElement.ts":
/*!********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/inlineElements/EmptyInlineElement.ts ***!
  \********************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.position=e,this.parentBlock=t}return e.prototype.getTextContent=function(){return""},e.prototype.getContainerNode=function(){return this.position.node},e.prototype.getParentBlock=function(){return this.parentBlock},e.prototype.getStartPosition=function(){return this.position},e.prototype.getEndPosition=function(){return this.position},e.prototype.isAfter=function(e){return e&&this.position.isAfter(e.getEndPosition())},e.prototype.isTextualInlineElement=function(){return!1},e.prototype.contains=function(e){return!1},e.prototype.applyStyle=function(e){},e}();t.default=r},"./packages/roosterjs-editor-dom/lib/inlineElements/ImageInlineElement.ts":
/*!********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/inlineElements/ImageInlineElement.ts ***!
  \********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=function(e){function t(t,r){return e.call(this,t,r)||this}return(0,o.__extends)(t,e),t}(r(/*! ./NodeInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/NodeInlineElement.ts").default);t.default=n},"./packages/roosterjs-editor-dom/lib/inlineElements/LinkInlineElement.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/inlineElements/LinkInlineElement.ts ***!
  \*******************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=function(e){function t(t,r){return e.call(this,t,r)||this}return(0,o.__extends)(t,e),t}(r(/*! ./NodeInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/NodeInlineElement.ts").default);t.default=n},"./packages/roosterjs-editor-dom/lib/inlineElements/NodeInlineElement.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/inlineElements/NodeInlineElement.ts ***!
  \*******************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./applyTextStyle */"./packages/roosterjs-editor-dom/lib/inlineElements/applyTextStyle.ts"),n=r(/*! ../utils/isNodeAfter */"./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts"),i=r(/*! ../selection/Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts"),s=function(){function e(e,t){this.containerNode=e,this.parentBlock=t}return e.prototype.getTextContent=function(){return(3==this.containerNode.nodeType?this.containerNode.nodeValue:this.containerNode.textContent)||""},e.prototype.getContainerNode=function(){return this.containerNode},e.prototype.getParentBlock=function(){return this.parentBlock},e.prototype.getStartPosition=function(){return new i.default(this.containerNode,0).normalize()},e.prototype.getEndPosition=function(){return new i.default(this.containerNode,-1).normalize()},e.prototype.isTextualInlineElement=function(){return this.containerNode&&3==this.containerNode.nodeType},e.prototype.isAfter=function(e){return e&&(0,n.default)(this.containerNode,e.getContainerNode())},e.prototype.contains=function(e){var t=this.getStartPosition(),r=this.getEndPosition();return e&&e.isAfter(t)&&r.isAfter(e)},e.prototype.applyStyle=function(e){(0,o.default)(this.containerNode,e)},e}();t.default=s},"./packages/roosterjs-editor-dom/lib/inlineElements/PartialInlineElement.ts":
/*!**********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/inlineElements/PartialInlineElement.ts ***!
  \**********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./applyTextStyle */"./packages/roosterjs-editor-dom/lib/inlineElements/applyTextStyle.ts"),n=r(/*! ../selection/createRange */"./packages/roosterjs-editor-dom/lib/selection/createRange.ts"),i=r(/*! ../selection/Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts"),s=r(/*! ../utils/getLeafSibling */"./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts"),a=function(){function e(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null),this.inlineElement=e,this.start=t,this.end=r}return e.prototype.getDecoratedInline=function(){return this.inlineElement},e.prototype.getContainerNode=function(){return this.inlineElement.getContainerNode()},e.prototype.getParentBlock=function(){return this.inlineElement.getParentBlock()},e.prototype.getTextContent=function(){return(0,n.default)(this.getStartPosition(),this.getEndPosition()).toString()},e.prototype.getStartPosition=function(){return this.start||this.inlineElement.getStartPosition()},e.prototype.getEndPosition=function(){return this.end||this.inlineElement.getEndPosition()},Object.defineProperty(e.prototype,"nextInlineElement",{get:function(){return this.end?new e(this.inlineElement,this.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousInlineElement",{get:function(){return this.start?new e(this.inlineElement,void 0,this.start):null},enumerable:!1,configurable:!0}),e.prototype.contains=function(e){return e&&e.isAfter(this.getStartPosition())&&this.getEndPosition().isAfter(e)},e.prototype.isTextualInlineElement=function(){return this.inlineElement&&this.inlineElement.isTextualInlineElement()},e.prototype.isAfter=function(e){var t=this.getStartPosition(),r=e&&e.getEndPosition();return r&&(t.isAfter(r)||t.equalTo(r))},e.prototype.applyStyle=function(e){var t=this.getStartPosition().normalize(),r=this.getEndPosition().normalize(),n=this.getContainerNode();if(t.isAtEnd){var a=(0,s.getNextLeafSibling)(n,t.node);t=a?new i.default(a,0):null}if(0==r.offset){var l=(0,s.getPreviousLeafSibling)(n,r.node);r=l?new i.default(l,-1):null}(0,o.default)(n,e,t||void 0,r||void 0)},e}();t.default=a},"./packages/roosterjs-editor-dom/lib/inlineElements/applyTextStyle.ts":
/*!****************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/inlineElements/applyTextStyle.ts ***!
  \****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),n=r(/*! ../selection/Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts"),i=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),s=r(/*! ../utils/splitTextNode */"./packages/roosterjs-editor-dom/lib/utils/splitTextNode.ts"),a=r(/*! ../utils/wrap */"./packages/roosterjs-editor-dom/lib/utils/wrap.ts"),l=r(/*! ../utils/getLeafSibling */"./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts"),d=r(/*! ../utils/splitParentNode */"./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts"),u="SPAN,B,I,U,EM,STRONG,STRIKE,S,SMALL,SUP,SUB".split(",");function c(e,t){e&&1==e.nodeType&&t(e,!0)}t.default=function(e,t,r,p){void 0===r&&(r=new n.default(e,0).normalize()),void 0===p&&(p=new n.default(e,-1).normalize());for(var f=[],g=r,m=p;g&&m&&m.isAfter(g);){var v=g.node,h=(0,o.default)(v.parentNode),b=(0,l.getNextLeafSibling)(e,v);3==v.nodeType&&["TR","TABLE"].indexOf(h)<0&&(v!=m.node||m.isAtEnd||(v=(0,s.default)(v,m.offset,!0)),g.offset>0&&(v=(0,s.default)(v,g.offset,!1)),f.push(v)),g=b&&new n.default(b,0)}if(f.length>0){if(f.every((function(e){return e.parentNode==f[0].parentNode}))){var y=f.shift();f.forEach((function(e){var t,r=(y.nodeValue||"")+(e.nodeValue||"");y.nodeValue=r,null===(t=e.parentNode)||void 0===t||t.removeChild(e)})),f=[y]}f.forEach((function(e){for(var r=e;r&&"SPAN"!=(0,o.default)(r)&&u.indexOf((0,o.default)(r.parentNode))>=0;)c(r,t),r=(0,d.splitBalancedNodeRange)(r);r&&"SPAN"!=(0,o.default)(r)&&(c(r,t),r=(0,a.default)(r,"SPAN")),(0,i.default)(r,"HTMLElement")&&t(r)}))}}},"./packages/roosterjs-editor-dom/lib/inlineElements/getFirstLastInlineElement.ts":
/*!***************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/inlineElements/getFirstLastInlineElement.ts ***!
  \***************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastInlineElement=t.getFirstInlineElement=void 0;var o=r(/*! ./getInlineElementAtNode */"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts"),n=r(/*! ../utils/getLeafNode */"./packages/roosterjs-editor-dom/lib/utils/getLeafNode.ts");t.getFirstInlineElement=function(e){var t=(0,n.getFirstLeafNode)(e);return t?(0,o.default)(e,t):null},t.getLastInlineElement=function(e){var t=(0,n.getLastLeafNode)(e);return t?(0,o.default)(e,t):null}},"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts":
/*!************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts ***!
  \************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../blockElements/getBlockElementAtNode */"./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),n=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),i=r(/*! ./ImageInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/ImageInlineElement.ts"),s=r(/*! ./LinkInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/LinkInlineElement.ts"),a=r(/*! ./NodeInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/NodeInlineElement.ts"),l=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=function(e,t){var r=(0,l.default)(e,"Node")?(0,o.default)(e,t):e;return t&&r&&function(e,t){for(var r,o=[e],l=e.parentNode;l&&t.contains(l);l=l.parentNode)o.push(l);for(var d=o.length-1;d>=0&&!r;d--){var u=o[d],c=(0,n.default)(u);"A"==c?r=new s.default(u,t):"IMG"==c&&(r=new i.default(u,t))}return r||new a.default(e,t)}(t,r)}},"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementBeforeAfter.ts":
/*!*****************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementBeforeAfter.ts ***!
  \*****************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInlineElementBeforeAfter=t.getInlineElementAfter=t.getInlineElementBefore=void 0;var o=r(/*! ./getInlineElementAtNode */"./packages/roosterjs-editor-dom/lib/inlineElements/getInlineElementAtNode.ts"),n=r(/*! ./PartialInlineElement */"./packages/roosterjs-editor-dom/lib/inlineElements/PartialInlineElement.ts"),i=r(/*! ../utils/shouldSkipNode */"./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts"),s=r(/*! ../utils/getLeafSibling */"./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts");function a(e,t,r){if(!e||!t||!t.node)return null;var a=(t=t.normalize()).offset,l=t.isAtEnd,d=t.node,u=!1;!r&&0==a&&!l||r&&l?d=(0,s.getLeafSibling)(e,d,r):3==d.nodeType&&(!r&&!l||r&&a>0)&&(u=!0),d&&(0,i.default)(d)&&(d=(0,s.getLeafSibling)(e,d,r));var c=(0,o.default)(e,d);return c&&(u||c.contains(t))&&(c=r?new n.default(c,t,void 0):new n.default(c,void 0,t)),c}t.getInlineElementBefore=function(e,t){return a(e,t,!1)},t.getInlineElementAfter=function(e,t){return a(e,t,!0)},t.getInlineElementBeforeAfter=a},"./packages/roosterjs-editor-dom/lib/jsUtils/arrayPush.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/jsUtils/arrayPush.ts ***!
  \****************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Array.prototype.push.apply(e,t)}},"./packages/roosterjs-editor-dom/lib/jsUtils/getObjectKeys.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/jsUtils/getObjectKeys.ts ***!
  \********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.keys(e)}},"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts ***!
  \**************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e)}},"./packages/roosterjs-editor-dom/lib/list/VList.ts":
/*!*********************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/list/VList.ts ***!
  \*********************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../utils/changeElementTag */"./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts"),i=r(/*! ./getListTypeFromNode */"./packages/roosterjs-editor-dom/lib/list/getListTypeFromNode.ts"),s=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),a=r(/*! ../utils/isBlockElement */"./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts"),l=r(/*! ../utils/isNodeEmpty */"./packages/roosterjs-editor-dom/lib/utils/isNodeEmpty.ts"),d=r(/*! ../selection/Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts"),u=r(/*! ../utils/queryElements */"./packages/roosterjs-editor-dom/lib/utils/queryElements.ts"),c=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),p=r(/*! ../utils/splitParentNode */"./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts"),f=r(/*! ../jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts"),g=r(/*! ../utils/unwrap */"./packages/roosterjs-editor-dom/lib/utils/unwrap.ts"),m=r(/*! ./VListItem */"./packages/roosterjs-editor-dom/lib/list/VListItem.ts"),v=r(/*! ../utils/wrap */"./packages/roosterjs-editor-dom/lib/utils/wrap.ts"),h=r(/*! ../metadata/metadata */"./packages/roosterjs-editor-dom/lib/metadata/metadata.ts"),b=function(){function e(e){if(this.rootList=e,this.items=[],!e)throw new Error("rootList must not be null");y(this.rootList),(0,u.default)(this.rootList,"ol,ul",y),(0,u.default)(this.rootList,"li",E),this.populateItems(this.rootList)}return e.prototype.contains=function(e){return this.items.some((function(t){return t.contains(e)}))},e.prototype.getLastItemNumber=function(){var e=this.getStart();return void 0===e?e:e-1+this.items.filter((function(e){return 1==e.getListType()&&1==e.getLevel()&&!e.isDummy()})).length},e.prototype.writeBack=function(e,t){var r=this;if(!this.rootList)throw new Error("rootList must not be null");var o,n=this.rootList.ownerDocument,i=[n.createDocumentFragment()],s=n.createTextNode(""),a=this.getStart()||1;this.rootList.parentNode.replaceChild(s,this.rootList),this.items.forEach((function(n){var s=n.getNewListStart();s&&s!=a&&(i.splice(1,i.length-1),a=s),n.writeBack(i,r.rootList,e);var l=i[1];n.applyListStyle(r.rootList,a),(0,c.default)(l,"HTMLOListElement")&&(o!=l&&(1==a?l.removeAttribute("start"):l.start=a),1!=n.getLevel()||n.isDummy()||t||a++),o=l})),s.parentNode.replaceChild(i[0],s)},e.prototype.split=function(e,t){if(!this.rootList)throw new Error("rootList must not be null");for(var r=0;r<this.items.length;r++)if(this.items[r].getNode()==e)return void this.items[r].setNewListStart(t)},e.prototype.setIndentation=function(e,t,r,o,n){var i=this;void 0===n&&(n=!1);var s=!1;if(this.findListItems(e,t,(function(e){s=s||0==i.items.indexOf(e),1==r?o&&!e.isDummy()?e.setIsDummy(!0):e.outdent(n):e.indent()})),s&&n)for(var a=0;a<this.items.length;a++)this.items[a].addNegativeMargins()},e.prototype.setAlignment=function(e,t,r){this.rootList.style.display="flex",this.rootList.style.flexDirection="column",this.findListItems(e,t,(function(e){var t="start";1==r?t="center":2==r&&(t="end"),e.getNode().style.alignSelf=t}))},e.prototype.removeMargins=function(){this.rootList.style.marginTop||this.rootList.style.marginBottom||(this.rootList.style.marginTop="0px",this.rootList.style.marginBottom="0px")},e.prototype.changeListType=function(e,t,r){var o=!1;this.findListItems(e,t,(function(e){o=o||e.getListType()!=r})),this.findListItems(e,t,(function(e){return o?e.changeListType(r):e.outdent()}))},e.prototype.setListStyleType=function(e,t){var r=function(e,t,r){return{orderedStyleType:C(t,null==e?void 0:e.orderedStyleType,1),unorderedStyleType:C(r,null==e?void 0:e.unorderedStyleType,1)}}((0,h.getMetadata)(this.rootList,m.ListStyleDefinitionMetadata),e,t);(0,h.setMetadata)(this.rootList,r,m.ListStyleDefinitionMetadata)},e.prototype.appendItem=function(e,t){var r=(0,s.default)(e);"DIV"==r?e=(0,n.default)(e,"LI"):"LI"!=r&&(e=(0,v.default)(e,"LI")),this.items.push(0==t?new m.default(e):new m.default(e,t))},e.prototype.mergeVList=function(e){var t,r=this;e&&e!=this&&(e.items.forEach((function(e){return r.items.push(e)})),e.items.splice(0,e.items.length),null===(t=e.rootList.parentNode)||void 0===t||t.removeChild(e.rootList))},e.prototype.getListItemIndex=function(e){if(this.items)for(var t=(this.getStart()||1)-1,r=0;r<this.items.length;r++){var o=this.items[r];if(1!=o.getLevel()||o.isDummy()||t++,o.getNode()==e)return t}return-1},e.prototype.getStart=function(){return(0,c.default)(this.rootList,"HTMLOListElement")?this.rootList.start:void 0},e.prototype.findListItems=function(e,t,r){if(0==this.items.length)return[];var o=new d.default(this.items[0].getNode(),0),n=new d.default(this.items[this.items.length-1].getNode(),-1),i=o.isAfter(e)?0:-1,s=this.items.length-(t.isAfter(n)?1:0);this.items.forEach((function(r,o){i=r.contains(e.node)?o:i,s=r.contains(t.node)?o:s})),i=s<this.items.length?Math.max(0,i):i,s=i>=0?Math.min(this.items.length-1,s):s;var a=i<=s?this.items.slice(i,s+1):[];return r&&a.forEach(r),a},e.prototype.populateItems=function(e,t){var r=this;void 0===t&&(t=[]);var n=(0,i.default)(e);(0,f.default)(e.childNodes).forEach((function(e){var s=(0,o.__spreadArray)((0,o.__spreadArray)([],(0,o.__read)(t),!1),[n],!1);(0,i.isListElement)(e)?r.populateItems(e,s):3==e.nodeType&&""==(e.nodeValue||"").trim()||r.items.push(new(m.default.bind.apply(m.default,(0,o.__spreadArray)([void 0,e],(0,o.__read)(s),!1))))}))},e}();function y(e){var t=null;(0,f.default)(e.childNodes).forEach((function(e){"LI"==(0,s.default)(e)?t=e:(0,i.isListElement)(e)?t=null:t&&!(0,l.default)(e,!0)&&t.appendChild((0,a.default)(e)?e:(0,v.default)(e))}))}function E(e){for(;!(0,i.isListElement)(e.parentNode);){(0,p.default)(e,!0);var t=(0,f.default)(e.parentNode.childNodes).slice(1);t.length>0&&((0,a.default)(t[0])||(t=[(0,v.default)(t)]),t.forEach((function(t){return e.appendChild(t)}))),(0,g.default)(e.parentNode)}}function C(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return void 0!==e}))[0]}t.default=b},"./packages/roosterjs-editor-dom/lib/list/VListChain.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/list/VListChain.ts ***!
  \**************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../jsUtils/arrayPush */"./packages/roosterjs-editor-dom/lib/jsUtils/arrayPush.ts"),n=r(/*! ./getRootListNode */"./packages/roosterjs-editor-dom/lib/list/getRootListNode.ts"),i=r(/*! ../utils/isNodeAfter */"./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts"),s=r(/*! ../region/isNodeInRegion */"./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts"),a=r(/*! ../utils/queryElements */"./packages/roosterjs-editor-dom/lib/utils/queryElements.ts"),l=r(/*! ./VList */"./packages/roosterjs-editor-dom/lib/list/VList.ts"),d="listchain",u="listchainafter",c=0,p=function(){function e(e,t){this.region=e,this.name=t,this.lastNumber=0,this.lastNumberBeforeCursor=0}return e.createListChains=function(t,r,s){var l=Array.isArray(t)?t:t?[t]:[],d=[];return l.forEach((function(t){var l,u=[];(0,a.default)(t.rootNode,"ol",(function(o){var a=(0,n.default)(t,"ol",o);if(l!=a){var d=u.filter((function(e){return e.canAppendToTail(a)}))[0]||new e(t,(s||f)()),c=u.indexOf(d),p=!!r&&(0,i.default)(a,r);p?c<0&&u.push(d):(c>=0&&u.splice(c,1),u.unshift(d)),d.append(a,p),l=a}})),(0,o.default)(d,u)})),d},e.prototype.canAppendAtCursor=function(e){return e>1&&this.lastNumberBeforeCursor+1==e},e.prototype.createVListAtBlock=function(e,t){if(e&&e.parentNode){var r=e.ownerDocument.createElement("ol");r.start=t,this.applyChainName(r),e.parentNode.insertBefore(r,e);var o=new l.default(r);return o.appendItem(e,0),o}return null},e.prototype.commit=function(e,t){for(var r=this.getLists(),o=0,n=0;n<r.length;n++){var i=r[n];t||(i.start>1?i.start=i.start===o?o+1:i.start:i.start=o+1);var s=new l.default(i);o=s.getLastItemNumber()||0,delete i.dataset[d],delete i.dataset[u],s.writeBack(e)}},e.prototype.canAppendToTail=function(e){return this.lastNumber+1==e.start},e.prototype.append=function(e,t){this.applyChainName(e),this.lastNumber=new l.default(e).getLastItemNumber()||0,t?e.dataset[u]="true":this.lastNumberBeforeCursor=this.lastNumber},e.prototype.applyChainName=function(e){e.dataset[d]=this.name},e.prototype.getLists=function(){var e=this;return(0,a.default)(this.region.rootNode,"ol[data-"+d+"="+this.name+"]").filter((function(t){return(0,s.default)(e.region,t)}))},e}();function f(){return"__List_Chain_"+c++}t.default=p},"./packages/roosterjs-editor-dom/lib/list/VListItem.ts":
/*!*************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/list/VListItem.ts ***!
  \*************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListStyleDefinitionMetadata=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../utils/contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),i=r(/*! ./getListTypeFromNode */"./packages/roosterjs-editor-dom/lib/list/getListTypeFromNode.ts"),s=r(/*! ../style/getStyles */"./packages/roosterjs-editor-dom/lib/style/getStyles.ts"),a=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),l=r(/*! ../utils/isBlockElement */"./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts"),d=r(/*! ../utils/moveChildNodes */"./packages/roosterjs-editor-dom/lib/utils/moveChildNodes.ts"),u=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),c=r(/*! ./setBulletListMarkers */"./packages/roosterjs-editor-dom/lib/list/setBulletListMarkers.ts"),p=r(/*! ./setListItemStyle */"./packages/roosterjs-editor-dom/lib/list/setListItemStyle.ts"),f=r(/*! ./setNumberingListMarkers */"./packages/roosterjs-editor-dom/lib/list/setNumberingListMarkers.ts"),g=r(/*! ../style/setStyles */"./packages/roosterjs-editor-dom/lib/style/setStyles.ts"),m=r(/*! ../jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts"),v=r(/*! ../utils/unwrap */"./packages/roosterjs-editor-dom/lib/utils/unwrap.ts"),h=r(/*! ../utils/wrap */"./packages/roosterjs-editor-dom/lib/utils/wrap.ts"),b=r(/*! ../metadata/definitionCreators */"./packages/roosterjs-editor-dom/lib/metadata/definitionCreators.ts"),y=r(/*! ../metadata/metadata */"./packages/roosterjs-editor-dom/lib/metadata/metadata.ts"),E=[null,"lower-alpha","lower-roman"],C=["disc","circle","square"],k="-.25in",S=["font-size","font-family","color"],j=["data-ogsc","data-ogsb","data-ogac","data-ogab"];t.ListStyleDefinitionMetadata=(0,b.createObjectDefinition)({orderedStyleType:(0,b.createNumberDefinition)(!0,void 0,1,20),unorderedStyleType:(0,b.createNumberDefinition)(!0,void 0,1,9)},!0,!0);var T=function(){function e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(this.newListStart=void 0,!e)throw new Error("node must not be null");this.node=(0,u.default)(e,"HTMLLIElement")?e:(0,h.default)(e,4);var n=this.node.style.display;this.dummy="list-item"!=n&&""!=n,this.listTypes=(0,o.__spreadArray)([0],(0,o.__read)(t),!1)}return e.prototype.getListType=function(){return this.listTypes[this.listTypes.length-1]},e.prototype.getLevel=function(){return this.listTypes.length-1},e.prototype.getNode=function(){return this.node},e.prototype.getNewListStart=function(){return this.newListStart},e.prototype.contains=function(e){return(0,n.default)(this.node,e,!0)},e.prototype.isDummy=function(){return this.dummy},e.prototype.isOrphanItem=function(){return!1},e.prototype.canMerge=function(e){return!(!(null==e?void 0:e.isOrphanItem())||this.listTypes.length!=e.listTypes.length)&&this.listTypes.every((function(t,r){return e.listTypes[r]==t}))},e.prototype.mergeItems=function(e){var t=this;_((null==e?void 0:e.map((function(e){return e.node})))||[],!0,!1).forEach((function(e){return t.node.appendChild(e)}))},e.prototype.indent=function(){if(this.node.style.marginLeft==k)return this.node.style.margin="",void(this.node.style.marginLeft="");var e=this.getListType();0!=e&&this.listTypes.push(e)},e.prototype.outdent=function(e){void 0===e&&(e=!1);var t=e?2:1;this.listTypes.length>t&&this.listTypes.pop()},e.prototype.addNegativeMargins=function(){this.node.style.margin="0in 0in 0in 0.5in",this.node.style.marginLeft=k},e.prototype.changeListType=function(e){0==e?this.listTypes=[e]:(this.outdent(),this.listTypes.push(e))},e.prototype.setIsDummy=function(e){this.dummy=e},e.prototype.setNewListStart=function(e){this.newListStart=e},e.prototype.applyListStyle=function(e,r){var o=(0,y.getMetadata)(e,t.ListStyleDefinitionMetadata),n=this.listTypes.length<3;o&&(n&&2===this.listTypes[1]&&o.unorderedStyleType?(0,c.default)(this.node,o.unorderedStyleType):n&&1===this.listTypes[1]&&o.orderedStyleType?(0,f.default)(this.node,o.orderedStyleType,r):this.node.style.removeProperty("list-style-type"))},e.prototype.writeBack=function(e,t,r){var n,l=this;void 0===r&&(r=!1);var d,c,f=1;if(r){e.length>this.listTypes.length&&e.splice(this.listTypes.length);var b=e.length-1;b===this.listTypes.length-1&&(0,i.default)(e[b])!==this.listTypes[b]&&e.splice(b),f=e.length}else for(;f<e.length;f++)if((0,i.default)(e[f])!==this.listTypes[f]){e.splice(f);break}for(;f<this.listTypes.length;f++){var y=e.length-1,E=P(e[0],this.listTypes[f],f,t);if(e[y].appendChild(E),e.push(E),this.getDeepChildIndex(t)==y){var C=null===(n=this.node.parentElement)||void 0===n?void 0:n.style.listStyleType;C&&(0,a.default)(this.node.parentElement)===(0,a.default)(E)&&(E.style.listStyleType=C)}}if(e[e.length-1].appendChild(this.node),this.node.style.setProperty("display",this.dummy?"block":null),this.listTypes.length>1&&((0,p.default)(this.node,S,!0),(0,p.default)(this.node,j,!1)),this.listTypes.length<=1){var k="LI"==(0,a.default)(this.node),T=k?{"font-family":this.node.style.fontFamily,"font-size":this.node.style.fontSize,color:this.node.style.color}:void 0,O=k?(d=this.node,c=(0,m.default)(d.childNodes),(0,v.default)(d),c):[this.node];if(T)for(var w=function(e){(0,u.default)(O[e],"Text")&&(O[e]=(0,h.default)(O[e],"span"));var t=O[e];if((0,u.default)(t,"HTMLElement")){var r=(0,o.__assign)((0,o.__assign)({},T),(0,s.default)(t));(0,g.default)(t,r),j.forEach((function(e){var r=l.node.getAttribute(e);r&&t.setAttribute(e,r)}))}},I=0;I<O.length;I++)w(I);_(O,!0,!0)}},e.prototype.getDeepChildIndex=function(e){var t=this.node.parentElement;if(e&&t){for(var r=0;t&&t!=e;)r++,t=(null==t?void 0:t.parentElement)||null;return r}return-1},e}();function P(e,r,o,s){var a,l=e.ownerDocument;if(1==o&&s&&r==(0,i.default)(s)?(0,n.default)(e,s)?(a=s.cloneNode(!1)).removeAttribute("id"):((0,d.default)(s),a=s):a=l.createElement(1==r?"ol":"ul"),"0px"==(null==s?void 0:s.style.marginTop)&&"0px"==(null==s?void 0:s.style.marginBottom)&&(a.style.marginTop="0px",a.style.marginBottom="0px"),s&&1==o&&r!=(0,i.default)(s)){var u=(0,y.getMetadata)(s,t.ListStyleDefinitionMetadata);u&&(0,y.setMetadata)(a,u,t.ListStyleDefinitionMetadata)}return 1==r&&o>1&&a.style.setProperty("list-style-type",E[(o-1)%E.length]),2==r&&o>1&&a.style.setProperty("list-style-type",C[(o-1)%C.length]),a}function _(e,t,r){return!(e.length>0)||t&&(0,l.default)(e[0])||r&&(0,l.default)(e[e.length])||(e=[(0,h.default)(e)]),e}t.default=T},"./packages/roosterjs-editor-dom/lib/list/convertDecimalsToAlpha.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/list/convertDecimalsToAlpha.ts ***!
  \**************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",10:"K",11:"L",12:"M",13:"N",14:"O",15:"P",16:"Q",17:"R",18:"S",19:"T",20:"U",21:"V",22:"W",23:"X",24:"Y",25:"Z"};t.default=function(e,t){for(var o="";e>=0;)o=r[e%26]+o,e=Math.floor(e/26)-1;return t?o.toLowerCase():o}},"./packages/roosterjs-editor-dom/lib/list/convertDecimalsToRomans.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/list/convertDecimalsToRomans.ts ***!
  \***************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../jsUtils/getObjectKeys */"./packages/roosterjs-editor-dom/lib/jsUtils/getObjectKeys.ts"),i={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1};t.default=function(e,t){var r,s,a="";try{for(var l=(0,o.__values)((0,n.default)(i)),d=l.next();!d.done;d=l.next()){var u=d.value,c=Math.floor(e/i[u]);e-=c*i[u],a+=u.repeat(c)}}catch(e){r={error:e}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return t?a.toLocaleLowerCase():a}},"./packages/roosterjs-editor-dom/lib/list/createVListFromRegion.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/list/createVListFromRegion.ts ***!
  \*************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/createElement */"./packages/roosterjs-editor-dom/lib/utils/createElement.ts"),n=r(/*! ./getRootListNode */"./packages/roosterjs-editor-dom/lib/list/getRootListNode.ts"),i=r(/*! ../region/getSelectedBlockElementsInRegion */"./packages/roosterjs-editor-dom/lib/region/getSelectedBlockElementsInRegion.ts"),s=r(/*! ../region/isNodeInRegion */"./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts"),a=r(/*! ../selection/Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts"),l=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),d=r(/*! ../utils/shouldSkipNode */"./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts"),u=r(/*! ../jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts"),c=r(/*! ./VList */"./packages/roosterjs-editor-dom/lib/list/VList.ts"),p=r(/*! ../utils/wrap */"./packages/roosterjs-editor-dom/lib/utils/wrap.ts"),f=r(/*! ../utils/getLeafSibling */"./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts"),g=r(/*! ./getListTypeFromNode */"./packages/roosterjs-editor-dom/lib/list/getListTypeFromNode.ts"),m="ol,ul";function v(e,t,r){var o=t[r?t.length-1:0];o=(0,f.getLeafSibling)(e.rootNode,o,r,e.skipTags,!0),o=(0,n.default)(e,m,o),(0,s.default)(e,o)&&(0,g.isListElement)(o)&&(r?(0,l.default)(o,"HTMLOListElement")&&1!=o.start||t.push(o):t.unshift(o))}t.default=function(e,t,r){if(!e)return null;var s=[];if(r){var f=(0,n.default)(e,m,r);f&&s.push(f)}else{if((0,i.default)(e,void 0,!0).forEach((function(r){var o=(0,n.default)(e,m,r.getStartNode());o?(s[s.length-1]!=o&&s.push(o),1==s.length&&(0,l.default)(o,"HTMLOListElement")&&o.start>1&&(t=!1)):s.push(r.collapseToSingleElement())})),0==s.length&&!e.rootNode.firstChild){var h=(0,o.default)(1,e.rootNode.ownerDocument);e.rootNode.appendChild(h),s.push(h),e.fullSelectionStart=new a.default(h,0),e.fullSelectionEnd=new a.default(h,-1)}t&&(v(e,s,!1),v(e,s,!0)),s=s.filter((function(e){return!(0,d.default)(e,!0)}))}var b=null;if(s.length>0){var y=s.shift()||null;(b=(0,g.isListElement)(y)?new c.default(y):y?function(e){var t=(0,u.default)(e.childNodes),r=1==t.length?t[0]:(0,p.default)(t,"SPAN"),o=e.ownerDocument.createElement("ol");e.appendChild(o);var n=new c.default(o);return n.appendItem(r,0),n}(y):null)&&s.forEach((function(e){(0,g.isListElement)(e)?b.mergeVList(new c.default(e)):b.appendItem(e,0)}))}return b}},"./packages/roosterjs-editor-dom/lib/list/getListTypeFromNode.ts":
/*!***********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/list/getListTypeFromNode.ts ***!
  \***********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isListElement=void 0;var o=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts");function n(e){switch((0,o.default)(e)){case"OL":return 1;case"UL":return 2;default:return 0}}t.default=n,t.isListElement=function(e){return 0!=n(e)}},"./packages/roosterjs-editor-dom/lib/list/getRootListNode.ts":
/*!*******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/list/getRootListNode.ts ***!
  \*******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/findClosestElementAncestor */"./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts");t.default=function(e,t,r){var n=e&&(0,o.default)(r,e.rootNode,t);if(n)for(var i=void 0;i=(0,o.default)(n.parentNode,e.rootNode,t);)n=i;return n}},"./packages/roosterjs-editor-dom/lib/list/setBulletListMarkers.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/list/setBulletListMarkers.ts ***!
  \************************************************************************/(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=o[t],n=1===t;e.style.listStyleType=n?r:'"'+r+'"'};var o=((r={})[1]="disc",r[3]="∎ ",r[2]="- ",r[5]="➔ ",r[8]="➔ ",r[4]="➢ ",r[6]="➪ ",r[7]="— ",r)},"./packages/roosterjs-editor-dom/lib/list/setListItemStyle.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/list/setListItemStyle.ts ***!
  \********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../contentTraverser/ContentTraverser */"./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts"),n=r(/*! ../utils/findClosestElementAncestor */"./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts"),i=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=function(e,t,r){void 0===r&&(r=!0);var s=function(e,t,r){var s,a,l=[],d=o.default.createBodyTraverser(e),u=null,c=function(){var o=(null==(u=d.currentInlineElement)?void 0:u.getContainerNode())||null,c=null;o=o?(0,n.default)(o):null;for(var p=function(){var e=o;t.forEach((function(t){var o=r?e.style.getPropertyValue(t):e.getAttribute(t);c||(c={}),o&&!c[t]&&(c[t]=o)})),o=1===(null===(a=null==o?void 0:o.parentNode)||void 0===a?void 0:a.childNodes.length)?o.parentNode:null};o&&o!==e&&(0,i.default)(o,"HTMLElement")&&(0==l.length||((null===(s=o.textContent)||void 0===s?void 0:s.trim().length)||0)>0);)p();c&&l.push(c),d.getNextInlineElement()};for(;d.currentInlineElement!=u;)c();return l}(e,t,r);t.forEach((function(t){var o=s.map((function(e){return void 0!==e[t]?e[t]:""}));o&&(1==o.length||1==new Set(o).size)&&o[0]&&(r?e.style.setProperty(t,o[0]):e.setAttribute(t,o[0]))}))}},"./packages/roosterjs-editor-dom/lib/list/setNumberingListMarkers.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/list/setNumberingListMarkers.ts ***!
  \***************************************************************************/(e,t,r)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(/*! ./convertDecimalsToAlpha */"./packages/roosterjs-editor-dom/lib/list/convertDecimalsToAlpha.ts"),s=r(/*! ./convertDecimalsToRomans */"./packages/roosterjs-editor-dom/lib/list/convertDecimalsToRomans.ts");!function(e){e[e.Decimal=0]="Decimal",e[e.Roman=1]="Roman",e[e.Alpha=2]="Alpha"}(n||(n={})),t.default=function(e,t,r){var o=a[t],l=o.markerSeparator,d=o.markerSecondSeparator,u=o.markerType,c=o.lowerCase,p=r.toString();u===n.Roman?p=(0,s.default)(r,c):u===n.Alpha&&(p=(0,i.default)(r-1,c));var f=d?d+p+l:p+l;e.style.listStyleType='"'+f+'"'};var a=((o={})[1]={markerType:n.Decimal,markerSeparator:". "},o[2]={markerType:n.Decimal,markerSeparator:"- "},o[3]={markerType:n.Decimal,markerSeparator:") "},o[4]={markerType:n.Decimal,markerSeparator:") ",markerSecondSeparator:"("},o[5]={markerType:n.Alpha,markerSeparator:". ",lowerCase:!0},o[8]={markerType:n.Alpha,markerSeparator:"- ",lowerCase:!0},o[6]={markerType:n.Alpha,markerSeparator:") ",lowerCase:!0},o[7]={markerType:n.Alpha,markerSeparator:") ",markerSecondSeparator:"(",lowerCase:!0},o[9]={markerType:n.Alpha,markerSeparator:". "},o[12]={markerType:n.Alpha,markerSeparator:"- "},o[10]={markerType:n.Alpha,markerSeparator:") "},o[11]={markerType:n.Alpha,markerSeparator:") ",markerSecondSeparator:"("},o[13]={markerType:n.Roman,markerSeparator:". ",lowerCase:!0},o[16]={markerType:n.Roman,markerSeparator:"- ",lowerCase:!0},o[14]={markerType:n.Roman,markerSeparator:") ",lowerCase:!0},o[15]={markerType:n.Roman,markerSeparator:") ",markerSecondSeparator:"(",lowerCase:!0},o[17]={markerType:n.Roman,markerSeparator:". "},o[20]={markerType:n.Roman,markerSeparator:"- "},o[18]={markerType:n.Roman,markerSeparator:") "},o[19]={markerType:n.Roman,markerSeparator:") ",markerSecondSeparator:"("},o)},"./packages/roosterjs-editor-dom/lib/metadata/definitionCreators.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/metadata/definitionCreators.ts ***!
  \**************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createObjectDefinition=t.createArrayDefinition=t.createStringDefinition=t.createBooleanDefinition=t.createNumberDefinition=void 0,t.createNumberDefinition=function(e,t,r,o,n){return{type:1,isOptional:e,value:t,maxValue:o,minValue:r,allowNull:n}},t.createBooleanDefinition=function(e,t,r){return{type:0,isOptional:e,value:t,allowNull:r}},t.createStringDefinition=function(e,t,r){return{type:2,isOptional:e,value:t,allowNull:r}},t.createArrayDefinition=function(e,t,r,o,n){return{type:3,isOptional:t,itemDef:e,minLength:r,maxLength:o,allowNull:n}},t.createObjectDefinition=function(e,t,r){return{type:4,isOptional:t,propertyDef:e,allowNull:r}}},"./packages/roosterjs-editor-dom/lib/metadata/metadata.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/metadata/metadata.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeMetadata=t.setMetadata=t.getMetadata=void 0;var o=r(/*! ./validate */"./packages/roosterjs-editor-dom/lib/metadata/validate.ts"),n="editingInfo";function i(e,t,r){var i,s=e.dataset[n];try{i=s?JSON.parse(s):null}catch(e){}if(void 0!==i){if(!t)return i;if((0,o.default)(i,t))return i}return r||null}t.getMetadata=i,t.setMetadata=function(e,t,r){return!(r&&!(0,o.default)(t,r))&&(e.dataset[n]=JSON.stringify(t),!0)},t.removeMetadata=function(e,t){if(t){var r=i(e);r&&(delete r[t],e.dataset[n]=JSON.stringify(r))}else delete e.dataset[n]}},"./packages/roosterjs-editor-dom/lib/metadata/validate.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/metadata/validate.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../jsUtils/getObjectKeys */"./packages/roosterjs-editor-dom/lib/jsUtils/getObjectKeys.ts");t.default=function e(t,r){var n,i,s=!1;if(r.isOptional&&void 0===t||r.allowNull&&null===t)s=!0;else{if(!r.isOptional&&void 0===t||!r.allowNull&&null===t)return!1;switch(r.type){case 2:s="string"==typeof t&&(void 0===r.value||t===r.value);break;case 1:s="number"==typeof t&&(void 0===r.value||(n=r.value,i=t,Math.abs(n-i)<.001))&&(void 0===r.minValue||t>=r.minValue)&&(void 0===r.maxValue||t<=r.maxValue);break;case 0:s="boolean"==typeof t&&(void 0===r.value||t===r.value);break;case 3:s=Array.isArray(t)&&(void 0===r.minLength||t.length>=r.minLength)&&(void 0===r.maxLength||t.length<=r.maxLength)&&t.every((function(t){return e(t,r.itemDef)}));break;case 4:s="object"==typeof t&&(0,o.default)(r.propertyDef).every((function(o){return e(t[o],r.propertyDef[o])}));break;case 5:s=r.validator(t)}}return s}},"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/constants.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/pasteSourceValidations/constants.ts ***!
  \*******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXCEL_DESKTOP_ATTRIBUTE_NAME=t.PROG_ID_NAME=t.GOOGLE_SHEET_NODE_NAME=void 0,t.GOOGLE_SHEET_NODE_NAME="google-sheets-html-origin",t.PROG_ID_NAME="ProgId",t.EXCEL_DESKTOP_ATTRIBUTE_NAME="xmlns:x"},"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/documentContainWacElements.ts":
/*!************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/pasteSourceValidations/documentContainWacElements.ts ***!
  \************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r='ul[class^="BulletListStyle"]>.OutlineElement,ol[class^="NumberListStyle"]>.OutlineElement,span.WACImageContainer,'+["TableInsertRowGapBlank","TableColumnResizeHandle","TableCellTopBorderHandle","TableCellLeftBorderHandle","TableHoverColumnHandle","TableHoverRowHandle"].map((function(e){return'table div[class^="'+e+'"]'})).join(",");t.default=function(e){return!!e.fragment.querySelector(r)}},"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/getPasteSource.ts":
/*!************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/pasteSourceValidations/getPasteSource.ts ***!
  \************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./documentContainWacElements */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/documentContainWacElements.ts"),n=r(/*! ./isExcelDesktopDocument */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isExcelDesktopDocument.ts"),i=r(/*! ./isExcelOnlineDocument */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isExcelOnlineDocument.ts"),s=r(/*! ./isGoogleSheetDocument */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isGoogleSheetDocument.ts"),a=r(/*! ./isPowerPointDesktopDocument */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isPowerPointDesktopDocument.ts"),l=r(/*! ./isWordDesktopDocument */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isWordDesktopDocument.ts"),d=r(/*! ./shouldConvertToSingleImage */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/shouldConvertToSingleImage.ts"),u=new Map([[0,l.default],[1,n.default],[2,i.default],[3,a.default],[5,o.default],[4,s.default],[7,d.default]]);t.default=function(e,t){var r=e.htmlAttributes,o=e.clipboardData,n=e.fragment,i=null,s={htmlAttributes:r,fragment:n,shouldConvertSingleImage:t,clipboardData:o};return u.forEach((function(e,t){!i&&e(s)&&(i=t)})),null!=i?i:6}},"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isExcelDesktopDocument.ts":
/*!********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isExcelDesktopDocument.ts ***!
  \********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./constants */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/constants.ts");t.default=function(e){return"urn:schemas-microsoft-com:office:excel"==e.htmlAttributes[o.EXCEL_DESKTOP_ATTRIBUTE_NAME]}},"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isExcelOnlineDocument.ts":
/*!*******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isExcelOnlineDocument.ts ***!
  \*******************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./constants */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/constants.ts");t.default=function(e){var t=e.htmlAttributes;return"Excel.Sheet"==t[o.PROG_ID_NAME]&&null==t[o.EXCEL_DESKTOP_ATTRIBUTE_NAME]}},"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isGoogleSheetDocument.ts":
/*!*******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isGoogleSheetDocument.ts ***!
  \*******************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./constants */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/constants.ts");t.default=function(e){return!!e.fragment.querySelector(o.GOOGLE_SHEET_NODE_NAME)}},"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isPowerPointDesktopDocument.ts":
/*!*************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isPowerPointDesktopDocument.ts ***!
  \*************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./constants */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/constants.ts");t.default=function(e){return"PowerPoint.Slide"==e.htmlAttributes[o.PROG_ID_NAME]}},"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isWordDesktopDocument.ts":
/*!*******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/pasteSourceValidations/isWordDesktopDocument.ts ***!
  \*******************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./constants */"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/constants.ts");t.default=function(e){var t=e.htmlAttributes;return"urn:schemas-microsoft-com:office:word"==t["xmlns:w"]||"Word.Document"==t[o.PROG_ID_NAME]}},"./packages/roosterjs-editor-dom/lib/pasteSourceValidations/shouldConvertToSingleImage.ts":
/*!************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/pasteSourceValidations/shouldConvertToSingleImage.ts ***!
  \************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t,r=e.shouldConvertSingleImage,o=e.clipboardData;return r&&1==(null===(t=o.htmlFirstLevelChildTags)||void 0===t?void 0:t.length)&&"IMG"==o.htmlFirstLevelChildTags[0]}},"./packages/roosterjs-editor-dom/lib/region/collapseNodesInRegion.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/region/collapseNodesInRegion.ts ***!
  \***************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/collapseNodes */"./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts"),n=r(/*! ./isNodeInRegion */"./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts"),i=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=function(e,t){if(!t||0==t.length)return[];var r=(0,i.default)(t[0],"Node")?t:[t[0].getStartNode(),t[t.length-1].getEndNode()],s=(r=r&&r.filter((function(t){return(0,n.default)(e,t)})))[0],a=r[r.length-1];return(0,n.default)(e,s)&&(0,n.default)(e,a)?(0,o.default)(e.rootNode,s,a,!0):[]}},"./packages/roosterjs-editor-dom/lib/region/getRegionsFromRange.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/region/getRegionsFromRange.ts ***!
  \*************************************************************************/(e,t,r)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.getRegionCreator=void 0;var n=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),i=r(/*! ../utils/contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),s=r(/*! ../utils/findClosestElementAncestor */"./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts"),a=r(/*! ../selection/Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts"),l=r(/*! ../utils/queryElements */"./packages/roosterjs-editor-dom/lib/utils/queryElements.ts"),d=r(/*! ../utils/getLeafSibling */"./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts"),u=((o={})[0]={skipTags:["TABLE"],outerSelector:"table",innerSelector:"td,th"},o);function c(e,t){var r=a.default.getStart(e).normalize(),o=a.default.getEnd(e).normalize();return function(e,n,s){return function(e,t,r,o){if(e){var n=t&&(0,d.getNextLeafSibling)(e,t,o),s=r&&(0,d.getPreviousLeafSibling)(e,r,o),a=!t||(0,i.default)(e,t)&&(0,i.default)(e,n),l=!r||(0,i.default)(e,r)&&(0,i.default)(e,s),u=!(t&&r&&((0,i.default)(t,r,!0)||(0,i.default)(t,s,!0)||(0,i.default)(r,t,!0)||(0,i.default)(r,n,!0)));return a&&l&&u}return!1}(e,n,s,t)?{rootNode:e,nodeBefore:n,nodeAfter:s,skipTags:t,fullSelectionStart:r,fullSelectionEnd:o}:null}}function p(e,t,r,o,i){var s;i=i||t.innerNode==r;var a=!1,l=t.children,d=t.innerNode,u=[];if(0==l.length)(f=e(d))&&u.push(f);else for(var c=0;c<=l.length&&!a;c++){var f,g=l[c]||{},m=g.outerNode,v=g.boundaries,h=null===(s=l[c-1])||void 0===s?void 0:s.outerNode;if(i)(f=e(d,h,m))&&u.push(f);null==v||v.forEach((function(t){var s,l;l=(s=(0,n.__read)(p(e,t,r,o,i),3))[0],i=s[1],a=s[2],u=u.concat(l)}))}return[u,i,a||d==o]}t.default=function(e,t,r){var o=[];if(e&&t){var a=u[r],d=a.innerSelector,f=a.skipTags,g=function(e,t,r){var o=[{innerNode:e,children:[]}],n=u[r],a=n.outerSelector,d=n.innerSelector,c=(0,l.default)(e,a,null,2,t);return(0,l.default)(e,d,(function(t){var r=(0,s.default)(t,e,a);if(r&&c.indexOf(r)<0){for(var n={innerNode:t,children:[]},l=o.length-1;l>=0;l--){var d=o[l],u=d.innerNode,p=d.children;if((0,i.default)(u,r)){var f=p.filter((function(e){return e.outerNode==r}))[0];f||(f={outerNode:r,boundaries:[]},p.push(f)),f.boundaries.push(n);break}}o.push(n)}}),1,t),o[0]}(e,t,r),m=(0,s.default)(t.startContainer,e,d)||e,v=(0,s.default)(t.endContainer,e,d)||e,h=c(t,f);o=(0,n.__read)(p(h,g,m,v),1)[0]}return o.filter((function(e){return!!e}))},t.getRegionCreator=c},"./packages/roosterjs-editor-dom/lib/region/getSelectedBlockElementsInRegion.ts":
/*!**************************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/region/getSelectedBlockElementsInRegion.ts ***!
  \**************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../contentTraverser/ContentTraverser */"./packages/roosterjs-editor-dom/lib/contentTraverser/ContentTraverser.ts"),n=r(/*! ../utils/createElement */"./packages/roosterjs-editor-dom/lib/utils/createElement.ts"),i=r(/*! ../blockElements/getBlockElementAtNode */"./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),s=r(/*! ./getSelectionRangeInRegion */"./packages/roosterjs-editor-dom/lib/region/getSelectionRangeInRegion.ts"),a=r(/*! ../utils/shouldSkipNode */"./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts");t.default=function(e,t,r){var l=(0,s.default)(e),d=[];if(l){for(var u=e.rootNode,c=e.skipTags,p=o.default.createSelectionTraverser(u,l,c),f=null==p?void 0:p.currentBlockElement;f;f=p.getNextBlockElement())d.push(f);d=d.filter((function(e){var t,r=e.getStartNode();return r!=e.getEndNode()||!(0,a.default)(r,!0)||(null===(t=r.parentNode)||void 0===t||t.removeChild(r),!1)}))}if(0==d.length&&e&&!e.rootNode.firstChild&&t){var g=(0,n.default)(1,e.rootNode.ownerDocument);e.rootNode.appendChild(g),(f=(0,i.default)(e.rootNode,g))&&d.push(f)}return d}},"./packages/roosterjs-editor-dom/lib/region/getSelectionRangeInRegion.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/region/getSelectionRangeInRegion.ts ***!
  \*******************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../selection/createRange */"./packages/roosterjs-editor-dom/lib/selection/createRange.ts"),n=r(/*! ../selection/Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts"),i=r(/*! ../utils/getLeafSibling */"./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts");t.default=function(e){if(!e)return null;var t=e.nodeBefore,r=e.nodeAfter,s=e.rootNode,a=e.skipTags,l=t?(0,i.getNextLeafSibling)(e.rootNode,t,e.skipTags):s.firstChild,d=r?(0,i.getPreviousLeafSibling)(s,r,a):s.lastChild,u=l&&d&&(0,o.default)(l,d);if(!function(e){var t=e;return!!t.fullSelectionEnd&&!!t.fullSelectionStart}(e))return u;if(u){var c=n.default.getStart(u).normalize(),p=n.default.getEnd(u).normalize(),f=e.fullSelectionEnd,g=e.fullSelectionStart;if(!g.isAfter(p)&&!c.isAfter(f)){var m=g.isAfter(c)?g:c,v=f.isAfter(p)?p:f;return(0,o.default)(m,v)}}return null}},"./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts ***!
  \********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts");t.default=function(e,t){return!(!e||!(0,o.default)(e.rootNode,t)||e.nodeBefore&&4!=e.nodeBefore.compareDocumentPosition(t)||e.nodeAfter&&2!=e.nodeAfter.compareDocumentPosition(t))}},"./packages/roosterjs-editor-dom/lib/region/mergeBlocksInRegion.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/region/mergeBlocksInRegion.ts ***!
  \*************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../utils/changeElementTag */"./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts"),i=r(/*! ../utils/contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),s=r(/*! ../blockElements/getBlockElementAtNode */"./packages/roosterjs-editor-dom/lib/blockElements/getBlockElementAtNode.ts"),a=r(/*! ../htmlSanitizer/getPredefinedCssForElement */"./packages/roosterjs-editor-dom/lib/htmlSanitizer/getPredefinedCssForElement.ts"),l=r(/*! ../style/getStyles */"./packages/roosterjs-editor-dom/lib/style/getStyles.ts"),d=r(/*! ./isNodeInRegion */"./packages/roosterjs-editor-dom/lib/region/isNodeInRegion.ts"),u=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),c=r(/*! ../style/setStyles */"./packages/roosterjs-editor-dom/lib/style/setStyles.ts"),p=r(/*! ../utils/collapseNodes */"./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts");t.default=function(e,t,r){var f,g,m,v;if((0,d.default)(e,t)&&(0,d.default)(e,r)&&(v=(0,s.default)(e.rootNode,r))&&!v.contains(t)){for(var h=v.collapseToSingleElement(),b=(0,p.collapse)(e.rootNode,h,t,!1,!0),y=h;(0,i.default)(b,y);){var E=y.parentNode;if((0,u.default)(E,"HTMLElement")){var C=(0,o.__assign)((0,o.__assign)((0,o.__assign)({},(0,a.default)(E)||{}),(0,l.default)(E)),(0,l.default)(h));(0,c.default)(h,C)}y=E}var k=null,S=1==h.childNodes.length&&0==h.attributes.length?h.firstChild:(0,n.default)(h,"SPAN");for(y=S;(0,i.default)(b,y)&&1==(null===(f=y.parentNode)||void 0===f?void 0:f.childNodes.length);y=y.parentNode)k=y.parentNode;null===(g=t.parentNode)||void 0===g||g.insertBefore(S,t.nextSibling),null===(m=null==k?void 0:k.parentNode)||void 0===m||m.removeChild(k)}}},"./packages/roosterjs-editor-dom/lib/selection/Position.ts":
/*!*****************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/selection/Position.ts ***!
  \*****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/findClosestElementAncestor */"./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts"),n=r(/*! ../utils/isNodeAfter */"./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts"),i=function(){function e(e,t,r){switch(void 0===t&&(t=0),this.isFromEndOfRange=r,e.node?(this.node=e.node,t=e.offset):this.node=e,t){case-2:this.offset=s(this.node),this.node=this.node.parentNode,this.isAtEnd=!1;break;case-3:this.offset=s(this.node)+1,this.isAtEnd=!this.node.nextSibling,this.node=this.node.parentNode;break;case-1:this.offset=a(this.node),this.isAtEnd=!0;break;default:var n=a(this.node);this.offset=Math.max(0,Math.min(t,n)),this.isAtEnd=t>0&&t>=n}this.element=(0,o.default)(this.node)}return e.prototype.normalize=function(){if(3==this.node.nodeType||!this.node.firstChild)return this;for(var t=this.node,r=this.isAtEnd?-1:this.offset;1==t.nodeType||11==t.nodeType;){var o=this.isFromEndOfRange?-1==r?t.lastChild:t.childNodes[r-1]:0==r?t.firstChild:-1==r?t.lastChild:t.childNodes[r];if(!o)break;t=o,r=this.isAtEnd||this.isFromEndOfRange?-1:0}return new e(t,r,this.isFromEndOfRange)},e.prototype.equalTo=function(e){return e&&(this==e||this.node==e.node&&this.offset==e.offset&&this.isAtEnd==e.isAtEnd)},e.prototype.isAfter=function(e){return this.node==e.node?this.isAtEnd&&!e.isAtEnd||this.offset>e.offset:(0,n.default)(this.node,e.node)},e.prototype.move=function(t){return new e(this.node,Math.max(this.offset+t,0))},e.getStart=function(t){return new e(t.startContainer,t.startOffset)},e.getEnd=function(t){return t.collapsed?e.getStart(t):new e(t.endContainer,t.endOffset,!0)},e}();function s(e){for(var t=0;e=(null==e?void 0:e.previousSibling)||null;)t++;return t}function a(e){var t;return 3==e.nodeType?(null===(t=e.nodeValue)||void 0===t?void 0:t.length)||0:1==e.nodeType||11==e.nodeType?e.childNodes.length:1}t.default=i},"./packages/roosterjs-editor-dom/lib/selection/addRangeToSelection.ts":
/*!****************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/selection/addRangeToSelection.ts ***!
  \****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/Browser */"./packages/roosterjs-editor-dom/lib/utils/Browser.ts");t.default=function(e,t){var r,n,i,s=null===(i=null===(n=null===(r=null==e?void 0:e.commonAncestorContainer)||void 0===r?void 0:r.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0===i?void 0:i.getSelection();if(s){var a=!0;if(s.rangeCount>0)try{var l=null;(t||o.Browser.isEdge)&&(l=1==s.rangeCount?s.getRangeAt(0):null)&&l.startContainer==e.startContainer&&l.startOffset==e.startOffset&&l.endContainer==e.endContainer&&l.endOffset==e.endOffset?a=!1:s.removeAllRanges()}catch(e){}a&&s.addRange(e)}}},"./packages/roosterjs-editor-dom/lib/selection/createRange.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/selection/createRange.ts ***!
  \********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/isVoidHtmlElement */"./packages/roosterjs-editor-dom/lib/utils/isVoidHtmlElement.ts"),n=r(/*! ./Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts"),i=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");function s(e){return 1==e.node.nodeType&&(0,o.default)(e.node)?new n.default(e.node,e.isAtEnd?-3:-2):e}function a(e){return e&&e.node}function l(e,t){if(!e||!t)return null;for(var r=0,o=0;o<t.length&&(r=t[o],o<t.length-1&&e&&1==e.nodeType&&e.childNodes.length>r);o++)e=e.childNodes[r];return new n.default(e,r)}t.default=function(e,t,r,o){var d,u=null,c=null;if(a(e)?(u=e,c=a(t)?t:null):(0,i.default)(e,"Node")&&(Array.isArray(t)?(u=l(e,t),c=Array.isArray(r)?l(e,r):null):"number"==typeof t?(u=new n.default(e,t),c=(0,i.default)(r,"Node")?new n.default(r,o):null):!(0,i.default)(t,"Node")&&t||(u=new n.default(e,-2),c=new n.default(t||e,-3))),null===(d=null==u?void 0:u.node)||void 0===d?void 0:d.ownerDocument){var p=u.node.ownerDocument.createRange();return u=s(u),c=s(c||u),p.setStart(u.node,u.offset),p.setEnd(c.node,c.offset),p}return null}},"./packages/roosterjs-editor-dom/lib/selection/getHtmlWithSelectionPath.ts":
/*!*********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/selection/getHtmlWithSelectionPath.ts ***!
  \*********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/getInnerHTML */"./packages/roosterjs-editor-dom/lib/utils/getInnerHTML.ts"),n=r(/*! ./getSelectionPath */"./packages/roosterjs-editor-dom/lib/selection/getSelectionPath.ts");t.default=function(e,t){if(!e)return"";var r=(0,o.default)(e),i=t&&(0,n.default)(e,t);return i?r+"\x3c!--"+JSON.stringify(i)+"--\x3e":r}},"./packages/roosterjs-editor-dom/lib/selection/getPositionRect.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/selection/getPositionRect.ts ***!
  \************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/createElement */"./packages/roosterjs-editor-dom/lib/utils/createElement.ts"),n=r(/*! ./createRange */"./packages/roosterjs-editor-dom/lib/selection/createRange.ts"),i=r(/*! ../utils/normalizeRect */"./packages/roosterjs-editor-dom/lib/utils/normalizeRect.ts");t.default=function(e){var t;if(!e)return null;var r=(0,n.default)(e),s=r.getBoundingClientRect&&(0,i.default)(r.getBoundingClientRect());if(s)return s;e=e.normalize();var a=r.getClientRects&&r.getClientRects();if(s=a&&1==a.length?(0,i.default)(a[0]):null)return s;if(3==e.node.nodeType&&e.node.ownerDocument){var l=(0,o.default)({tag:"span",children:["​"]},e.node.ownerDocument);if((r=(0,n.default)(e)).insertNode(l),s=l.getBoundingClientRect&&(0,i.default)(l.getBoundingClientRect()),null===(t=l.parentNode)||void 0===t||t.removeChild(l),s)return s}var d=e.element;return d&&d.getBoundingClientRect&&(s=(0,i.default)(d.getBoundingClientRect()))?s:null}},"./packages/roosterjs-editor-dom/lib/selection/getSelectionPath.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/selection/getSelectionPath.ts ***!
  \*************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),n=r(/*! ./Position */"./packages/roosterjs-editor-dom/lib/selection/Position.ts");function i(e,t){var r,n;if(!e||!t)return[];var i,s=e.node,a=e.offset,l=[];if(!(0,o.default)(t,s,!0))return[];if(3==s.nodeType){for(i=s.parentNode;s.previousSibling&&3==s.previousSibling.nodeType;)a+=(null===(r=s.previousSibling.nodeValue)||void 0===r?void 0:r.length)||0,s=s.previousSibling;l.unshift(a)}else i=s,s=s.childNodes[a];do{a=0;for(var d=!1,u=(null==i?void 0:i.firstChild)||null;u&&u!=s;u=u.nextSibling){if(3==u.nodeType){if(0===(null===(n=u.nodeValue)||void 0===n?void 0:n.length)||d)continue;d=!0}else d=!1;a++}l.unshift(a),s=i,i=(null==i?void 0:i.parentNode)||null}while(s&&s!=t);return l}t.default=function(e,t){return t?{start:i(n.default.getStart(t),e),end:i(n.default.getEnd(t),e)}:null}},"./packages/roosterjs-editor-dom/lib/selection/isPositionAtBeginningOf.ts":
/*!********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/selection/isPositionAtBeginningOf.ts ***!
  \********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),n=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),i=r(/*! ../utils/isNodeEmpty */"./packages/roosterjs-editor-dom/lib/utils/isNodeEmpty.ts");function s(e){for(;e.previousSibling;)if(e=e.previousSibling,"BR"==(0,n.default)(e)||!(0,i.default)(e))return!1;return!0}t.default=function(e,t){if(e){var r=(e=e.normalize()).node;if(0==e.offset){for(;r&&(0,o.default)(t,r)&&s(r);)r=(null==r?void 0:r.parentNode)||null;return r==t}}return!1}},"./packages/roosterjs-editor-dom/lib/selection/setHtmlWithSelectionPath.ts":
/*!*********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/selection/setHtmlWithSelectionPath.ts ***!
  \*********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractContentMetadata=t.setHtmlWithMetadata=void 0;var o=r(/*! ./createRange */"./packages/roosterjs-editor-dom/lib/selection/createRange.ts"),n=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),i=r(/*! ../metadata/validate */"./packages/roosterjs-editor-dom/lib/metadata/validate.ts"),s=r(/*! ../metadata/definitionCreators */"./packages/roosterjs-editor-dom/lib/metadata/definitionCreators.ts"),a=(0,s.createArrayDefinition)((0,s.createNumberDefinition)()),l=(0,s.createObjectDefinition)({x:(0,s.createNumberDefinition)(),y:(0,s.createNumberDefinition)()}),d=(0,s.createBooleanDefinition)(!0),u=(0,s.createObjectDefinition)({type:(0,s.createNumberDefinition)(!0,0),isDarkMode:d,start:a,end:a}),c=(0,s.createObjectDefinition)({type:(0,s.createNumberDefinition)(!1,1),isDarkMode:d,tableId:(0,s.createStringDefinition)(),firstCell:l,lastCell:l}),p=(0,s.createObjectDefinition)({type:(0,s.createNumberDefinition)(!1,2),isDarkMode:d,imageId:(0,s.createStringDefinition)()});function f(e,t,r){if(e)return t=t||"",e.innerHTML=(null==r?void 0:r(t))||t,g(e)}function g(e){var t=e.lastChild;if((0,n.default)(t,"Comment"))try{var r=JSON.parse(t.nodeValue||"");if((0,i.default)(r,u)||(0,i.default)(r,c)||(0,i.default)(r,p))return e.removeChild(t),r.type=void 0===r.type?0:r.type,r.isDarkMode=r.isDarkMode||!1,r}catch(e){}}t.default=function(e,t,r){var n=f(e,t,r);return 0==(null==n?void 0:n.type)?(0,o.default)(e,n.start,n.end):null},t.setHtmlWithMetadata=f,t.extractContentMetadata=g},"./packages/roosterjs-editor-dom/lib/snapshots/addSnapshot.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/snapshots/addSnapshot.ts ***!
  \********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSnapshotV2=void 0;var o=r(/*! ./clearProceedingSnapshots */"./packages/roosterjs-editor-dom/lib/snapshots/clearProceedingSnapshots.ts");function n(e,t,r,n,i){n=n||function(e){var t;return(null===(t=e)||void 0===t?void 0:t.length)||0},i=i||s;var a=e.snapshots[e.currentIndex],l=a&&i(a,t);if(e.currentIndex<0||!a||!l){(0,o.default)(e,n),e.snapshots.push(t),e.currentIndex++,e.totalSize+=n(t);for(var d=0;d<e.snapshots.length&&e.totalSize>e.maxSize;)e.totalSize-=n(e.snapshots[d]),d++;d>0&&(e.snapshots.splice(0,d),e.currentIndex-=d,e.autoCompleteIndex-=d),r&&(e.autoCompleteIndex=e.currentIndex)}else l&&e.snapshots.splice(e.currentIndex,1,t)}function i(e,t){return e.html==t.html&&!e.entityStates&&!t.entityStates}function s(e,t){return e==t}t.default=n,t.addSnapshotV2=function(e,t,r){n(e,t,r,(function(e){var t;return(null===(t=e.html)||void 0===t?void 0:t.length)||0}),i)}},"./packages/roosterjs-editor-dom/lib/snapshots/canMoveCurrentSnapshot.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/snapshots/canMoveCurrentSnapshot.ts ***!
  \*******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e.currentIndex+t;return r>=0&&r<e.snapshots.length}},"./packages/roosterjs-editor-dom/lib/snapshots/canUndoAutoComplete.ts":
/*!****************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/snapshots/canUndoAutoComplete.ts ***!
  \****************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.autoCompleteIndex>=0&&e.currentIndex-e.autoCompleteIndex==1}},"./packages/roosterjs-editor-dom/lib/snapshots/clearProceedingSnapshots.ts":
/*!*********************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/snapshots/clearProceedingSnapshots.ts ***!
  \*********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearProceedingSnapshotsV2=void 0;var o=r(/*! ./canMoveCurrentSnapshot */"./packages/roosterjs-editor-dom/lib/snapshots/canMoveCurrentSnapshot.ts");function n(e,t){if(t=t||function(e){var t;return(null===(t=e)||void 0===t?void 0:t.length)||0},(0,o.default)(e,1)){for(var r=0,n=e.currentIndex+1;n<e.snapshots.length;n++)r+=t(e.snapshots[n]);e.snapshots.splice(e.currentIndex+1),e.totalSize-=r,e.autoCompleteIndex=-1}}t.default=n,t.clearProceedingSnapshotsV2=function(e){n(e,(function(e){var t;return(null===(t=e.html)||void 0===t?void 0:t.length)||0}))}},"./packages/roosterjs-editor-dom/lib/snapshots/createSnapshots.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/snapshots/createSnapshots.ts ***!
  \************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{snapshots:[],totalSize:0,currentIndex:-1,autoCompleteIndex:-1,maxSize:e}}},"./packages/roosterjs-editor-dom/lib/snapshots/moveCurrentSnapshot.ts":
/*!****************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/snapshots/moveCurrentSnapshot.ts ***!
  \****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moveCurrentSnapsnot=void 0;var o=r(/*! ./canMoveCurrentSnapshot */"./packages/roosterjs-editor-dom/lib/snapshots/canMoveCurrentSnapshot.ts");function n(e,t){return(0,o.default)(e,t)?(e.currentIndex+=t,e.autoCompleteIndex=-1,e.snapshots[e.currentIndex]):null}t.default=n,t.moveCurrentSnapsnot=n},"./packages/roosterjs-editor-dom/lib/style/getStyles.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/style/getStyles.ts ***!
  \**************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return((null==e?void 0:e.getAttribute("style"))||"").split(";").forEach((function(e){var r=e.indexOf(":"),o=e.slice(0,r),n=e.slice(r+1);o&&n&&(t[o.trim()]=n.trim())})),t}},"./packages/roosterjs-editor-dom/lib/style/removeGlobalCssStyle.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/style/removeGlobalCssStyle.ts ***!
  \*************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,o=e.getElementById(t);o&&(null===(r=o.parentNode)||void 0===r||r.removeChild(o))}},"./packages/roosterjs-editor-dom/lib/style/removeImportantStyleRule.ts":
/*!*****************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/style/removeImportantStyleRule.ts ***!
  \*****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./getStyles */"./packages/roosterjs-editor-dom/lib/style/getStyles.ts"),n=r(/*! ./setStyles */"./packages/roosterjs-editor-dom/lib/style/setStyles.ts");t.default=function(e,t){var r=(0,o.default)(e),i=0;t.forEach((function(e){var t;if((null===(t=r[e])||void 0===t?void 0:t.indexOf("!important"))>-1){var o=r[e].indexOf("!");r[e]=r[e].substring(0,o),i++}})),i>0&&(0,n.default)(e,r)}},"./packages/roosterjs-editor-dom/lib/style/setGlobalCssStyles.ts":
/*!***********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/style/setGlobalCssStyles.ts ***!
  \***********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var o;if(t){var n=e.getElementById(r);n||((n=e.createElement("style")).id=r,e.head.appendChild(n)),null===(o=n.sheet)||void 0===o||o.insertRule(t)}}},"./packages/roosterjs-editor-dom/lib/style/setStyles.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/style/setStyles.ts ***!
  \**************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../jsUtils/getObjectKeys */"./packages/roosterjs-editor-dom/lib/jsUtils/getObjectKeys.ts");t.default=function(e,t){if(e){var r=(0,o.default)(t||{}).map((function(e){var r=t[e],o=e?e.trim():null,n=r?r.trim():null;return o&&n?o+":"+n:null})).filter((function(e){return e})).join(";");r?e.setAttribute("style",r):e.removeAttribute("style")}}},"./packages/roosterjs-editor-dom/lib/table/VTable.ts":
/*!***********************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/table/VTable.ts ***!
  \***********************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ./applyTableFormat */"./packages/roosterjs-editor-dom/lib/table/applyTableFormat.ts"),i=r(/*! ../utils/getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),s=r(/*! ../utils/moveChildNodes */"./packages/roosterjs-editor-dom/lib/utils/moveChildNodes.ts"),a=r(/*! ../utils/normalizeRect */"./packages/roosterjs-editor-dom/lib/utils/normalizeRect.ts"),l=r(/*! ../utils/safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),d=r(/*! ../jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts"),u=r(/*! ./tableCellInfo */"./packages/roosterjs-editor-dom/lib/table/tableCellInfo.ts"),c=r(/*! ./tableFormatInfo */"./packages/roosterjs-editor-dom/lib/table/tableFormatInfo.ts"),p=r(/*! ../metadata/metadata */"./packages/roosterjs-editor-dom/lib/metadata/metadata.ts"),f={topBorderColor:"#ABABAB",bottomBorderColor:"#ABABAB",verticalBorderColor:"#ABABAB",hasHeaderRow:!1,hasFirstColumn:!1,hasBandedRows:!1,hasBandedColumns:!1,bgColorEven:null,bgColorOdd:"#ABABAB20",headerRowColor:"#ABABAB",tableBorderFormat:0,keepCellShade:!1,verticalAlign:null},g=function(){function e(e,t,r){var o=this;if(this.cells=null,this.formatInfo=null,this.trs=[],this.tableSelection=null,this.table=(0,l.default)(e,"HTMLTableElement")?e:function(e){for(var t=e;t&&"TABLE"!=t.tagName;t=t.parentElement);return t}(e),this.table){var n=(0,l.default)(e,"HTMLTableElement")?null:e,i=(0,d.default)(this.table.rows);this.cells=i.map((function(e){return[]})),i.forEach((function(e,t){var r;o.trs[t%2]=e;for(var i=0,s=0;i<e.cells.length;i++){for(;o.cells[t][s];s++);var a=e.cells[i];a==n&&(o.col=s,o.row=t);for(var l=0;l<a.colSpan;l++,s++)for(var d=0;d<a.rowSpan;d++){var u=l+d==0,c=a.getBoundingClientRect();(null===(r=o.cells)||void 0===r?void 0:r[t+d])&&(o.cells[t+d][s]={td:u?a:null,spanLeft:l>0,spanAbove:d>0,width:u?c.width:void 0,height:u?c.height:void 0})}}for(var p=0;p<o.cells[t].length;p++)o.cells[t][p]||(o.cells[t][p]={td:null,spanLeft:!1,spanAbove:!1,width:void 0,height:void 0})})),this.formatInfo=(0,c.getTableFormatInfo)(this.table),t&&this.normalizeSize("number"==typeof r?function(e){return e/r}:r)}}return Object.defineProperty(e.prototype,"selection",{get:function(){return this.tableSelection||null},set:function(e){if(e){var t=e.firstCell;this.row=null==t?void 0:t.y,this.col=null==t?void 0:t.x}this.tableSelection=e},enumerable:!1,configurable:!0}),e.prototype.writeBack=function(e,t){var r,o=this;this.cells?((0,s.default)(this.table),this.cells.forEach((function(e,t){var r=h(o.trs[t%2]||o.trs[0]);r&&(o.table.appendChild(r),e.forEach((function(e,n){e.td&&(o.recalculateSpans(t,n),o.recalculateCellHeight(e.td),r.appendChild(e.td))})))})),this.formatInfo&&!e&&((0,c.saveTableInfo)(this.table,this.formatInfo),(0,n.default)(this.table,this.cells,this.formatInfo,t))):this.table&&(null===(r=this.table.parentNode)||void 0===r||r.removeChild(this.table))},e.prototype.recalculateCellHeight=function(e){if(this.isEmptyCell(e)&&e.rowSpan>1)for(var t=1;t<e.rowSpan;t++){var r=document.createElement("br");e.appendChild(r)}},e.prototype.applyFormat=function(e){this.table&&(this.formatInfo=(0,o.__assign)((0,o.__assign)((0,o.__assign)({},f),this.formatInfo||{}),e||{}),this.formatInfo.keepCellShade||this.deleteCellShadeDataset(this.cells))},e.prototype.deleteCellShadeDataset=function(e){null==e||e.forEach((function(e){e.forEach((function(e){e.td&&(0,p.removeMetadata)(e.td,"bgColorOverride")}))}))},e.prototype.edit=function(e){var t,r,o=this;if(this.table&&this.cells&&void 0!==this.row&&null!=this.col){var n=this.cells[this.row],i=n[this.col],s=this.selection?this.selection.firstCell.y:this.row,a=this.selection?this.selection.lastCell.y:this.row,l=this.selection?this.selection.firstCell.x:this.col,d=this.selection?this.selection.lastCell.x:this.col;switch(e){case 0:for(var u=s;u<=a;u++)this.cells.splice(s,0,n.map(v));break;case 1:var c=function(e){var t=a+p.countSpanAbove(a,p.col);p.cells.splice(t,0,p.cells[t-1].map((function(e,r){var n=o.getCell(t,r);if(n.spanAbove)return v(n);if(e.spanLeft){var i=v(e);return i.spanAbove=!1,i}return{td:h(o.getTd(o.row,r))}})))},p=this;for(u=s;u<=a;u++)c();break;case 2:var f=function(e){g.forEachCellOfCurrentColumn((function(t,r){r.splice(e,0,v(t))}))},g=this;for(u=l;u<=d;u++)f(u);break;case 3:var m=function(e){var t=d+b.countSpanLeft(b.row,d);b.forEachCellOfColumn(t-1,(function(e,r,n){var i,s=o.getCell(n,t);s.spanLeft?i=v(s):e.spanAbove?(i=v(e)).spanLeft=!1:i={td:h(o.getTd(n,o.col))},r.splice(t,0,i)}))},b=this;for(u=l;u<=d;u++)m();break;case 6:for(var y=function(e){E.forEachCellOfRow(e,(function(t,r){var n=o.getCell(e+1,r);t.td&&t.td.rowSpan>1&&n.spanAbove&&(n.td=t.td)}))},E=this,C=s;C<=a;C++)y(C);var k=this.selection?this.selection.lastCell.y-this.selection.firstCell.y:0;this.cells.splice(s,k+1),0===this.cells.length&&(this.cells=null);break;case 5:for(var S=0,j=function(e){T.forEachCellOfColumn(e,(function(t,r,n){var i=o.getCell(n,e+1);t.td&&t.td.colSpan>1&&i.spanLeft&&(i.td=t.td);var s=o.selection?e-S:o.col;r.splice(s,1)})),S++},T=this,P=l;P<=d;P++)j(P);(0===(null===(t=this.cells)||void 0===t?void 0:t.length)||(null===(r=this.cells)||void 0===r?void 0:r.every((function(e){return 0===e.length}))))&&(this.cells=null);break;case 7:case 8:var _=7==e?-1:1;for(C=this.row+_;C>=0&&C<this.cells.length;C+=_){if((x=this.getCell(C,this.col)).td&&!x.spanAbove){var O=C<this.row?x:i,w=C<this.row?i:x;this.mergeCells(O,w);break}}break;case 9:case 10:var I=9==e?-1:1;for(P=this.col+I;P>=0&&P<this.cells[this.row].length;P+=I){if((x=this.getCell(this.row,P)).td&&!x.spanLeft){var A=P<this.col?x:i,D=P<this.col?i:x;this.mergeCells(A,D,!0);break}}break;case 11:for(P=l;P<=d;P++)for(C=s+1;C<=a;C++){var x=this.getCell(s,P),L=this.getCell(C,P);this.mergeCells(x,L)}for(P=l+1;P<=d;P++){x=this.getCell(s,l);var M=this.getCell(s,P);this.mergeCells(x,M,!0)}break;case 4:this.cells=null;break;case 13:if(i.td&&i.td.rowSpan>1)this.getCell(this.row+1,this.col).td=h(i.td);else{var R=n.map((function(e){return{td:e==i?h(e.td):null,spanAbove:e!=i,spanLeft:e.spanLeft}}));this.cells.splice(this.row+1,0,R)}break;case 12:i.td&&i.td.colSpan>1?this.getCell(this.row,this.col+1).td=h(i.td):this.forEachCellOfCurrentColumn((function(e,t){t.splice(o.col+1,0,{td:t==n?h(e.td):null,spanAbove:e.spanAbove,spanLeft:t!=n})}));break;case 14:this.table.style.marginLeft="auto",this.table.style.marginRight="auto";break;case 15:this.table.style.marginLeft="",this.table.style.marginRight="auto";break;case 16:this.table.style.marginLeft="auto",this.table.style.marginRight="";break;case 18:this.setAlignmentToSelectedCells(s,a,l,d,"center");break;case 17:this.setAlignmentToSelectedCells(s,a,l,d,"left");break;case 19:this.setAlignmentToSelectedCells(s,a,l,d,"right");break;case 20:this.setAlignmentToSelectedCells(s,a,l,d,"top",!0);break;case 21:this.setAlignmentToSelectedCells(s,a,l,d,"middle",!0);break;case 22:this.setAlignmentToSelectedCells(s,a,l,d,"bottom",!0)}}},e.prototype.setAlignmentToSelectedCells=function(e,t,r,n,i,s){for(var a,l,d=e;d<=t;d++)for(var c=r;c<=n;c++)if(this.cells){var p=this.cells[d][c].td;if(s&&p){null===(a=p.style)||void 0===a||a.setProperty("vertical-align",i);var f=(0,u.getTableCellMetadata)(p);(0,u.saveTableCellMetadata)(p,(0,o.__assign)((0,o.__assign)({},f),{vAlignOverride:!0}))}else p&&(null===(l=p.style)||void 0===l||l.setProperty("text-align",i))}},e.prototype.mergeCells=function(e,t,r){var o,n,i,s,a=r?(null===(o=e.td)||void 0===o?void 0:o.rowSpan)===(null===(n=t.td)||void 0===n?void 0:n.rowSpan)&&!e.spanLeft:(null===(i=e.td)||void 0===i?void 0:i.colSpan)===(null===(s=t.td)||void 0===s?void 0:s.colSpan)&&!e.spanAbove;e.td&&t.td&&a&&(this.mergeCellContents(e.td,t.td),t.td=null,r?t.spanLeft=!0:t.spanAbove=!0)},e.prototype.isEmptyCell=function(e){return 1===e.childElementCount&&"BR"===(0,i.default)(e.firstChild)},e.prototype.mergeCellContents=function(e,t){if(this.isEmptyCell(t))(0,s.default)(e,t,!1);else{var r=document.createElement("br");e.appendChild(r),(0,s.default)(e,t,!0)}},e.prototype.forEachCellOfCurrentColumn=function(e){this.forEachCellOfColumn(this.col,e)},e.prototype.getCellsWithBorder=function(e,t){for(var r=[],o=0;this.cells&&o<this.cells.length;o++)for(var n=0;n<this.cells[o].length;n++){var i=this.getCell(o,n);if(i.td){var s=(0,a.default)(i.td.getBoundingClientRect());if(s){var l=!1;if(t){if(s.right==e)l=!0,r.push(i.td);else if(l)break}else if(s.left==e)l=!0,r.push(i.td);else if(l)break}}}return r},e.prototype.forEachCellOfCurrentRow=function(e){this.forEachCellOfRow(this.row,e)},e.prototype.getCell=function(e,t){return this.cells&&this.cells[e]&&this.cells[e][t]||{}},e.prototype.getCurrentTd=function(){return this.getTd(this.row,this.col)},e.prototype.getTd=function(e,t){if(this.cells&&void 0!==e&&void 0!==t&&(e=Math.min(this.cells.length-1,e),t=this.cells[e]?Math.min(this.cells[e].length-1,t):t,!isNaN(e)&&!isNaN(t)))for(;e>=0&&t>=0;){var r=this.getCell(e,t);if(r.td)return r.td;if(r.spanLeft)t--;else{if(!r.spanAbove)break;e--}}return null},e.prototype.forEachCellOfColumn=function(e,t){if(void 0!==e)for(var r=0;this.cells&&r<this.cells.length;r++)t(this.getCell(r,e),this.cells[r],r)},e.prototype.forEachCellOfRow=function(e,t){if(void 0!==e)for(var r=0;this.cells&&r<this.cells[e].length;r++)t(this.getCell(e,r),r)},e.prototype.recalculateSpans=function(e,t){var r=this.getCell(e,t).td;r&&(r.colSpan=this.countSpanLeft(e,t),r.rowSpan=this.countSpanAbove(e,t),1==r.colSpan&&r.removeAttribute("colSpan"),1==r.rowSpan&&r.removeAttribute("rowSpan"))},e.prototype.countSpanLeft=function(e,t){for(var r=1,o=t+1;this.cells&&o<this.cells[e].length;o++){var n=this.getCell(e,o);if(n.td||!n.spanLeft)break;r++}return r},e.prototype.countSpanAbove=function(e,t){for(var r=1,o=e+1;this.cells&&o<this.cells.length;o++){var n=this.getCell(o,t);if(n.td||!n.spanAbove)break;r++}return r},e.prototype.normalizeEmptyTableCells=function(){for(var e=0,t=void 0;t=this.table.rows[e];e++)for(var r=0,o=void 0;o=t.cells[r];r++)o&&(o.innerHTML&&o.innerHTML.trim()||o.appendChild(document.createElement("br")))},e.prototype.normalizeTableCellSize=function(e){for(var t=0,r=void 0;r=this.table.rows[t];t++)r.removeAttribute("width"),r.style.setProperty("width",null),r.removeAttribute("height"),r.style.setProperty("height",null);for(t=0;this.cells&&t<this.cells.length;t++)for(var o=0;o<this.cells[t].length;o++){var n=this.cells[t][o];if(n){var i="number"==typeof e?function(t){return t/e}:e,s=n.width||0,a=n.height||0;m(n.td,(null==i?void 0:i(s))||s,(null==i?void 0:i(a))||a)}}},e.prototype.normalizeSize=function(e){this.normalizeEmptyTableCells(),this.normalizeTableCellSize(e);var t=this.table.getBoundingClientRect();m(this.table,(null==e?void 0:e(t.width))||t.width,(null==e?void 0:e(t.height))||t.height)},e}();function m(e,t,r){e&&(e.removeAttribute("width"),e.removeAttribute("height"),e.style.boxSizing="border-box",e.style.width=t+"px",e.style.height=r+"px")}function v(e){return{td:h(e.td),spanAbove:e.spanAbove,spanLeft:e.spanLeft}}function h(e){var t=e?e.cloneNode(!1):null;return(0,l.default)(t,"HTMLTableCellElement")&&(t.removeAttribute("id"),t.firstChild||t.appendChild(e.ownerDocument.createElement("br"))),t}t.default=g},"./packages/roosterjs-editor-dom/lib/table/applyTableFormat.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/table/applyTableFormat.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../utils/changeElementTag */"./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts"),n=r(/*! ../utils/setColor */"./packages/roosterjs-editor-dom/lib/utils/setColor.ts"),i=r(/*! ./tableCellInfo */"./packages/roosterjs-editor-dom/lib/table/tableCellInfo.ts"),s="transparent",a="TD",l="TH";function d(e){var t;return!!e.td&&!!(null===(t=(0,i.getTableCellMetadata)(e.td))||void 0===t?void 0:t.bgColorOverride)}function u(e){return"solid 1px "+(e||"transparent")}t.default=function(e,t,r,c){r&&(e.style.borderCollapse="collapse",function(e,t){e.forEach((function(r,o){r.forEach((function(n,a){n.td&&!function(e){var t;if(!e.td)return!1;return!!(null===(t=(0,i.getTableCellMetadata)(e.td))||void 0===t?void 0:t.borderOverride)}(n)&&function(e,t,r,o,n,i){switch(function(e,t){e.style.borderTop=u(t.topBorderColor),e.style.borderLeft=u(t.verticalBorderColor),e.style.borderRight=u(t.verticalBorderColor),e.style.borderBottom=u(t.bottomBorderColor)}(t,e),e.tableBorderFormat){case 0:return;case 1:n||(t.style.borderLeftColor=s),i||(t.style.borderRightColor=s);break;case 4:r||(t.style.borderTopColor=s),o||r||(t.style.borderBottomColor=s),n||(t.style.borderLeftColor=s),i||n||(t.style.borderRightColor=s),n&&r&&(t.style.borderRightColor=s);break;case 2:r&&(t.style.borderTopColor=s,t.style.borderRightColor=s,t.style.borderLeftColor=s),n&&(t.style.borderLeftColor=s),i&&(t.style.borderRightColor=s);break;case 3:n&&(t.style.borderLeftColor=s),i&&(t.style.borderRightColor=s);break;case 5:r&&(t.style.borderRightColor=s,t.style.borderLeftColor=s),n&&(t.style.borderBottomColor=s,t.style.borderTopColor=s),r&&n&&(t.style.borderLeftColor=e.verticalBorderColor||s,t.style.borderBottomColor=e.bottomBorderColor||s,t.style.borderTopColor=e.topBorderColor||s);break;case 6:r&&(t.style.borderRightColor=s,t.style.borderLeftColor=s),n&&(t.style.borderBottomColor=s,t.style.borderTopColor=s),r&&n&&(t.style.borderLeftColor=e.verticalBorderColor||s,t.style.borderBottomColor=e.bottomBorderColor||s,t.style.borderTopColor=e.topBorderColor||s),r||n||(t.style.borderLeftColor=s,t.style.borderBottomColor=s,t.style.borderTopColor=s,t.style.borderRightColor=s);break;case 7:r&&(t.style.borderLeftColor=s,t.style.borderTopColor=s,t.style.borderRightColor=s),n&&(t.style.borderLeftColor=s,t.style.borderTopColor=s,t.style.borderBottomColor=s),r||n||(t.style.borderLeftColor=s,t.style.borderBottomColor=s,t.style.borderTopColor=s,t.style.borderRightColor=s),r&&n&&(t.style.borderBottomColor=e.bottomBorderColor||s)}}(t,n.td,0===o,o===e.length-1,0===a,a===r.length-1)}))}))}(t,r),function(e,t,r){var o=function(e){return e%2==0?t.bgColorEven:t.bgColorOdd},a=t.hasBandedRows,l=t.hasBandedColumns,u=t.bgColorOdd,c=t.bgColorEven,p=!a&&u===c;e.forEach((function(e,l){e.forEach((function(e){if(e.td){if(!d(e))if(a){var u=o(l);(0,n.default)(e.td,u||s,!0,void 0,!0,r)}else p?(0,n.default)(e.td,t.bgColorOdd||s,!0,void 0,!0,r):(0,n.default)(e.td,s,!0,void 0,!0,r);t.verticalAlign&&!function(e){var t;if(!e.td)return!1;return!!(null===(t=(0,i.getTableCellMetadata)(e.td))||void 0===t?void 0:t.vAlignOverride)}(e)&&(e.td.style.verticalAlign=t.verticalAlign)}}))})),l&&e.forEach((function(e){e.forEach((function(e,t){var i=o(t);e.td&&i&&!d(e)&&(0,n.default)(e.td,i,!0,void 0,!0,r)}))}))}(t,r,c),function(e,t){if(!t.hasFirstColumn)return void e.forEach((function(e){e.forEach((function(e,t){e.td&&0===t&&(e.td=(0,o.default)(e.td,a),e.td.scope="")}))}));e.forEach((function(t,r){t.forEach((function(t,i){t.td&&0===i&&(0===r||d(t)||(t.td.style.borderTopColor=s,(0,n.default)(t.td,s,!0,void 0,!0)),r!==e.length-1&&0!==r&&(t.td.style.borderBottomColor=s),t.td=(0,o.default)(t.td,l),t.td.scope="col")}))}))}(t,r),function(e,t,r){var i,s;if(!t.hasHeaderRow)return void(null===(i=e[0])||void 0===i||i.forEach((function(e){e.td&&(e.td=(0,o.default)(e.td,a),e.td.scope="")})));null===(s=e[0])||void 0===s||s.forEach((function(e){e.td&&t.headerRowColor&&(d(e)||(0,n.default)(e.td,t.headerRowColor,!0,void 0,!0,r),e.td.style.borderRightColor=t.headerRowColor,e.td.style.borderLeftColor=t.headerRowColor,e.td.style.borderTopColor=t.headerRowColor,e.td=(0,o.default)(e.td,l),e.td.scope="row")}))}(t,r,c))}},"./packages/roosterjs-editor-dom/lib/table/cloneCellStyles.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/table/cloneCellStyles.ts ***!
  \********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ./tableCellInfo */"./packages/roosterjs-editor-dom/lib/table/tableCellInfo.ts");t.default=function(e,t){var r=t.getAttribute("style");if(r){e.setAttribute("style",r);var i=(0,n.getTableCellMetadata)(t);i&&(0,n.saveTableCellMetadata)(e,(0,o.__assign)({},i))}}},"./packages/roosterjs-editor-dom/lib/table/isWholeTableSelected.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/table/isWholeTableSelected.ts ***!
  \*************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t||!e.cells)return!1;var r=t.firstCell,o=t.lastCell,n=e.cells.length-1,i=e.cells[n];if(!i)return!1;var s=i.length-1,a=r.x,l=r.y,d=o.x,u=o.y;return 0==a&&0==l&&d==s&&u==n}},"./packages/roosterjs-editor-dom/lib/table/pasteTable.ts":
/*!***************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/table/pasteTable.ts ***!
  \***************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./cloneCellStyles */"./packages/roosterjs-editor-dom/lib/table/cloneCellStyles.ts"),n=r(/*! ../utils/moveChildNodes */"./packages/roosterjs-editor-dom/lib/utils/moveChildNodes.ts"),i=r(/*! ./VTable */"./packages/roosterjs-editor-dom/lib/table/VTable.ts");t.default=function(e,t,r,s){var a,l,d,u,c=new i.default(t),p=new i.default(e),f=p.row,g=p.col,m=null!==(l=f+(null===(a=c.cells)||void 0===a?void 0:a.length))&&void 0!==l?l:0,v=null!==(u=g+(null===(d=c.cells)||void 0===d?void 0:d[0].length))&&void 0!==u?u:0;for(p.row=p.cells.length-1;p.cells.length<m;)p.edit(1);for(p.col=p.cells[0].length-1;p.cells[0].length<v;)p.edit(3);for(var h=f;h<m;h++)for(var b=g;b<v;b++){var y=p.getCell(h,b),E=c.getTd(h-f,b-g);y.td&&E?((0,n.default)(y.td,E),(0,o.default)(y.td,E)):y.td=document.createElement("td")}p.writeBack()}},"./packages/roosterjs-editor-dom/lib/table/tableCellInfo.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/table/tableCellInfo.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveTableCellMetadata=t.getTableCellMetadata=void 0;var o=r(/*! ../metadata/definitionCreators */"./packages/roosterjs-editor-dom/lib/metadata/definitionCreators.ts"),n=r(/*! ../metadata/metadata */"./packages/roosterjs-editor-dom/lib/metadata/metadata.ts"),i=(0,o.createBooleanDefinition)(!0,void 0,!0),s=(0,o.createObjectDefinition)({bgColorOverride:i,vAlignOverride:i,borderOverride:i},!1,!0);t.getTableCellMetadata=function(e){return(0,n.getMetadata)(e,s)},t.saveTableCellMetadata=function(e,t){e&&t&&(0,n.setMetadata)(e,t,s)}},"./packages/roosterjs-editor-dom/lib/table/tableFormatInfo.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/table/tableFormatInfo.ts ***!
  \********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveTableInfo=t.getTableFormatInfo=void 0;var o=r(/*! ../metadata/metadata */"./packages/roosterjs-editor-dom/lib/metadata/metadata.ts"),n=r(/*! ../metadata/definitionCreators */"./packages/roosterjs-editor-dom/lib/metadata/definitionCreators.ts"),i=(0,n.createStringDefinition)(!1,void 0,!0),s=(0,n.createBooleanDefinition)(!1),a=(0,n.createObjectDefinition)({topBorderColor:i,bottomBorderColor:i,verticalBorderColor:i,hasHeaderRow:s,headerRowColor:i,hasFirstColumn:s,hasBandedColumns:s,hasBandedRows:s,bgColorEven:i,bgColorOdd:i,tableBorderFormat:(0,n.createNumberDefinition)(!1,void 0,0,8),keepCellShade:(0,n.createBooleanDefinition)(!0),verticalAlign:i},!1,!0);t.getTableFormatInfo=function(e){return(0,o.getMetadata)(e,a)},t.saveTableInfo=function(e,t){e&&t&&(0,o.setMetadata)(e,t,a)}},"./packages/roosterjs-editor-dom/lib/utils/Browser.ts":
/*!************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/Browser.ts ***!
  \************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Browser=t.getBrowserInfo=void 0;var r=/android/i;function o(e,t,o){var n,i=-1!=e.indexOf("rv:")&&-1!=e.indexOf("Trident"),s=-1!=e.indexOf("MSIE")||i,a=!1,l=!1,d=!1,u=!1,c=-1!=e.indexOf("WebKit"),p=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n=e||o||"")||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))&&(p=!0),s||(a=-1!=e.indexOf("Chrome"),l=-1!=e.indexOf("Firefox"),-1!=e.indexOf("Safari")&&(d=-1==e.indexOf("Chrome")&&-1==e.indexOf("Android")),(u=-1!=e.indexOf("Edge"))&&(c=a=l=!1)),{isMac:-1!=t.indexOf("Mac"),isWin:-1!=t.indexOf("Win")||-1!=t.indexOf("NT"),isWebKit:c,isIE:s,isIE11OrGreater:i,isSafari:d,isChrome:a,isFirefox:l,isEdge:u,isIEOrEdge:s||u,isAndroid:r.test(e),isMobileOrTablet:p}}t.getBrowserInfo=o,t.Browser="undefined"!=typeof window&&window?o(window.navigator.userAgent,window.navigator.appVersion,window.navigator.vendor):{}},"./packages/roosterjs-editor-dom/lib/utils/applyFormat.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/applyFormat.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./setColor */"./packages/roosterjs-editor-dom/lib/utils/setColor.ts");t.default=function(e,t,r,n){if(t){var i=e.style,s=t.fontFamily,a=t.fontSize,l=t.textColor,d=t.textColors,u=t.backgroundColor,c=t.backgroundColors,p=t.bold,f=t.italic,g=t.underline;s&&(i.fontFamily=s),a&&(i.fontSize=a),d?(0,o.default)(e,d,!1,r,!1,n):l&&(0,o.default)(e,l,!1,r,!1,n),c?(0,o.default)(e,c,!0,r,!1,n):u&&(0,o.default)(e,u,!0,r,!1,n),p&&(i.fontWeight="bold"),f&&(i.fontStyle="italic"),g&&(i.textDecoration="underline")}}},"./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ./getComputedStyles */"./packages/roosterjs-editor-dom/lib/utils/getComputedStyles.ts"),i=r(/*! ./getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),s=r(/*! ./moveChildNodes */"./packages/roosterjs-editor-dom/lib/utils/moveChildNodes.ts");t.default=function(e,t){var r;if(!e||!t)return null;var a=(0,i.default)(e);if(a==t.toUpperCase())return e;for(var l=e.ownerDocument.createElement(t),d=0;d<e.attributes.length;d++){var u=e.attributes[d];l.setAttribute(u.name,u.value)}return(0,s.default)(l,e),"P"!=a&&"P"!=(0,i.default)(l)||(r=(0,o.__read)((0,n.default)(e,["margin-top","margin-bottom"]),2),l.style.marginTop=r[0],l.style.marginBottom=r[1]),e.parentNode&&e.parentNode.replaceChild(l,e),l}},"./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/collapseNodes.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collapse=void 0;var o=r(/*! ./contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),n=r(/*! ./splitParentNode */"./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts"),i=r(/*! ../jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts");function s(e,t,r,i,s){for(;t.parentNode!=e&&!(0,o.default)(t.parentNode,r);){if(i&&t.previousSibling||!i&&t.nextSibling){if(!s)break;(0,n.default)(t,i)}if(!t.parentNode)break;t=t.parentNode}return t}t.default=function(e,t,r,n){var a;if(!(0,o.default)(e,t)||!(0,o.default)(e,r))return[];if(t=s(e,t,r,!0,n),r=s(e,r,t,!1,n),(0,o.default)(t,r,!0))return[t];if((0,o.default)(r,t))return[r];if(t.parentNode==r.parentNode){var l=t.parentNode?(0,i.default)(null===(a=t.parentNode)||void 0===a?void 0:a.childNodes):[],d=l.indexOf(t),u=l.indexOf(r);return l.slice(d,u+1)}return[t,r]},t.collapse=s},"./packages/roosterjs-editor-dom/lib/utils/contains.ts":
/*!*************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/contains.ts ***!
  \*************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=function(e,t,r){return!(!e||!t)&&(!(!r||e!=t)||((0,o.default)(t,"Range")&&(t=t&&t.commonAncestorContainer,r=!0),t&&3==t.nodeType&&(t=t.parentNode,r=!0),1!=e.nodeType&&11!=e.nodeType?!!r&&e==t:!(!r&&e==t)&&function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t==e)return!0;t=t.parentNode}return!1}(e,t)))}},"./packages/roosterjs-editor-dom/lib/utils/createElement.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/createElement.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.KnownCreateElementData=void 0;var n=r(/*! ../jsUtils/getObjectKeys */"./packages/roosterjs-editor-dom/lib/jsUtils/getObjectKeys.ts"),i=r(/*! ./safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts"),s=r(/*! ./Browser */"./packages/roosterjs-editor-dom/lib/utils/Browser.ts");t.KnownCreateElementData=((o={})[0]={tag:""},o[1]=s.Browser.isEdge?{tag:"div",children:[{tag:"span",children:[{tag:"br"}]}]}:{tag:"div",children:[{tag:"br"}]},o[2]={tag:"blockquote",style:"margin-top:0;margin-bottom:0"},o[3]={tag:"div",style:"width: 600px; height: 1px; overflow: hidden; position: fixed; top: 0; left; 0; -webkit-user-select: text",attributes:{contenteditable:"true"}},o[4]={tag:"li",style:"display:block"},o[5]={tag:"div",style:"position: fixed; width: 0; height: 0"},o[6]={tag:"span",style:"max-width:100%;position:relative",children:[{tag:"div",style:"width:100%;height:100%;position:relative;overflow:hidden"}]},o[7]={tag:"div",style:"position: fixed; cursor: row-resize; user-select: none"},o[8]={tag:"div",style:"position: fixed; cursor: col-resize; user-select: none"},o[9]={tag:"div",style:"position: fixed; cursor: nw-resize; user-select: none; border: 1px solid #808080"},o[10]={tag:"div",style:"position: fixed; cursor: ne-resize; user-select: none; border: 1px solid #808080"},o[11]={tag:"div",style:"position: fixed; cursor: all-scroll; user-select: none; border: 1px solid #808080"},o[12]={tag:"div",children:[{tag:"span",children:[{tag:"br"}]}]},o),t.default=function e(r,o){if("number"==typeof r&&(r=t.KnownCreateElementData[r]),!r||!r.tag)return null;var s=r.tag,a=r.namespace,l=r.className,d=r.style,u=r.dataset,c=r.attributes,p=r.children,f=a?o.createElementNS(a,s):o.createElement(s);return d&&f.setAttribute("style",d),l&&(f.className=l),u&&(0,i.default)(f,"HTMLElement")&&(0,n.default)(u).forEach((function(e){f.dataset[e]=u[e]})),c&&(0,n.default)(c).forEach((function(e){f.setAttribute(e,c[e])})),p&&p.forEach((function(t){if("string"==typeof t)f.appendChild(o.createTextNode(t));else if(t){var r=e(t,o);r&&f.appendChild(r)}})),f}},"./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts ***!
  \*******************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),n=r(/*! ./matchesSelector */"./packages/roosterjs-editor-dom/lib/utils/matchesSelector.ts");t.default=function(e,t,r){var i=(e=e?1==e.nodeType?e:e.parentNode:null)&&1==e.nodeType?e:null;if(i&&r)if(i.closest)i=i.closest(r);else for(;i&&i!=t&&!(0,n.default)(i,r);)i=i.parentElement;return!t||(0,o.default)(t,i)?i:null}},"./packages/roosterjs-editor-dom/lib/utils/fromHtml.ts":
/*!*************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/fromHtml.ts ***!
  \*************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts");t.default=function(e,t){var r=t.createElement("DIV");return r.innerHTML=e,(0,o.default)(r.childNodes)}},"./packages/roosterjs-editor-dom/lib/utils/getComputedStyles.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/getComputedStyles.ts ***!
  \**********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getComputedStyle=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ./findClosestElementAncestor */"./packages/roosterjs-editor-dom/lib/utils/findClosestElementAncestor.ts");function i(e,t){var r,i;void 0===t&&(t=["font-family","font-size","color","background-color"]);var a=(0,n.default)(e),l=[];if(t=Array.isArray(t)?t:[t],a){var d=(a.ownerDocument.defaultView||window).getComputedStyle(a);if(d)try{for(var u=(0,o.__values)(t),c=u.next();!c.done;c=u.next()){var p=c.value,f=d.getPropertyValue(p)||"";f="font-family"!=p?f.toLowerCase():f,f="font-size"==p?s(f):f,l.push(f)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return l}function s(e){return e&&e.indexOf("px")==e.length-2?Math.round(75*parseFloat(e)+.05)/100+"pt":e}t.default=i,t.getComputedStyle=function(e,t){return i(e,t)[0]||""}},"./packages/roosterjs-editor-dom/lib/utils/getInnerHTML.ts":
/*!*****************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/getInnerHTML.ts ***!
  \*****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=function(e){if((0,o.default)(e,"HTMLElement"))return e.innerHTML;if(e){var t=e.ownerDocument.createElement("span");return t.appendChild(e.cloneNode(!0)),t.innerHTML}return""}},"./packages/roosterjs-editor-dom/lib/utils/getIntersectedRect.ts":
/*!***********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/getIntersectedRect.ts ***!
  \***********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ./normalizeRect */"./packages/roosterjs-editor-dom/lib/utils/normalizeRect.ts");t.default=function(e,t){void 0===t&&(t=[]);var r=e.map((function(e){return(0,n.default)(e.getBoundingClientRect())})).concat(t).filter((function(e){return!!e})),i={top:Math.max.apply(Math,(0,o.__spreadArray)([],(0,o.__read)(r.map((function(e){return e.top}))),!1)),bottom:Math.min.apply(Math,(0,o.__spreadArray)([],(0,o.__read)(r.map((function(e){return e.bottom}))),!1)),left:Math.max.apply(Math,(0,o.__spreadArray)([],(0,o.__read)(r.map((function(e){return e.left}))),!1)),right:Math.min.apply(Math,(0,o.__spreadArray)([],(0,o.__read)(r.map((function(e){return e.right}))),!1))};return i.top<i.bottom&&i.left<i.right?i:null}},"./packages/roosterjs-editor-dom/lib/utils/getLeafNode.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/getLeafNode.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastLeafNode=t.getFirstLeafNode=void 0;var o=r(/*! ./shouldSkipNode */"./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts"),n=r(/*! ./getLeafSibling */"./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts");function i(e,t){for(var r=function(e){return t?e.firstChild:e.lastChild},i=r(e);i&&r(i);)i=r(i);return i&&(0,o.default)(i)&&(i=(0,n.getLeafSibling)(e,i,t)),i}t.getFirstLeafNode=function(e){return i(e,!0)},t.getLastLeafNode=function(e){return i(e,!1)}},"./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts":
/*!*******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/getLeafSibling.ts ***!
  \*******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPreviousLeafSibling=t.getNextLeafSibling=t.getLeafSibling=void 0;var o=r(/*! ./contains */"./packages/roosterjs-editor-dom/lib/utils/contains.ts"),n=r(/*! ./getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),i=r(/*! ./shouldSkipNode */"./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts");function s(e,t,r,s,a){var l=null,d=r?function(e){return(null==e?void 0:e.nextSibling)||null}:function(e){return(null==e?void 0:e.previousSibling)||null},u=r?function(e){return e.firstChild}:function(e){return e.lastChild};if((0,o.default)(e,t))for(var c=t,p=!0;p;){var f=(null==c?void 0:c.parentNode)||null;for(c=d(c);!c&&f!=e;)c=d(f),f=(null==f?void 0:f.parentNode)||null;for(;c&&(!s||s.indexOf((0,n.default)(c))<0)&&u(c);)c=u(c);if(!(p=!!c&&(0,i.default)(c,a))){l=c;break}}return l}t.getLeafSibling=s,t.getNextLeafSibling=function(e,t,r){return s(e,t,!0,r)},t.getPreviousLeafSibling=function(e,t,r){return s(e,t,!1,r)}},"./packages/roosterjs-editor-dom/lib/utils/getPendableFormatState.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/getPendableFormatState.ts ***!
  \***************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PendableFormatCommandMap=void 0;var o=r(/*! ../jsUtils/getObjectKeys */"./packages/roosterjs-editor-dom/lib/jsUtils/getObjectKeys.ts");t.PendableFormatCommandMap={isBold:"bold",isItalic:"italic",isUnderline:"underline",isStrikeThrough:"strikeThrough",isSubscript:"subscript",isSuperscript:"superscript"},t.default=function(e){return(0,o.default)(t.PendableFormatCommandMap).reduce((function(r,o){return r[o]=e.queryCommandState(t.PendableFormatCommandMap[o]),r}),{})}},"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts":
/*!*****************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts ***!
  \*****************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&1==e.nodeType?e.tagName.toUpperCase():""}},"./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts":
/*!*******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/isBlockElement.ts ***!
  \*******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),n="ADDRESS,ARTICLE,ASIDE,BLOCKQUOTE,CANVAS,DD,DIV,DL,DT,FIELDSET,FIGCAPTION,FIGURE,FOOTER,FORM,H1,H2,H3,H4,H5,H6,HEADER,HR,LI,MAIN,NAV,NOSCRIPT,OL,OUTPUT,P,PRE,SECTION,TABLE,TD,TH,TFOOT,UL,VIDEO".split(","),i=["block","list-item","table-cell"];t.default=function(e){var t=(0,o.default)(e);return!(!t||!(i.indexOf(e.style.display)>=0||n.indexOf(t)>=0))}},"./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts ***!
  \****************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return!(!e||!t||4!=(4&t.compareDocumentPosition(e)))}},"./packages/roosterjs-editor-dom/lib/utils/isNodeEmpty.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/isNodeEmpty.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),n=["IMG"],i=["TABLE","IMG","LI"].join(","),s=/\u200b/g;function a(e,t){return e=e.replace(s,""),t?e.trim():e}t.default=function(e,t,r){if(!e)return!1;if(3==e.nodeType)return""==a(e.nodeValue||"",t);if(1==e.nodeType){var s=e,l=a(s.textContent||"",t),d=r?i+",BR":i;if(""!=l||n.indexOf((0,o.default)(s))>=0||s.querySelectorAll(d)[0])return!1}return!0}},"./packages/roosterjs-editor-dom/lib/utils/isVoidHtmlElement.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/isVoidHtmlElement.ts ***!
  \**********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),n="AREA,BASE,BR,COL,COMMAND,EMBED,HR,IMG,INPUT,KEYGEN,LINK,META,PARAM,SOURCE,TRACK,WBR".split(",");t.default=function(e){return!!e&&n.indexOf((0,o.default)(e))>=0}},"./packages/roosterjs-editor-dom/lib/utils/matchLink.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/matchLink.ts ***!
  \**************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../jsUtils/getObjectKeys */"./packages/roosterjs-editor-dom/lib/jsUtils/getObjectKeys.ts"),i=/^[^?]+%[^0-9a-f]+|^[^?]+%[0-9a-f][^0-9a-f]+|^[^?]+%00|^[^?]+%$|^https?:\/\/[^?\/]+@|^www\.[^?\/]+@/i,s="[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",a="(?:"+s+"\\.)*"+s+"(?:\\:[0-9]+)?"+"(?:[\\/\\?]\\S*)?",l={http:{match:new RegExp("^(?:microsoft-edge:)?http:\\/\\/"+a+"|www\\."+a,"i"),except:i,normalizeUrl:function(e){return new RegExp("^(?:microsoft-edge:)?http:\\/\\/","i").test(e)?e:"http://"+e}},https:{match:new RegExp("^(?:microsoft-edge:)?https:\\/\\/"+a,"i"),except:i},mailto:{match:new RegExp("^mailto:\\S+@\\S+\\.\\S+","i")},notes:{match:new RegExp("^notes:\\/\\/\\S+","i")},file:{match:new RegExp("^file:\\/\\/\\/?\\S+","i")},unc:{match:new RegExp("^\\\\\\\\\\S+","i")},ftp:{match:new RegExp("^ftp:\\/\\/"+a+"|ftp\\."+a,"i"),normalizeUrl:function(e){return new RegExp("^ftp:\\/\\/","i").test(e)?e:"ftp://"+e}},news:{match:new RegExp("^news:(\\/\\/)?"+a,"i")},telnet:{match:new RegExp("^telnet:(\\/\\/)?"+a,"i")},gopher:{match:new RegExp("^gopher:\\/\\/"+a,"i")},wais:{match:new RegExp("^wais:(\\/\\/)?"+a,"i")}};t.default=function(e){var t,r;if(e)try{for(var i=(0,o.__values)((0,n.default)(l)),s=i.next();!s.done;s=i.next()){var a=s.value,d=l[a],u=e.match(d.match);if(u&&u[0]==e&&(!d.except||!d.except.test(e)))return{scheme:a,originalUrl:e,normalizedUrl:d.normalizeUrl?d.normalizeUrl(e):e}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null}},"./packages/roosterjs-editor-dom/lib/utils/matchesSelector.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/matchesSelector.ts ***!
  \********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=function(e,t){return(0,o.default)(e,"HTMLElement")&&(e.matches||e.msMatchesSelector).call(e,t)}},"./packages/roosterjs-editor-dom/lib/utils/moveChildNodes.ts":
/*!*******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/moveChildNodes.ts ***!
  \*******************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(e){for(;!r&&e.firstChild;)e.removeChild(e.firstChild);for(;null==t?void 0:t.firstChild;)e.appendChild(t.firstChild)}}},"./packages/roosterjs-editor-dom/lib/utils/normalizeRect.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/normalizeRect.ts ***!
  \******************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e||{left:0,right:0,top:0,bottom:0},r=t.left,o=t.right,n=t.top,i=t.bottom;return 0===r&&0===o&&0===n&&0===i?null:{left:Math.round(r),right:Math.round(o),top:Math.round(n),bottom:Math.round(i)}}},"./packages/roosterjs-editor-dom/lib/utils/parseColor.ts":
/*!***************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/parseColor.ts ***!
  \***************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,o=/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,n=/^rgb\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*\)$/,i=/^rgba\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*\)$/;t.default=function(e){var t;return(t=(e=(e||"").trim()).match(r))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:(t=e.match(o))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=e.match(n)||e.match(i))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:null}},"./packages/roosterjs-editor-dom/lib/utils/queryElements.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/queryElements.ts ***!
  \******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../jsUtils/toArray */"./packages/roosterjs-editor-dom/lib/jsUtils/toArray.ts");function n(e,t){return t.some((function(t){return 0==t?0==e:(e&t)==t}))}t.default=function(e,t,r,i,s){if(void 0===i&&(i=0),!e||!t)return[];var a=(0,o.default)(e.querySelectorAll(t));if(0!=i&&s){var l=s.startOffset,d=s.endOffset,u=s.startContainer,c=s.endContainer;if(1==u.nodeType&&u.firstChild){var p=u.childNodes[l];u=p||u.lastChild}c=1==c.nodeType&&c.firstChild&&d>0?c.childNodes[d-1]:c,a=a.filter((function(e){return function(e,t,r,o){var i=e.compareDocumentPosition(t),s=e.compareDocumentPosition(r),a=[0,8];o||a.push(16);return n(i,a)||n(s,a)||n(i,[2])&&n(s,[4])&&!n(s,[16])}(e,u,c,2==i)}))}return r&&a.forEach(r),a}},"./packages/roosterjs-editor-dom/lib/utils/readFile.ts":
/*!*************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/readFile.ts ***!
  \*************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(){t(null)},r.readAsDataURL(e)}}},"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts":
/*!*******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts ***!
  \*******************************************************************/(e,t)=>{"use strict";function r(e){var t=e&&(e.ownerDocument||("[object HTMLDocument]"==Object.prototype.toString.apply(e)?e:null));return t&&(t.defaultView||window)}Object.defineProperty(t,"__esModule",{value:!0}),t.getTargetWindow=void 0,t.getTargetWindow=r,t.default=function(e,t){var o;if("Range"==t)return"[object Range]"==Object.prototype.toString.apply(e)&&!!(null===(o=e)||void 0===o?void 0:o.commonAncestorContainer);var n=r(e),i=n&&n[t],s=window,a=s&&s[t];return a&&e instanceof a||i&&e instanceof i}},"./packages/roosterjs-editor-dom/lib/utils/setColor.ts":
/*!*************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/setColor.ts ***!
  \*************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(/*! ./parseColor */"./packages/roosterjs-editor-dom/lib/utils/parseColor.ts"),i="#ffffff",s="#333333",a="#000000",l="transparent";!function(e){e[e.BRIGHT=0]="BRIGHT",e[e.DARK=1]="DARK",e[e.NONE=2]="NONE"}(o||(o={}));var d=20,u=80;function c(e,t,r,o,p,f){var g="string"==typeof t?t.trim():"",m="string"==typeof t?null:t,v=r?"background-color":"color";if(g||m){if(f){var h=f.registerColor((null==m?void 0:m.lightModeColor)||g,!!o,null==m?void 0:m.darkModeColor);e.style.setProperty(v,h)}r&&p&&function(e,t,r,o){if(!t||t===l)return;switch(function(e){var t=function(e){var t=(0,n.default)(e);if(t){var r=t[0]/255,o=t[1]/255,i=t[2]/255;return 50*(Math.max(r,o,i)+Math.min(r,o,i))}return 255}(e);if(t<d)return 1;if(t>u)return 0;return 2}(t)){case 1:c(e,{lightModeColor:i,darkModeColor:s},!1,r,!1,o);break;case 0:c(e,{lightModeColor:a,darkModeColor:i},!1,r,!1,o)}}(e,(null==m?void 0:m.lightModeColor)||g,o,f)}}t.default=c},"./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts":
/*!*******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/shouldSkipNode.ts ***!
  \*******************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./getTagOfNode */"./packages/roosterjs-editor-dom/lib/utils/getTagOfNode.ts"),n=r(/*! ./getComputedStyles */"./packages/roosterjs-editor-dom/lib/utils/getComputedStyles.ts"),i=/^[\r\n]+$/g,s=/[\t\r\n\u0020\u200B]/gm;t.default=function e(t,r){if(3==t.nodeType)return!(t.nodeValue&&""!=t.textContent&&!i.test(t.nodeValue))||!(!r||""!=t.nodeValue.replace(s,""));if(1==t.nodeType){if("none"==(0,n.getComputedStyle)(t,"display"))return!0;var a=(0,o.default)(t);if("DIV"==a||"SPAN"==a){for(var l=t.firstChild;l;l=l.nextSibling)if(!e(l,r))return!1;return!0}return!1}return!0}},"./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/splitParentNode.ts ***!
  \********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitBalancedNodeRange=void 0;var o=r(/*! ./isNodeAfter */"./packages/roosterjs-editor-dom/lib/utils/isNodeAfter.ts");function n(e,t){var r;if(!e||!e.parentNode)return null;var o=e.parentNode,n=o.cloneNode(!1);if(n.removeAttribute("id"),t)for(;o.firstChild&&o.firstChild!=e;)n.appendChild(o.firstChild);else for(;e.nextSibling;)n.appendChild(e.nextSibling);return n.firstChild&&""!=n.innerHTML?null===(r=o.parentNode)||void 0===r||r.insertBefore(n,t?o:o.nextSibling):n=null,n}t.default=n,t.splitBalancedNodeRange=function(e){var t=Array.isArray(e)?e[0]:e,r=Array.isArray(e)?e[e.length-1]:e,i=t&&r&&t.parentNode==r.parentNode?t.parentNode:null;if(i){if((0,o.default)(t,r)){var s=r;r=t,t=s}n(t,!0),n(r,!1)}return i}},"./packages/roosterjs-editor-dom/lib/utils/splitTextNode.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/splitTextNode.ts ***!
  \******************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var o,n,i,s=(null===(o=e.nodeValue)||void 0===o?void 0:o.substring(0,t))||"",a=(null===(n=e.nodeValue)||void 0===n?void 0:n.substring(t))||"",l=e.ownerDocument.createTextNode(r?s:a);return e.nodeValue=r?a:s,null===(i=e.parentNode)||void 0===i||i.insertBefore(l,r?e:e.nextSibling),l}},"./packages/roosterjs-editor-dom/lib/utils/unwrap.ts":
/*!***********************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/unwrap.ts ***!
  \***********************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e?e.parentNode:null;if(!t)return null;for(;e.firstChild;)t.insertBefore(e.firstChild,e);return t.removeChild(e),t}},"./packages/roosterjs-editor-dom/lib/utils/wrap.ts":
/*!*********************************************************!*\
  !*** ./packages/roosterjs-editor-dom/lib/utils/wrap.ts ***!
  \*********************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ./createElement */"./packages/roosterjs-editor-dom/lib/utils/createElement.ts"),i=r(/*! ./fromHtml */"./packages/roosterjs-editor-dom/lib/utils/fromHtml.ts"),s=r(/*! ./safeInstanceOf */"./packages/roosterjs-editor-dom/lib/utils/safeInstanceOf.ts");t.default=function(e,t){var r,a;if(0==(e=e?(0,s.default)(e,"Node")?[e]:e:[]).length||!e[0]||!e[0].ownerDocument)return null;if(t||(t="div"),!(0,s.default)(t,"HTMLElement")){var l=e[0].ownerDocument;t="string"==typeof t?/^\w+$/.test(t)?l.createElement(t):(0,i.default)(t,l)[0]:(0,n.default)(t,l)}var d=e[0].parentNode;d&&d.insertBefore(t,e[0]);try{for(var u=(0,o.__values)(e),c=u.next();!c.done;c=u.next()){var p=c.value;t.appendChild(p)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return t}},"./packages/roosterjs-editor-plugins/lib/Announce.ts":
/*!***********************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/Announce.ts ***!
  \***********************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/Announce/index */"./packages/roosterjs-editor-plugins/lib/plugins/Announce/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/AutoFormat.ts":
/*!*************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/AutoFormat.ts ***!
  \*************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/AutoFormat/index */"./packages/roosterjs-editor-plugins/lib/plugins/AutoFormat/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/ContentEdit.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/ContentEdit.ts ***!
  \**************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/ContentEdit/index */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/ContextMenu.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/ContextMenu.ts ***!
  \**************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/ContextMenu/index */"./packages/roosterjs-editor-plugins/lib/plugins/ContextMenu/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/CustomReplace.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/CustomReplace.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/CustomReplace/index */"./packages/roosterjs-editor-plugins/lib/plugins/CustomReplace/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/CutPasteListChain.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/CutPasteListChain.ts ***!
  \********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/CutPasteListChain/index */"./packages/roosterjs-editor-plugins/lib/plugins/CutPasteListChain/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/HyperLink.ts":
/*!************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/HyperLink.ts ***!
  \************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/HyperLink/index */"./packages/roosterjs-editor-plugins/lib/plugins/HyperLink/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/ImageEdit.ts":
/*!************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/ImageEdit.ts ***!
  \************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/ImageEdit/index */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/ImageResize.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/ImageResize.ts ***!
  \**************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/ImageResize/index */"./packages/roosterjs-editor-plugins/lib/plugins/ImageResize/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/Paste.ts":
/*!********************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/Paste.ts ***!
  \********************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/Paste/index */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/Picker.ts":
/*!*********************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/Picker.ts ***!
  \*********************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/Picker/index */"./packages/roosterjs-editor-plugins/lib/plugins/Picker/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/TableCellSelection.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/TableCellSelection.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/TableCellSelection/index */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/TableResize.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/TableResize.ts ***!
  \**************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/TableResize/index */"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/Watermark.ts":
/*!************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/Watermark.ts ***!
  \************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! ./plugins/Watermark/index */"./packages/roosterjs-editor-plugins/lib/plugins/Watermark/index.ts"),t)},"./packages/roosterjs-editor-plugins/lib/index.ts":
/*!********************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/index.ts ***!
  \********************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs");(0,o.__exportStar)(r(/*! ./ContentEdit */"./packages/roosterjs-editor-plugins/lib/ContentEdit.ts"),t),(0,o.__exportStar)(r(/*! ./ContextMenu */"./packages/roosterjs-editor-plugins/lib/ContextMenu.ts"),t),(0,o.__exportStar)(r(/*! ./CustomReplace */"./packages/roosterjs-editor-plugins/lib/CustomReplace.ts"),t),(0,o.__exportStar)(r(/*! ./CutPasteListChain */"./packages/roosterjs-editor-plugins/lib/CutPasteListChain.ts"),t),(0,o.__exportStar)(r(/*! ./HyperLink */"./packages/roosterjs-editor-plugins/lib/HyperLink.ts"),t),(0,o.__exportStar)(r(/*! ./ImageEdit */"./packages/roosterjs-editor-plugins/lib/ImageEdit.ts"),t),(0,o.__exportStar)(r(/*! ./ImageResize */"./packages/roosterjs-editor-plugins/lib/ImageResize.ts"),t),(0,o.__exportStar)(r(/*! ./Paste */"./packages/roosterjs-editor-plugins/lib/Paste.ts"),t),(0,o.__exportStar)(r(/*! ./Picker */"./packages/roosterjs-editor-plugins/lib/Picker.ts"),t),(0,o.__exportStar)(r(/*! ./TableResize */"./packages/roosterjs-editor-plugins/lib/TableResize.ts"),t),(0,o.__exportStar)(r(/*! ./Watermark */"./packages/roosterjs-editor-plugins/lib/Watermark.ts"),t),(0,o.__exportStar)(r(/*! ./TableCellSelection */"./packages/roosterjs-editor-plugins/lib/TableCellSelection.ts"),t),(0,o.__exportStar)(r(/*! ./AutoFormat */"./packages/roosterjs-editor-plugins/lib/AutoFormat.ts"),t),(0,o.__exportStar)(r(/*! ./Announce */"./packages/roosterjs-editor-plugins/lib/Announce.ts"),t)},"./packages/roosterjs-editor-plugins/lib/pluginUtils/DragAndDropHelper.ts":
/*!********************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/pluginUtils/DragAndDropHelper.ts ***!
  \********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i={MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEUP:"mouseup",getPageXY:a},s={MOUSEDOWN:"touchstart",MOUSEMOVE:"touchmove",MOUSEUP:"touchend",getPageXY:l};function a(e){return[e.pageX,e.pageY]}function l(e){var t=0,r=0;if(e.targetTouches&&e.targetTouches.length>0){var o=e.targetTouches[0];t=o.pageX,r=o.pageY}return[t,r]}var d=function(){function e(e,t,r,a,l,d){var u=this;this.trigger=e,this.context=t,this.onSubmit=r,this.handler=a,this.zoomScale=l,this.initX=0,this.initY=0,this.initValue=void 0,this.onMouseDown=function(e){var t,r,n;e.preventDefault(),e.stopPropagation(),u.addDocumentEvents(),t=(0,o.__read)(u.dndMouse.getPageXY(e),2),u.initX=t[0],u.initY=t[1],u.initValue=null===(n=(r=u.handler).onDragStart)||void 0===n?void 0:n.call(r,u.context,e)},this.onMouseMove=function(e){var t,r,n;e.preventDefault();var i=(0,o.__read)(u.dndMouse.getPageXY(e),2),s=i[0],a=i[1],l=(s-u.initX)/u.zoomScale,d=(a-u.initY)/u.zoomScale;u.initValue&&(null===(r=(t=u.handler).onDragging)||void 0===r?void 0:r.call(t,u.context,e,u.initValue,l,d))&&(null===(n=u.onSubmit)||void 0===n||n.call(u,u.context,u.trigger))},this.onMouseUp=function(e){var t,r,o;e.preventDefault(),u.removeDocumentEvents(),(null===(r=(t=u.handler).onDragEnd)||void 0===r?void 0:r.call(t,u.context,e,u.initValue))&&(null===(o=u.onSubmit)||void 0===o||o.call(u,u.context,u.trigger))},this.dndMouse=d||n.Browser.isMobileOrTablet?s:i,e.addEventListener(this.dndMouse.MOUSEDOWN,this.onMouseDown)}return e.prototype.dispose=function(){this.trigger.removeEventListener(this.dndMouse.MOUSEDOWN,this.onMouseDown),this.removeDocumentEvents()},Object.defineProperty(e.prototype,"mouseType",{get:function(){return this.dndMouse==s?"touch":"mouse"},enumerable:!1,configurable:!0}),e.prototype.addDocumentEvents=function(){var e=this.trigger.ownerDocument;e.addEventListener(this.dndMouse.MOUSEMOVE,this.onMouseMove,!0),e.addEventListener(this.dndMouse.MOUSEUP,this.onMouseUp,!0)},e.prototype.removeDocumentEvents=function(){var e=this.trigger.ownerDocument;e.removeEventListener(this.dndMouse.MOUSEMOVE,this.onMouseMove,!0),e.removeEventListener(this.dndMouse.MOUSEUP,this.onMouseUp,!0)},e}();t.default=d},"./packages/roosterjs-editor-plugins/lib/pluginUtils/announceData/getAnnounceDataForList.ts":
/*!**************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/pluginUtils/announceData/getAnnounceDataForList.ts ***!
  \**************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t){if((0,o.safeInstanceOf)(t,"HTMLLIElement")){if(t&&(0,o.safeInstanceOf)(e,"HTMLOListElement")){var r=new o.VList(e).getListItemIndex(t),n=-1==r?"":r.toString();switch(e.style.listStyleType){case"lower-alpha":case"lower-latin":case"upper-alpha":case"upper-latin":n=(0,o.convertDecimalsToAlpha)(r-1);break;case"lower-roman":case"upper-roman":n=(0,o.convertDecimalsToRoman)(r)}return{defaultStrings:1,formatStrings:[n]}}return(0,o.safeInstanceOf)(e,"HTMLUListElement")?{defaultStrings:2}:void 0}}},"./packages/roosterjs-editor-plugins/lib/plugins/Announce/AnnouncePlugin.ts":
/*!**********************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Announce/AnnouncePlugin.ts ***!
  \**********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./features/AnnounceFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/Announce/features/AnnounceFeatures.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i=function(){function e(e,t,r){void 0===t&&(t=[]),this.stringsMapOrGetter=e,this.lastFocusedElement=null,this.features=(0,n.getObjectKeys)(o.AnnounceFeatures).map((function(e){if(-1==t.indexOf(e))return o.AnnounceFeatures[e]})).filter((function(e){return!!e})).concat(r||[])}return e.prototype.getName=function(){return"Announce"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){var e,t;for(null===(t=null===(e=this.ariaLiveElement)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this.ariaLiveElement),this.ariaLiveElement=void 0,this.stringsMapOrGetter=void 0,this.lastFocusedElement=null;this.features.length>0;)this.features.pop();this.editor=void 0},e.prototype.onPluginEvent=function(e){var t;if(this.editor&&7==e.eventType&&(null===(t=e.additionalData)||void 0===t?void 0:t.getAnnounceData)){var r=e.additionalData.getAnnounceData();r&&this.announce(r,this.editor)}0==e.eventType&&this.editor&&this.handleFeatures(e,this.editor)},e.prototype.handleFeatures=function(e,t){var r=this;t.runAsync((function(t){r.features.filter((function(t){return t.keys.indexOf(e.rawEvent.which)>-1})).some((function(e){var o=e.shouldHandle(t,r.lastFocusedElement);return o&&r.announce(o,t),!!o})),r.lastFocusedElement=t.getElementAtCursor()}))},e.prototype.announce=function(e,t){var r,o,i,s=e.text,a=e.defaultStrings,l=e.formatStrings,d=void 0===l?[]:l,u=function(e,t){if(null==e)return e;return t.forEach((function(t,r){e=null==e?void 0:e.replace("{"+r+"}",t)})),e}(this.getString(a)||s,d);u&&(this.ariaLiveElement&&u!=(null===(r=this.ariaLiveElement)||void 0===r?void 0:r.textContent)||(null===(i=null===(o=this.ariaLiveElement)||void 0===o?void 0:o.parentElement)||void 0===i||i.removeChild(this.ariaLiveElement),this.ariaLiveElement=function(e){var t=(0,n.createElement)({tag:"div",style:"clip: rect(0px, 0px, 0px, 0px); clip-path: inset(100%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px;",attributes:{"aria-live":"assertive"}},e);return e.body.appendChild(t),t}(t.getDocument())),this.ariaLiveElement&&(this.ariaLiveElement.textContent=u))},e.prototype.getString=function(e){if(null!=this.stringsMapOrGetter&&null!=e)return"function"==typeof this.stringsMapOrGetter?this.stringsMapOrGetter(e):this.stringsMapOrGetter.get(e)},e.prototype.getAriaLiveElement=function(){return this.ariaLiveElement},e}();t.default=i},"./packages/roosterjs-editor-plugins/lib/plugins/Announce/features/AnnounceFeatures.ts":
/*!*********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Announce/features/AnnounceFeatures.ts ***!
  \*********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnounceFeatures=void 0;var o=r(/*! ./announceNewListItem */"./packages/roosterjs-editor-plugins/lib/plugins/Announce/features/announceNewListItem.ts"),n=r(/*! ./announceWarningOnLastTableCell */"./packages/roosterjs-editor-plugins/lib/plugins/Announce/features/announceWarningOnLastTableCell.ts");t.AnnounceFeatures={announceNewListItem:o.default,announceWarningOnLastTableCell:n.default}},"./packages/roosterjs-editor-plugins/lib/plugins/Announce/features/announceNewListItem.ts":
/*!************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Announce/features/announceNewListItem.ts ***!
  \************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../../../pluginUtils/announceData/getAnnounceDataForList */"./packages/roosterjs-editor-plugins/lib/pluginUtils/announceData/getAnnounceDataForList.ts"),n={keys:[13],shouldHandle:function(e){var t=e.getElementAtCursor("LI"),r=e.getElementAtCursor("OL,UL");return!(!r||!t)&&(0,o.default)(r,t)||!1}};t.default=n},"./packages/roosterjs-editor-plugins/lib/plugins/Announce/features/announceWarningOnLastTableCell.ts":
/*!***********************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Announce/features/announceWarningOnLastTableCell.ts ***!
  \***********************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n="td,th",i={shouldHandle:function(e,t){var r=e.getSelectionRangeEx();return 0==(null==r?void 0:r.type)&&r.areAllCollapsed&&1===r.ranges.length&&!(0,o.contains)(t,r.ranges[0].startContainer,!0)&&function(){var t=e.getElementAtCursor("table");if((0,o.safeInstanceOf)(t,"HTMLTableElement")){var r=t.querySelectorAll(n);return e.getElementAtCursor(n)==r.item(r.length-1)}return!1}()&&{defaultStrings:3}},keys:[9,38,40,37,39]};t.default=i},"./packages/roosterjs-editor-plugins/lib/plugins/Announce/index.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Announce/index.ts ***!
  \*************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Announce=void 0;var o=r(/*! ./AnnouncePlugin */"./packages/roosterjs-editor-plugins/lib/plugins/Announce/AnnouncePlugin.ts");Object.defineProperty(t,"Announce",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/AutoFormat/AutoFormat.ts":
/*!********************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/AutoFormat/AutoFormat.ts ***!
  \********************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/[`!@#$%^&*()_+\=\[\]{};':"\\|,.<>\/?~]/,o=function(){function e(){this.editor=null,this.lastKeyTyped=null}return e.prototype.getName=function(){return"AutoFormat"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null,this.lastKeyTyped=null},e.prototype.onPluginEvent=function(e){var t=this;if(this.editor&&(7!==e.eventType&&5!==e.eventType&&6!==e.eventType||(this.lastKeyTyped=""),1===e.eventType)){var o=e.rawEvent.key;if(o&&o.length>1&&(this.lastKeyTyped=""),"-"!==this.lastKeyTyped||r.test(o)||"-"===o)this.lastKeyTyped=o;else{var n=this.editor.getContentSearcherOfCursor(e),i=null==n?void 0:n.getSubStringBefore(3),s=null==n?void 0:n.getSubStringBefore(2);if("-"===(null==i?void 0:i[0])||(" --"==i&&" "!==o||" --"!==i&&" "===o)||"string"==typeof i&&r.test(i[0])||"--"!==s)return;var a=null==n?void 0:n.getRangeFromText(s,!0),l=" --"===i&&" "===o?document.createTextNode("–"):document.createTextNode("—");this.editor.addUndoSnapshot((function(){a&&(a.deleteContents(),a.insertNode(l),t.editor.select(l,-1))}),"Format",!0,{formatApiName:"autoHyphen"}),this.lastKeyTyped=null}}},e}();t.default=o},"./packages/roosterjs-editor-plugins/lib/plugins/AutoFormat/index.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/AutoFormat/index.ts ***!
  \***************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoFormat=void 0;var o=r(/*! ./AutoFormat */"./packages/roosterjs-editor-plugins/lib/plugins/AutoFormat/AutoFormat.ts");Object.defineProperty(t,"AutoFormat",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/ContentEdit.ts":
/*!**********************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/ContentEdit.ts ***!
  \**********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./getAllFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/getAllFeatures.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i=function(){function e(e,t){this.settingsOverride=e,this.additionalFeatures=t,this.editor=void 0,this.features=[]}return e.prototype.getName=function(){return"ContentEdit"},e.prototype.initialize=function(e){var t=this;this.editor=e;var r=(0,o.default)();(0,n.getObjectKeys)(r).forEach((function(e){var o,n=r[e],i=t.settingsOverride&&void 0!==t.settingsOverride[e];(i&&(null===(o=t.settingsOverride)||void 0===o?void 0:o[e])||!i&&!n.defaultDisabled)&&t.features.push(n)})),this.features=this.features.concat(this.additionalFeatures||[]),this.features.forEach((function(e){var r;return null===(r=t.editor)||void 0===r?void 0:r.addContentEditFeature(e)}))},e.prototype.disposeFeatures=function(){var e=this;this.editor&&this.features.forEach((function(t){return e.editor.removeContentEditFeature(t)})),this.features=[]},e.prototype.dispose=function(){this.disposeFeatures(),this.editor=void 0},e}();t.default=i},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/autoLinkFeatures.ts":
/*!************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/autoLinkFeatures.ts ***!
  \************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoLinkFeatures=void 0;var o=r(/*! roosterjs-editor-api */"./packages/roosterjs-editor-api/lib/index.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i=/[.+=\s:;"',>]+$/i,s=5,a={keys:[13,32,257],shouldHandleEvent:d,handleEvent:function(e,t){var r=d(e,t);if(!r)return;var i=t.getDocument().createElement("a"),s=t.getContentSearcherOfCursor();i.textContent=r.originalUrl,i.href=r.normalizedUrl,t.runAsync((function(t){t.addUndoSnapshot((function(){return(0,o.replaceWithNode)(t,r.originalUrl,i,!1,null!=s?s:void 0),(0,n.clearEventDataCache)(e),i}),"AutoLink",!0)}))}},l={keys:[8],shouldHandleEvent:function(e,t){var r=t.getContentSearcherOfCursor(e);return(null==r?void 0:r.getInlineElementBefore())instanceof n.LinkInlineElement},handleEvent:function(e,t){e.rawEvent.preventDefault(),(0,o.removeLink)(t)},defaultDisabled:!0};function d(e,t){return 0==e.eventType||7==e.eventType&&"Paste"==e.source?(0,n.cacheGetEventData)(e,"LINK_DATA",(function(){var r=7==e.eventType&&"Paste"==e.source&&e.data||null,o=(0,n.matchLink)(((null==r?void 0:r.text)||"").trim()),a=t.getContentSearcherOfCursor(e);if(o&&(null==a?void 0:a.getRangeFromText(o.originalUrl,!1)))return o;var l=a&&a.getWordBefore();if(l&&l.length>s){var d=(l.match(i)||[])[0]||"",u=l.substring(0,l.length-d.length);return["()","{}","[]"].forEach((function(e){u[u.length-1]==e[1]&&u.indexOf(e[0])<0&&(u=u.substr(0,u.length-1))})),(0,n.matchLink)(u)}return null})):null}t.AutoLinkFeatures={autoLink:a,unlinkWhenBackspaceAfterLink:l}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/codeFeatures.ts":
/*!********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/codeFeatures.ts ***!
  \********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeFeatures=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n={keys:[13],shouldHandleEvent:function(e,t){var r=s(e,t);return r&&(0,o.isNodeEmpty)(r)},handleEvent:function(e,t){e.rawEvent.preventDefault(),t.addUndoSnapshot((function(){a(e,t)}),void 0,!0)}},i={keys:[8],shouldHandleEvent:function(e,t){var r=s(e,t);return r&&(0,o.isNodeEmpty)(r)&&!r.previousSibling},handleEvent:function(e,t){e.rawEvent.preventDefault(),t.addUndoSnapshot((function(){return a(e,t)}))}};function s(e,t){return(0,o.cacheGetEventData)(e,"CODE_CHILD",(function(){var e,r=null!==(e=t.getElementAtCursor("code"))&&void 0!==e?e:t.queryElements("code",1)[0];if(r){var n=t.getFocusedPosition(),i=n&&t.getBlockElementAtNode(n.normalize().node);if(i){var s=i.getStartNode()==r.parentNode?i.getStartNode():i.collapseToSingleElement();return(0,o.isNodeEmpty)(s)?s:null}}return null}))}function a(e,t){var r=s(e,t);if((0,o.safeInstanceOf)(r,"HTMLElement")){var n=r.querySelector("code");if(n)(0,o.unwrap)(n);else{var i=(0,o.splitBalancedNodeRange)(r);if(i&&(0,o.unwrap)(i),(0,o.safeInstanceOf)(r.parentElement,"HTMLPreElement")){var a=(0,o.splitBalancedNodeRange)(r);a&&(0,o.unwrap)(a)}}t.select(r,0)}}t.CodeFeatures={removeCodeWhenEnterOnEmptyLine:n,removeCodeWhenBackspaceOnEmptyFirstLine:i}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/cursorFeatures.ts":
/*!**********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/cursorFeatures.ts ***!
  \**********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CursorFeatures=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n={keys:[37,39],allowFunctionKeys:!0,shouldHandleEvent:function(e,t,r){var n,i=null;if(!(r&&(i=t.getSelectionRange())&&i.collapsed&&(n=o.Position.getStart(i))&&t.isPositionAtBeginning(n)))return!1;var s="rtl"==(0,o.getComputedStyle)(n.element,"direction"),a=e.rawEvent;return!s&&37==a.which||s&&39==a.which},handleEvent:function(e){e.rawEvent.preventDefault()},defaultDisabled:!o.Browser.isChrome};t.CursorFeatures={noCycleCursorMove:n}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/entityFeatures.ts":
/*!**********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/entityFeatures.ts ***!
  \**********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityFeatures=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i={keys:[13],shouldHandleEvent:function(e,t){return a(e,t)},handleEvent:function(e,t){a(e,t,1)}},s={keys:[27],shouldHandleEvent:function(e,t){return a(e,t)},handleEvent:function(e,t){a(e,t,3)}};function a(e,t,r){var o=(0,n.cacheGetEventData)(e,"READONLY_ENTITY_ELEMENT",(function(){var r=e.rawEvent.target,o=r&&t.getElementAtCursor((0,n.getEntitySelector)(),r);return o&&!o.isContentEditable?o:null}));if(o&&void 0!==r){var i=(0,n.getEntityFromElement)(o);i&&t.triggerPluginEvent(15,{operation:r,rawEvent:e.rawEvent,entity:i})}return o}var l={keys:[13],shouldHandleEvent:function(e,t){return c(e,t,!0,!1)},handleEvent:function(e,t){var r,o,i;e.rawEvent.preventDefault();var s=t.getSelectionRange();if(s){var a=n.Position.getEnd(s).normalize().node,l=t.getDocument().createElement("BR");null===(r=a.parentNode)||void 0===r||r.insertBefore(l,a.nextSibling);var d,u=t.getBlockElementAtNode(a);u&&(d=u.collapseToSingleElement(),null===(o=l.parentNode)||void 0===o||o.removeChild(l)),null===(i=t.getSelectionRange())||void 0===i||i.deleteContents(),(null==d?void 0:d.nextSibling)&&t.select(d.nextSibling,0)}}},d={keys:[8],shouldHandleEvent:function(e,t){return c(e,t,!1,!0)},handleEvent:function(e,t){c(e,t,!1,!0,5)}},u={keys:[46],shouldHandleEvent:function(e,t){return c(e,t,!0,!0)},handleEvent:function(e,t){c(e,t,!0,!0,4)}};function c(e,t,r,o,i){var s=(0,n.cacheGetEventData)(e,"NEIGHBOR_ENTITY_ELEMENT_"+r+"_"+o,(function(){var e,i=t.getSelectionRange();if(!i||o&&!i.collapsed)return null;var s=null===(e=t.getSelectedRegions()[0])||void 0===e?void 0:e.rootNode;i.commonAncestorContainer.normalize();var a=n.Position.getEnd(i).normalize(),l=null;if((0==a.offset||a.isAtEnd)&&s){var d=n.ContentTraverser.createBodyTraverser(s,a.node),u=r?0==a.offset?d.currentInlineElement:d.getNextInlineElement():a.isAtEnd?d.currentInlineElement:d.getPreviousInlineElement(),c=u&&u.getContainerNode();if(!o){var p=t.getBlockElementAtNode(a.node);(!p||c&&!p.contains(c))&&(c=null)}l=c&&t.getElementAtCursor((0,n.getEntitySelector)(),c)}return l}));if(s&&void 0!==i){var a=(0,n.getEntityFromElement)(s);a&&b(a,t,i,e)}return s}var p={keys:[39,37],allowFunctionKeys:!0,shouldHandleEvent:function(e,t){if(e.rawEvent.altKey)return!1;var r=t.getElementAtCursor();return!!r&&g(e,t,"rtl"===(0,n.getComputedStyle)(r,"direction")==(37===e.rawEvent.which))},handleEvent:function(e,t){var r=y(e),o=v(e,r);if(o){var i=E(o,r,t),s=i.delimiterPair,a=i.entity;s&&a&&(0,n.matchesSelector)(a,(0,n.getEntitySelector)())&&(e.rawEvent.preventDefault(),t.runAsync((function(){var o=r?e.rawEvent.shiftKey?-3:-1:-2,i=new n.Position(s,o);if(e.rawEvent.shiftKey){var a=s.ownerDocument.getSelection();null==a||a.extend(i.node,i.offset)}else t.select(i)})))}}},f={keys:[8,46],shouldHandleEvent:function(e,t){var r=t.getSelectionRange();if(!(null==r?void 0:r.collapsed))return!1;var o=46===e.rawEvent.which;if(g(e,t,o)){var n=v(e,o);return!!h(e,t,o,o?null==n?void 0:n.nextElementSibling:null==n?void 0:n.previousElementSibling)}return!1},handleEvent:function(e,t){var r=46===e.rawEvent.which;h(e,t,r,null,r?4:5)}};function g(e,t,r){var o,n=null===(o=t.getFocusedPosition())||void 0===o?void 0:o.normalize();if(y(e,r),!n)return!1;var i=3==n.node.nodeType?n.node:n.node==n.element?n.element.childNodes.item(n.offset):n.element,s=r?{class:"entityDelimiterBefore",pairClass:"entityDelimiterAfter",isAtEndOrBeginning:n.isAtEnd}:{class:"entityDelimiterAfter",pairClass:"entityDelimiterBefore",isAtEndOrBeginning:0==n.offset},a=function(e,t,r){var o=m(e,t);if(!o)return;var n=function(e){return r?e.getNextInlineElement():e.getPreviousInlineElement()},i=o.currentInlineElement;for(;i&&i.getContainerNode()===t;)i=n(o);return null==i?void 0:i.getContainerNode()}(t,i,r);if(s.isAtEndOrBeginning&&a){var l=t.getElementAtCursor("."+s.class,a);if(l&&d(l))return!0}return!!d(i&&t.getElementAtCursor("."+s.class,i));function d(o){if(!o)return!1;var n=E(o,r,t).delimiterPair;return n&&(n.className||"").indexOf(s.pairClass)>-1&&v(e,r,o)}}function m(e,t){var r;if(t){var o=null===(r=e.getBlockElementAtNode(t))||void 0===r?void 0:r.getStartNode();if(o&&(0,n.isBlockElement)(o))return n.ContentTraverser.createBodyTraverser(o,t)}}function v(e,t,r){return(0,n.cacheGetEventData)(e,"delimiter_cache_key_"+t,(function(){return r}))}function h(e,t,r,o,i){var s=(0,n.cacheGetEventData)(e,"entity_delimiter_cache_key_"+r,(function(){return o&&t.getElementAtCursor((0,n.getEntitySelector)(),o)}));if(s&&void 0!==i){var a=(0,n.getEntityFromElement)(s);a&&b(a,t,i,e)}return s}function b(e,t,r,i){var s=e.wrapper,a=s.nextElementSibling,l=s.previousElementSibling;t.triggerPluginEvent(15,{operation:r,rawEvent:i.rawEvent,entity:e}),e.isReadonly&&!(0,n.isBlockElement)(e.wrapper)&&(i.rawEvent.defaultPrevented?t.runAsync((function(){if(t.contains(e.wrapper)){var r=(0,o.__read)((0,n.addDelimiters)(e.wrapper),1)[0];r&&t.select(r,-3)}else!function(e,t){[e,t].forEach((function(e){var t;(0,n.getDelimiterFromElement)(e)&&(null===(t=null==e?void 0:e.parentElement)||void 0===t||t.removeChild(e))}))}(a,l)})):(0,n.getDelimiterFromElement)(a)&&(0,n.getDelimiterFromElement)(l)&&t.select((0,n.createRange)(l,a)))}function y(e,t){return!!(0,n.cacheGetEventData)(e,"Check_Before",(function(){return t}))}function E(e,t,r){var o=null,i=null,s=m(r,e);if(!s)return{delimiterPair:i,entity:o};for(var a,l="."+(t?"entityDelimiterAfter":"entityDelimiterBefore"),d=function(e,t){var o,n=null==e?void 0:e.getContainerNode();return null!==(o=n&&r.getElementAtCursor(t,n))&&void 0!==o?o:null},u=(0,n.getEntitySelector)(),c=s.currentInlineElement;c&&(!o||!i);){if(o=o||d(c,u),i=i||d(c,l),o){if(!i&&!d(c,u)){i=null;break}i&&!i.isContentEditable&&(i=null)}a=s,c=t?a.getNextInlineElement():a.getPreviousInlineElement()}return{entity:o,delimiterPair:i}}t.EntityFeatures={clickOnEntity:i,escapeFromEntity:s,enterBeforeReadonlyEntity:l,backspaceAfterEntity:d,deleteBeforeEntity:u,moveBetweenDelimitersFeature:p,removeEntityBetweenDelimiters:f}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/listFeatures.ts":
/*!********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/listFeatures.ts ***!
  \********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListFeatures=void 0;var o=r(/*! ../../../pluginUtils/announceData/getAnnounceDataForList */"./packages/roosterjs-editor-plugins/lib/pluginUtils/announceData/getAnnounceDataForList.ts"),n=r(/*! ../utils/getAutoBulletListStyle */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/utils/getAutoBulletListStyle.ts"),i=r(/*! ../utils/getAutoNumberingListStyle */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/utils/getAutoNumberingListStyle.ts"),s=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),a=r(/*! roosterjs-editor-api */"./packages/roosterjs-editor-api/lib/index.ts"),l="previousBlock",d="nextBlock",u=(0,s.createObjectDefinition)({orderedStyleType:(0,s.createNumberDefinition)(!0,void 0,1,20),unorderedStyleType:(0,s.createNumberDefinition)(!0,void 0,1,9)},!0,!0),c=function(e){return function(t,r){var o=t.rawEvent,n=o.keyCode,i=o.altKey,s=o.shiftKey,a=o.ctrlKey,l=o.metaKey;return!a&&!l&&(9===n?!i&&s===!e:s&&i&&n===(e?39:37))&&I(t,r)}},p=function(e){return function(t,r){var n=null,i=9!==t.rawEvent.keyCode&&(n=r.getElementAtCursor())&&"rtl"==(0,s.getComputedStyle)(n,"direction");r.addUndoSnapshot((function(){(0,a.setIndentation)(r,i==e?1:0)}),"Format",!1,{getAnnounceData:function(){return(0,o.default)(r.getElementAtCursor("OL,UL"),r.getElementAtCursor("LI"))}}),t.rawEvent.preventDefault()}},f={keys:[9],shouldHandleEvent:c(!0),handleEvent:p(!0)},g={keys:[9],shouldHandleEvent:c(!1),handleEvent:p(!1),allowFunctionKeys:!0},m={keys:[39],shouldHandleEvent:c(!0),handleEvent:p(!0),allowFunctionKeys:!0,defaultDisabled:s.Browser.isMac},v={keys:[37],shouldHandleEvent:c(!1),handleEvent:p(!1),allowFunctionKeys:!0,defaultDisabled:s.Browser.isMac},h={keys:[8],shouldHandleEvent:function(e,t){var r=t.getElementAtCursor("LI",void 0,e),o=t.getSelectionRange();return r&&(null==o?void 0:o.collapsed)&&(0,s.isPositionAtBeginningOf)(s.Position.getStart(o),r)},handleEvent:function(e,t){var r=t.getElementAtCursor("LI",void 0,e);(null==r?void 0:r.previousSibling)?(0,a.blockFormat)(t,(function(o,n,i){var a=(0,s.createVListFromRegion)(o,!1,null!=r?r:void 0);a&&n&&i&&(a.setIndentation(n,i,1,!0),a.writeBack(t.isFeatureEnabled("ReuseAllAncestorListElements"),t.isFeatureEnabled("DisableListChain")),e.rawEvent.preventDefault())})):w(e,t)},defaultDisabled:!0},b={keys:[8],shouldHandleEvent:function(e,t){var r=t.getElementAtCursor("LI",void 0,e);return r&&(0,s.isNodeEmpty)(r)&&!r.previousSibling&&!r.getElementsByTagName("blockquote").length},handleEvent:w},y={keys:[46],shouldHandleEvent:function(e,t){var r=t.getElementAtCursor("LI",void 0,e),o=t.getSelectionRange();if(r||!o)return!1;var n=s.Position.getEnd(o).isAtEnd?function(e,t){var r=(0,s.cacheGetEventData)(e,"nextSibling",(function(){var e,r=t.getSelectionRange(),o=r&&s.Position.getEnd(r).normalize(),n=o&&t.getBodyTraverser(o.node);return null===(e=null==n?void 0:n.getNextBlockElement())||void 0===e?void 0:e.getStartNode()}));return r}(e,t):void 0;return t.getElementAtCursor("LI",n,e)},handleEvent:function(e,t){var r=_(t);t.runAsync((function(e){return(0,a.commitListChains)(e,r)}))}},E={keys:[13],shouldHandleEvent:function(e,t){var r=t.getElementAtCursor("LI",void 0,e);return!e.rawEvent.shiftKey&&r&&(0,s.isNodeEmpty)(r)},handleEvent:function(e,t){t.addUndoSnapshot((function(){return w(e,t,!1)}),void 0,!0)},defaultDisabled:!s.Browser.isIE&&!s.Browser.isChrome},C={keys:[32],shouldHandleEvent:function(e,t){return!I(e,t)&&A(e,t,n.default,2)},handleEvent:function(e,t){t.insertContent("&nbsp;"),e.rawEvent.preventDefault(),t.addUndoSnapshot((function(){var e,r=t.getContentSearcherOfCursor();if(r){var o=r.getSubStringBefore(5),i=r.getRangeFromText(o,!0),s=(0,n.default)(o);i&&(O(t,i),(0,a.toggleBullet)(t,null!=s?s:void 0,"autoToggleList")),null===(e=r.getRangeFromText(o,!0))||void 0===e||e.deleteContents()}}),void 0,!0)}},k={keys:[32],shouldHandleEvent:function(e,t){return!I(e,t)&&A(e,t,i.default,1)},handleEvent:function(e,t){t.insertContent("&nbsp;"),e.rawEvent.preventDefault(),t.addUndoSnapshot((function(){var e,r,o=t.getContentSearcherOfCursor();if(o){var n=o.getSubStringBefore(5),s=o.getRangeFromText(n,!0);if(s){var l=T(n)?1:parseInt(n),d=S(t,s),u=null!==(e=(0,i.default)(n))&&void 0!==e?e:void 0;O(t,s),(0,a.toggleNumbering)(t,d&&1!==l?void 0:l,u,"autoToggleList")}null===(r=o.getRangeFromText(n,!0))||void 0===r||r.deleteContents()}}),void 0,!0)}},S=function(e,t){var r,o=e.getBodyTraverser(null==t?void 0:t.startContainer).getPreviousBlockElement(),n=null!==(r=null==o?void 0:o.getEndNode())&&void 0!==r?r:null;return"LI"===(0,s.getTagOfNode)(n)?n:void 0},j=function(e,t,r){var o=1===r?"orderedStyleType":"unorderedStyleType",n=S(e,t),i=n?(0,s.findClosestElementAncestor)(n,void 0,1===r?"ol":"ul"):null,a=i?(0,s.getMetadata)(i,u):null;return a?a[o]:null},T=function(e){var t=parseInt(e);if(t&&1===t)return 1;var r=e.replace(/\(|\)|\-|\./g,"").trim();return 1===r.length&&["i","a","I","A"].indexOf(r)>-1?1:void 0},P={keys:[13,9,46,8,258],shouldHandleEvent:function(e,t){return t.queryElements("li",1).filter((function(e){return!e.getElementsByTagName("blockquote").length})).length>0},handleEvent:function(e,t){var r=_(t);t.runAsync((function(e){return(0,a.commitListChains)(e,r)}))}};function _(e){return s.VListChain.createListChains(e.getSelectedRegions())}function O(e,t){var r,o=e.getBlockElementAtNode(t.startContainer),n=null==o?void 0:o.getEndNode();if(n&&"BR"!=(0,s.getTagOfNode)(n)){var i=e.getDocument().createElement("BR");(0,s.isBlockElement)(n)?n.appendChild(i):null===(r=n.parentNode)||void 0===r||r.insertBefore(i,n.nextSibling),e.select(t.startContainer,t.startOffset)}}function w(e,t,r){void 0===r&&(r=!0);var o=I(e,t);if(o){var n=o[0],i=(0,s.getTagOfNode)(n);"UL"!=i&&"OL"!=i||(0,a.toggleListType)(t,"UL"==i?2:1,void 0,r),t.focus(),e.rawEvent.preventDefault()}}function I(e,t){var r=t.getElementAtCursor("LI,TABLE",void 0,e),o=r&&"LI"==(0,s.getTagOfNode)(r)&&t.getElementAtCursor("UL,OL",r);return o?[o,r]:null}function A(e,t,r,o){var n=t.getContentSearcherOfCursor(e);if(!n)return!1;var i=n.getSubStringBefore(4),s=t.getBlockTraverser(),a=s&&s.currentBlockElement?s.currentBlockElement.getTextContent().slice(0,i.length):null,l=a&&a===i,d=_(t),u=n.getRangeFromText(i,!0),c=u&&j(t,u,o),p=T(i),f=r(i,d,null!=c?c:void 0),g=p||!c||c===f||2===o;return l&&!n.getNearestNonTextInlineElement()&&f&&g}var D={keys:[8],shouldHandleEvent:function(e,t){var r,o,n=t.getElementAtCursor();if(n){var i=null===(r=t.getBlockElementAtNode(n))||void 0===r?void 0:r.getStartNode(),a=null!==(o=null==i?void 0:i.previousElementSibling)&&void 0!==o?o:null;if(x(a)){var u=t.getSelectionRange(),c=t.getContentSearcherOfCursor(e),p=null==c?void 0:c.getSubStringBefore(4),f=null==c?void 0:c.getNearestNonTextInlineElement();if(u&&u.collapsed&&""===p&&!f){var g=null==i?void 0:i.nextElementSibling,m=x(g)?g:null==g?void 0:g.firstChild;if(x(m)&&(0,s.getTagOfNode)(a)==(0,s.getTagOfNode)(m)){var v=(0,s.cacheGetEventData)(e,l,(function(){return a})),h=(0,s.cacheGetEventData)(e,d,(function(){return m}));return!!v&&!!h}}}}return!1},handleEvent:function(e,t){t.runAsync((function(t){var r=(0,s.cacheGetEventData)(e,l,(function(){return null})),o=(0,s.cacheGetEventData)(e,d,(function(){return null})),n=t.getSelectionRange();if(r&&o&&n){var i=new s.VList(r);i.mergeVList(new s.VList(o));var a=t.getDocument().createElement("span");a.id="restoreRange",n.insertNode(a),i.writeBack(),(a=t.queryElements("#restoreRange")[0]).parentElement&&(t.select(new s.Position(a,-3)),a.parentElement.removeChild(a))}}))}};function x(e){return!!e&&((0,s.safeInstanceOf)(e,"HTMLOListElement")||(0,s.safeInstanceOf)(e,"HTMLUListElement"))}t.ListFeatures={autoBullet:{keys:[32],shouldHandleEvent:function(e,t){return!1},handleEvent:function(e,t){},defaultDisabled:!0},indentWhenTab:f,outdentWhenShiftTab:g,outdentWhenBackspaceOnEmptyFirstLine:b,outdentWhenEnterOnEmptyLine:E,mergeInNewLineWhenBackspaceOnFirstChar:h,maintainListChain:P,maintainListChainWhenDelete:y,autoNumberingList:k,autoBulletList:C,mergeListOnBackspaceAfterList:D,outdentWhenAltShiftLeft:v,indentWhenAltShiftRight:m}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/markdownFeatures.ts":
/*!************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/markdownFeatures.ts ***!
  \************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownFeatures=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n="​";function i(e,t,r,i){return{keys:[e],shouldHandleEvent:function(e,r){return e.rawEvent.shiftKey===i&&!!s(e,r,t)},handleEvent:function(e,i){i.runAsync((function(i){!function(e,t,r,i){t.addUndoSnapshot((function(){var a=s(e,t,r);if(a){var l=new o.Position(a.endContainer,-1),d=a.endOffset+1<=l.offset;if(a&&d){var u=a.cloneRange();u.setStart(u.startContainer,u.startOffset+1);var c=u.extractContents().textContent,p=t.getDocument().createTextNode(null!=c?c:""),f=(0,o.wrap)(p,i);a.setEnd(a.endContainer,a.endOffset+1),a.deleteContents();var g=t.getDocument().createTextNode(n);a.insertNode(g),a.insertNode(f),t.select(g,-1)}}}),"Format",!0)}(e,i,t,r)}))}}}function s(e,t,r){return(0,o.cacheGetEventData)(e,"MARKDOWN_RANGE",(function(){var n=t.getContentSearcherOfCursor(e),i=null,s=null;return null==n||n.forEachTextInlineElement((function(e){if(s&&i)return!0;var t=e.getTextContent();if(0==t[t.length-1].trim().length)return!1;var o=e.getParentBlock().getTextContent();if(o[o.length-1].trim()===r)return!1;if(s||(s=e.getStartPosition().move(t.length)),t[0]==r)i=e.getStartPosition();else for(var n=t.length-1;n>0;n--){if(i)return!0;if(t[n]==r&&0==t[n-1].trim().length)return i=e.getStartPosition().move(n),!0}})),i&&s&&(0,o.createRange)(i,s)}))}var a=i(56,"*","b",!0),l=i(189,"_","i",!0),d=i(192,"~","s",!0),u=i(192,"`","code",!1);t.MarkdownFeatures={markdownBold:a,markdownItalic:l,markdownStrikethru:d,markdownInlineCode:u}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/quoteFeatures.ts":
/*!*********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/quoteFeatures.ts ***!
  \*********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteFeatures=void 0;var o=r(/*! roosterjs-editor-api */"./packages/roosterjs-editor-api/lib/index.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i="BLOCKQUOTE",s=[i,"LI","TD","TH"].join(","),a={keys:[8],shouldHandleEvent:function(e,t){var r=d(e,t);return r&&(0,n.isNodeEmpty)(r)&&!r.previousSibling},handleEvent:u},l={keys:[13],shouldHandleEvent:function(e,t){var r=d(e,t);return!e.rawEvent.shiftKey&&r&&(0,n.isNodeEmpty)(r)},handleEvent:function(e,t){return t.addUndoSnapshot((function(){return u(e,t)}),void 0,!0)}};function d(e,t){return(0,n.cacheGetEventData)(e,"QUOTE_CHILD",(function(){var e=t.getElementAtCursor(s);if(e&&(0,n.getTagOfNode)(e)==i){var r=t.getFocusedPosition(),o=r&&t.getBlockElementAtNode(r.normalize().node);if(o){var a=o.getStartNode()==e?o.getStartNode():o.collapseToSingleElement();return(0,n.isNodeEmpty)(a)?a:null}}return null}))}function u(e,t){t.addUndoSnapshot((function(){var r=d(e,t);if(r){(0,n.getTagOfNode)(r)==i&&(r=(0,n.wrap)((0,n.toArray)(r.childNodes)));var s=(0,n.splitBalancedNodeRange)(r),a=!!s&&c(s),l=s&&(0,n.unwrap)(s);t.select(r,0),a&&((0,n.safeInstanceOf)(l,"HTMLLIElement")&&l.style.removeProperty("color"),(0,o.clearFormat)(t))}})),e.rawEvent.preventDefault()}var c=function(e){return!!(e&&(0,n.safeInstanceOf)(e,"HTMLQuoteElement")&&e.style.borderLeft&&e.style.borderColor&&e.style.paddingLeft&&e.style.color)};t.QuoteFeatures={unquoteWhenBackspaceOnEmptyFirstLine:a,unquoteWhenEnterOnEmptyLine:l}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/shortcutFeatures.ts":
/*!************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/shortcutFeatures.ts ***!
  \************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShortcutFeatures=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=r(/*! roosterjs-editor-api */"./packages/roosterjs-editor-api/lib/index.ts");function i(e,t,r,o){return void 0===o&&(o=!1),o?null:{winKey:e,macKey:t,action:r}}var s=[i(4162,8258,n.toggleBold),i(4169,8265,n.toggleItalic),i(4181,8277,n.toggleUnderline),i(4128,8224,n.clearFormat),i(4186,8282,(function(e){return e.undo()})),i(26,26,(function(e){return e.undo()}),o.Browser.isMac),i(4185,24666,(function(e){return e.redo()})),i(4286,8382,n.toggleBullet),i(4287,8383,n.toggleNumbering),i(20670,24766,(function(e){return(0,n.changeFontSize)(e,0)})),i(20668,24764,(function(e){return(0,n.changeFontSize)(e,1)}))].filter((function(e){return!!e})),a={allowFunctionKeys:!0,keys:[66,73,85,89,90,188,190,191,32,8],shouldHandleEvent:l,handleEvent:function(e,t){var r=l(e);r&&(r.action(t),e.rawEvent.preventDefault(),e.rawEvent.stopPropagation())}};function l(e){return(0,o.cacheGetEventData)(e,"DEFAULT_SHORT_COMMAND",(function(){var t=e.rawEvent,r=0!=e.eventType||t.getModifierState("AltGraph")?0:t.which|(t.metaKey&&8192)|(t.shiftKey&&16384)|(t.ctrlKey&&4096)|(t.altKey&&18);return r&&s.filter((function(e){return(o.Browser.isMac?e.macKey:e.winKey)==r}))[0]}))}t.ShortcutFeatures={defaultShortcut:a}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/structuredNodeFeatures.ts":
/*!******************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/structuredNodeFeatures.ts ***!
  \******************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StructuredNodeFeatures=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n={TD:"TABLE",TH:"TABLE",LI:"OL,UL"},i=(0,o.getObjectKeys)(n).join(","),s={keys:[13],shouldHandleEvent:a,handleEvent:function(e,t){var r=a(e,t),n=(0,o.createElement)(1,t.getDocument());t.addUndoSnapshot((function(){var e;null===(e=null==r?void 0:r.parentNode)||void 0===e||e.insertBefore(n,r),"TABLE"==(0,o.getTagOfNode)(r)&&t.select(new o.Position(n,0).normalize())})),e.rawEvent.preventDefault()},defaultDisabled:!0};function a(e,t){return(0,o.cacheGetEventData)(e,"FIRST_STRUCTURE",(function(){var r=e.rawEvent.shiftKey?null:t.getElementAtCursor(i);if(r){var s=t.getSelectionRange();if(s&&s.collapsed&&(0,o.isPositionAtBeginningOf)(o.Position.getStart(s),r)&&!t.getBodyTraverser(r).getPreviousBlockElement())return t.getElementAtCursor(n[(0,o.getTagOfNode)(r)])}return null}))}t.StructuredNodeFeatures={insertLineBeforeStructuredNodeFeature:s}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/tableFeatures.ts":
/*!*********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/tableFeatures.ts ***!
  \*********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TableFeatures=void 0;var o=r(/*! roosterjs-editor-api */"./packages/roosterjs-editor-api/lib/index.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i={keys:[9],shouldHandleEvent:function(e,t){return d(e,t)&&!u(e,t)},handleEvent:function(e,t){var r,i,s,a=e.rawEvent.shiftKey,l=d(e,t);if(l){for(var u=c(e,l),p=a?-1:1,f=null!==(r=u.row)&&void 0!==r?r:0,g=(null!==(i=u.col)&&void 0!==i?i:0)+p;;g+=p){var m=null!==(s=u.cells)&&void 0!==s?s:[];if(g<0||g>=m[f].length){if((f+=p)<0){t.select(u.table,-2);break}if(f>=m.length){(0,o.editTable)(t,1);break}g=a?m[f].length-1:0}var v=u.getCell(f,g);if(v.td){var h=new n.Position(v.td,0).normalize();t.select(h);break}}e.rawEvent.preventDefault()}}},s={keys:[9],shouldHandleEvent:function(e,t){return d(e,t)&&u(e,t)},handleEvent:function(e,t){e.rawEvent.preventDefault(),t.addUndoSnapshot((function(){var r=e.rawEvent.shiftKey,n=t.getSelectionRangeEx(),i=d(e,t);if(i){var s=c(e,i);r&&t.getElementAtCursor("blockquote",s.table,e)?(0,o.setIndentation)(t,1):r||(0,o.setIndentation)(t,0),n.coordinates&&t.select(n.table,n.coordinates)}}))}},a={keys:[38,40],shouldHandleEvent:function(e,t){return d(e,t)&&!u(e,t)},handleEvent:function(e,t){var r,o,i,s=d(e,t);if(s){var a=new n.VTable(s),l=38==e.rawEvent.which,u=l?-1:1,c=e.rawEvent.shiftKey,p=null===(r=t.getDocument().defaultView)||void 0===r?void 0:r.getSelection(),f=null;if(p){for(var g=p.anchorNode,m=p.anchorOffset,v=null!==(o=a.row)&&void 0!==o?o:0;v>=0&&a.cells&&v<a.cells.length;v+=u){var h=a.getCell(v,null!==(i=a.col)&&void 0!==i?i:0);if(h.td&&h.td!=s){f=h.td;break}}t.runAsync((function(e){var t,r=e.getElementAtCursor();if((0,n.contains)(a.table,r)&&!(0,n.contains)(s,r,!0)){var o=f?new n.Position(f,0):new n.Position(a.table,l?-2:-3);if(c){o=1==o.node.nodeType&&(0,n.isVoidHtmlElement)(o.node)?new n.Position(o.node,o.isAtEnd?-3:-2):o;var i=null===(t=e.getDocument().defaultView)||void 0===t?void 0:t.getSelection();g&&(null==i||i.setBaseAndExtent(g,m,o.node,o.offset))}else e.select(o.normalize())}}))}}}},l={keys:[8],shouldHandleEvent:function(e,t){return t.isFeatureEnabled("DeleteTableWithBackspace")&&u(e,t)},handleEvent:function(e,t){var r=d(e,t);if(r){var o=new n.VTable(r);o.edit(4),o.writeBack()}}};function d(e,t){return(0,n.cacheGetEventData)(e,"TABLE_CELL_FOR_TABLE_FEATURES",(function(){var e=t.getFocusedPosition(),r=e&&t.getElementAtCursor("TD,TH,LI",e.node);return r&&("LI"==(0,n.getTagOfNode)(r)?null:r)}))}function u(e,t){return(0,n.cacheGetEventData)(e,"WHOLE_TABLE_SELECTED_FOR_FEATURES",(function(){var r=d(e,t);if(!r)return!1;var o=c(e,r),i=t.getSelectionRangeEx();return 1==i.type&&i.coordinates&&(0,n.isWholeTableSelected)(o,i.coordinates)}))}function c(e,t){return(0,n.cacheGetEventData)(e,"VTABLE_FOR_TABLE_FEATURES",(function(){return new n.VTable(t)}))}t.TableFeatures={tabInTable:i,upDownInTable:a,indentTableOnTab:s,deleteTableWithBackspace:l}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/textFeatures.ts":
/*!********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/textFeatures.ts ***!
  \********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextFeatures=void 0;var o=r(/*! roosterjs-editor-api */"./packages/roosterjs-editor-api/lib/index.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i={keys:[9],shouldHandleEvent:function(e,t){if(t.isFeatureEnabled("TabKeyTextFeatures")&&!e.rawEvent.shiftKey){var r=t.getDocument().activeElement,o=t.getElementAtCursor("LI,TABLE",void 0,e),i=t.getElementAtCursor((0,n.getEntitySelector)(),void 0,e);return!o&&(i?i.isContentEditable:r.isContentEditable)}return!1},handleEvent:function(e,t){var r=t.getSelectionRangeEx();0==r.type&&(t.addUndoSnapshot((function(){if(r.areAllCollapsed)d(t,e);else{var i=r.ranges,s=i[0];if(a(t,s))(0,o.setIndentation)(t,0);else{var l=(0,n.createRange)(s.startContainer,s.startOffset);i.forEach((function(e){return e.deleteContents()})),t.select(l),d(t,e)}}})),e.rawEvent.preventDefault())}},s={keys:[9],shouldHandleEvent:function(e,t){if(e.rawEvent.shiftKey&&t.isFeatureEnabled("TabKeyTextFeatures")){var r=t.getSelectionRangeEx();return 0==r.type&&!r.areAllCollapsed&&t.getElementAtCursor("blockquote",void 0,e)&&!t.getElementAtCursor("LI,TABLE",void 0,e)&&a(t,r.ranges[0])}return!1},handleEvent:function(e,t){t.addUndoSnapshot((function(){return(0,o.setIndentation)(t,1)})),e.rawEvent.preventDefault()}};function a(e,t){var r=!1,o=n.Position.getStart(t),i=n.Position.getEnd(t),s=e.getBlockElementAtNode(o.node),a=e.getBlockElementAtNode(i.node);if(!s||!a)return!1;if(s.equals(a)){var d=new n.Position(s.getStartNode(),0),u=new n.Position(s.getEndNode(),-1),c=(0,n.createRange)(d,n.Position.getStart(t)),p=(0,n.createRange)(n.Position.getEnd(t),u);return!r&&l(c)&&l(p)&&(r=!0),r}return!0}function l(e){return""==e.toString()&&0==(0,n.queryElements)(e.commonAncestorContainer,"img,table,ul,ol",null,2,e).length}function d(e,t){var r=e.getDocument().createElement("span"),o=e.getContentSearcherOfCursor(t);if(o){for(var i=6-o.getSubStringBefore(Number.MAX_SAFE_INTEGER).length%6,s=null,a="",l=0;l<i;l++)a+="&ensp;";e.insertNode(r),r.nextElementSibling&&"A"==(0,n.getTagOfNode)(r.nextElementSibling)&&((s=e.getDocument().createElement("span")).textContent=" ",e.insertNode(s),e.select((0,n.createRange)(s,-2))),e.insertContent(a,{position:5,range:(0,n.createRange)(r,0),updateCursor:!1}),e.select((0,n.createRange)(r,-3)),s&&e.deleteNode(s)}}t.TextFeatures={indentWhenTabText:i,outdentWhenTabText:s,autoHyphen:{keys:[],shouldHandleEvent:function(e,t){return!1},handleEvent:function(e,t){return!1},defaultDisabled:!0}}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/getAllFeatures.ts":
/*!*************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/getAllFeatures.ts ***!
  \*************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ./features/autoLinkFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/autoLinkFeatures.ts"),i=r(/*! ./features/codeFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/codeFeatures.ts"),s=r(/*! ./features/cursorFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/cursorFeatures.ts"),a=r(/*! ./features/entityFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/entityFeatures.ts"),l=r(/*! ./features/listFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/listFeatures.ts"),d=r(/*! ./features/markdownFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/markdownFeatures.ts"),u=r(/*! ./features/quoteFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/quoteFeatures.ts"),c=r(/*! ./features/shortcutFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/shortcutFeatures.ts"),p=r(/*! ./features/structuredNodeFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/structuredNodeFeatures.ts"),f=r(/*! ./features/tableFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/tableFeatures.ts"),g=r(/*! ./features/textFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/textFeatures.ts"),m=(0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)((0,o.__assign)({},l.ListFeatures),u.QuoteFeatures),f.TableFeatures),p.StructuredNodeFeatures),n.AutoLinkFeatures),c.ShortcutFeatures),s.CursorFeatures),d.MarkdownFeatures),a.EntityFeatures),g.TextFeatures),i.CodeFeatures);t.default=function(){return m}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/index.ts":
/*!****************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/index.ts ***!
  \****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllFeatures=t.ContentEdit=void 0;var o=r(/*! ./ContentEdit */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/ContentEdit.ts");Object.defineProperty(t,"ContentEdit",{enumerable:!0,get:function(){return o.default}});var n=r(/*! ./getAllFeatures */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/getAllFeatures.ts");Object.defineProperty(t,"getAllFeatures",{enumerable:!0,get:function(){return n.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/utils/convertAlphaToDecimals.ts":
/*!***************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/utils/convertAlphaToDecimals.ts ***!
  \***************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.toLocaleLowerCase();if(t){var r=t.length-1;return 26*r+t.charCodeAt(r)-96}return null}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/utils/getAutoBulletListStyle.ts":
/*!***************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/utils/getAutoBulletListStyle.ts ***!
  \***************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={"*":1,"-":2,"--":3,"->":5,"--\x3e":8,"=>":6,">":4,"—":7};t.default=function(e){var t=e.trim();return r[t]||null}},"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/utils/getAutoNumberingListStyle.ts":
/*!******************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/utils/getAutoNumberingListStyle.ts ***!
  \******************************************************************************************************/(e,t,r)=>{"use strict";var o,n,i,s,a,l;Object.defineProperty(t,"__esModule",{value:!0});var d,u,c=r(/*! ./convertAlphaToDecimals */"./packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/utils/convertAlphaToDecimals.ts");!function(e){e[e.Decimal=1]="Decimal",e[e.LowerAlpha=2]="LowerAlpha",e[e.UpperAlpha=3]="UpperAlpha",e[e.LowerRoman=4]="LowerRoman",e[e.UpperRoman=5]="UpperRoman"}(d||(d={})),function(e){e[e.Dot=1]="Dot",e[e.Dash=2]="Dash",e[e.Parenthesis=3]="Parenthesis",e[e.DoubleParenthesis=4]="DoubleParenthesis"}(u||(u={}));var p={".":1,"-":2,")":3},f=[13,16,15,14],g=[17,20,19,18],m=["1","a","A","I","i"],v=["i","v","x","l","c","d","m"],h=["I","V","X","L","C","D","M"],b=((o={})[1]=function(e){return S[e]||null},o[2]=function(e){return k[e]||null},o[3]=function(e){return C[e]||null},o[4]=function(e){return E[e]||null},o[5]=function(e){return y[e]||null},o),y=((n={})[1]=17,n[2]=20,n[3]=18,n[4]=19,n),E=((i={})[1]=13,i[2]=16,i[3]=14,i[4]=15,i),C=((s={})[1]=9,s[2]=12,s[3]=10,s[4]=11,s),k=((a={})[1]=5,a[2]=8,a[3]=6,a[4]=7,a),S=((l={})[1]=1,l[2]=2,l[3]=3,l[4]=4,l),j=function(e,t,r){var o=t?4:p[e[e.length-1]];if(o){var n=function(e,t){if(!isNaN(parseInt(e)))return 1;if(/[a-z]+/g.test(e)){if(null!=t&&f.indexOf(t)>-1&&v.indexOf(e[0])>-1||!t&&"i"===e)return 4;if(t||!t&&"a"===e)return 2}else if(/[A-Z]+/g.test(e)){if(null!=t&&g.indexOf(t)>-1&&h.indexOf(e[0])>-1||!t&&"I"===e)return 5;if(t||!t&&"A"===e)return 3}}(t?e.slice(1,-1):e.slice(0,-1),r);return n?b[n](o):null}return null};t.default=function(e,t,r){var o,n=e.trim(),i="("===n[0]&&")"===n[n.length-1],s=i?n.slice(1,-1):n.slice(0,-1),a=parseInt(s),l=isNaN(a)?(0,c.default)(s):a;return!l||l<1||t&&l>1&&(t.length<1&&m.indexOf(s)<0||(null==t?void 0:t.length)>0&&!(null===(o=t[t.length-1])||void 0===o?void 0:o.canAppendAtCursor(l)))?null:function(e){return Number(e)||/^[A-Za-z\s]*$/.test(e)}(s)?j(n,i,r):null}},"./packages/roosterjs-editor-plugins/lib/plugins/ContextMenu/ContextMenu.ts":
/*!**********************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContextMenu/ContextMenu.ts ***!
  \**********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=function(){function e(e){var t=this;this.options=e,this.container=null,this.editor=null,this.isMenuShowing=!1,this.onDismiss=function(){var e,r;t.container&&t.isMenuShowing&&(null===(r=(e=t.options).dismiss)||void 0===r||r.call(e,t.container),t.isMenuShowing=!1)}}return e.prototype.getName=function(){return"ContextMenu"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){var e;this.onDismiss(),(null===(e=this.container)||void 0===e?void 0:e.parentNode)&&(this.container.parentNode.removeChild(this.container),this.container=null),this.editor=null},e.prototype.onPluginEvent=function(e){if(16==e.eventType&&e.items.length>0){var t=e.rawEvent,r=e.items;this.onDismiss(),this.options.allowDefaultMenu||t.preventDefault(),this.initContainer(t.pageX,t.pageY)&&(this.options.render(this.container,r,this.onDismiss),this.isMenuShowing=!0)}},e.prototype.initContainer=function(e,t){var r,n;return!this.container&&this.editor&&(this.container=(0,o.createElement)(5,this.editor.getDocument()),this.editor.getDocument().body.appendChild(this.container)),null===(r=this.container)||void 0===r||r.style.setProperty("left",e+"px"),null===(n=this.container)||void 0===n||n.style.setProperty("top",t+"px"),!!this.container},e}();t.default=n},"./packages/roosterjs-editor-plugins/lib/plugins/ContextMenu/index.ts":
/*!****************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ContextMenu/index.ts ***!
  \****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenu=void 0;var o=r(/*! ./ContextMenu */"./packages/roosterjs-editor-plugins/lib/plugins/ContextMenu/ContextMenu.ts");Object.defineProperty(t,"ContextMenu",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/CustomReplace/CustomReplace.ts":
/*!**************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/CustomReplace/CustomReplace.ts ***!
  \**************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=function(e,t,r,o){return{sourceString:e,replacementHTML:t,matchSourceCaseSensitive:r,shouldReplace:o}},i=[n(":)","🙂",!0),n(";)","😉",!0),n(":O","😲",!0),n(":o","😯",!0),n("<3","❤️",!0)],s=function(){function e(e){void 0===e&&(e=i),this.longestReplacementLength=null,this.editor=null,this.replacements=null,this.replacementEndCharacters=null,this.updateReplacements(e)}return e.prototype.updateReplacements=function(e){var t;this.replacements=e,this.longestReplacementLength=(t=this.replacements,Math.max.apply(null,t.map((function(e){return e.sourceString.length})))),this.replacementEndCharacters=function(e){var t,r,n=new Set;try{for(var i=(0,o.__values)(e),s=i.next();!s.done;s=i.next()){var a=s.value,l=a.sourceString;if(0!=l.length){var d=l[l.length-1];a.matchSourceCaseSensitive?n.add(d):(n.add(d.toLocaleLowerCase()),n.add(d.toLocaleUpperCase()))}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}(this.replacements)},e.prototype.getName=function(){return"CustomReplace"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.onPluginEvent=function(e){var t,r=this;if(3==e.eventType&&this.editor&&!this.editor.isInIME()&&e.rawEvent.data&&(null===(t=this.replacementEndCharacters)||void 0===t?void 0:t.has(e.rawEvent.data))){var o=this.editor.getContentSearcherOfCursor(e);if(o&&null!=this.longestReplacementLength){var n=o.getSubStringBefore(this.longestReplacementLength),i=this.getMatchingReplacement(n);if(i&&(!i.shouldReplace||!o||i.shouldReplace(i,o.getWordBefore(),this.editor))){var s=o.getSubStringBefore(i.sourceString.length),a=o.getRangeFromText(s,!0),l=this.editor.getDocument().createElement("span");l.innerHTML=this.editor.getTrustedHTMLHandler()(i.replacementHTML);var d=1==l.childNodes.length?l.childNodes[0]:l;a&&this.editor.addUndoSnapshot((function(){var e;a.deleteContents(),a.insertNode(d),null===(e=r.editor)||void 0===e||e.select(d,-1)}),void 0,!0)}}}},e.prototype.getMatchingReplacement=function(e){var t,r;if(0==e.length||!this.replacements)return null;var n=e.replace(/\s/g," "),i=n.toLocaleLowerCase();try{for(var s=(0,o.__values)(this.replacements),a=s.next();!a.done;a=s.next()){var l=a.value,d=(0,o.__read)(l.matchSourceCaseSensitive?[n,l.sourceString]:[i,l.sourceString.toLocaleLowerCase()],2),u=d[0],c=d[1];if(u.substring(u.length-c.length)==c)return l}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return null},e}();t.default=s},"./packages/roosterjs-editor-plugins/lib/plugins/CustomReplace/index.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/CustomReplace/index.ts ***!
  \******************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomReplace=void 0;var o=r(/*! ./CustomReplace */"./packages/roosterjs-editor-plugins/lib/plugins/CustomReplace/CustomReplace.ts");Object.defineProperty(t,"CustomReplace",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/CutPasteListChain/CutPasteListChain.ts":
/*!**********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/CutPasteListChain/CutPasteListChain.ts ***!
  \**********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-api */"./packages/roosterjs-editor-api/lib/index.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i=function(){function e(){var e=this;this.chains=null,this.expectedChangeSource=null,this.editor=null,this.disposer=null,this.onDrop=function(){e.cacheListChains("Drop")}}return e.prototype.getName=function(){return"CutPasteListChain"},e.prototype.initialize=function(e){this.editor=e,this.disposer=this.editor.addDomEventHandler("drop",this.onDrop)},e.prototype.dispose=function(){var e;null===(e=this.disposer)||void 0===e||e.call(this),this.disposer=null,this.editor=null},e.prototype.onPluginEvent=function(e){switch(e.eventType){case 9:e.isCut&&this.cacheListChains("Cut");break;case 10:this.cacheListChains("Paste");break;case 7:this.chains&&this.chains.length>0&&this.expectedChangeSource==e.source&&this.editor&&((0,o.commitListChains)(this.editor,this.chains),this.chains=null,this.expectedChangeSource=null)}},e.prototype.cacheListChains=function(e){var t,r=null===(t=this.editor)||void 0===t?void 0:t.getSelectedRegions();r&&(this.chains=n.VListChain.createListChains(r),this.expectedChangeSource=e)},e}();t.default=i},"./packages/roosterjs-editor-plugins/lib/plugins/CutPasteListChain/index.ts":
/*!**********************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/CutPasteListChain/index.ts ***!
  \**********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CutPasteListChain=void 0;var o=r(/*! ./CutPasteListChain */"./packages/roosterjs-editor-plugins/lib/plugins/CutPasteListChain/CutPasteListChain.ts");Object.defineProperty(t,"CutPasteListChain",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/HyperLink/HyperLink.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/HyperLink/HyperLink.ts ***!
  \******************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=function(){function e(e,t,r){var o=this;void 0===e&&(e=function(e){return e}),this.getTooltipCallback=e,this.target=t,this.onLinkClick=r,this.originalHref=null,this.trackedLink=null,this.editor=null,this.disposer=null,this.onMouse=function(e){var t,r,n=null===(t=o.editor)||void 0===t?void 0:t.getElementAtCursor("a[href]",e.target),i=n&&o.tryGetHref(n);i&&(null===(r=o.editor)||void 0===r||r.setEditorDomAttribute("title","mouseover"==e.type?o.getTooltipCallback(i,n):null))},this.onBlur=function(e){o.trackedLink&&o.updateLinkHrefIfShouldUpdate(),o.resetLinkTracking()}}return e.prototype.getName=function(){return"Hyperlink"},e.prototype.initialize=function(e){this.editor=e,this.disposer=e.addDomEventHandler({mouseover:this.onMouse,mouseout:this.onMouse,blur:this.onBlur})},e.prototype.dispose=function(){this.disposer&&(this.disposer(),this.disposer=null),this.editor=null},e.prototype.onPluginEvent=function(e){var t,r,n;if(6==e.eventType||2==e.eventType&&(!this.isContentEditValue(e.rawEvent)||32==e.rawEvent.which)||7==e.eventType){var i,s=(i=null===(t=this.editor)||void 0===t?void 0:t.getElementAtCursor("A[href]",void 0,e))&&i!==this.trackedLink||2==e.eventType||7==e.eventType;7==e.eventType&&"Keyboard"==e.source&&this.trackedLink!=i&&i&&(this.trackedLink=i),this.trackedLink&&(s||this.tryGetHref(this.trackedLink)!==this.originalHref)&&(s&&this.updateLinkHrefIfShouldUpdate(),this.resetLinkTracking()),!this.trackedLink&&i&&this.doesLinkDisplayMatchHref(i)&&(this.trackedLink=i,this.originalHref=this.tryGetHref(i))}if(6==e.eventType&&(i=null===(r=this.editor)||void 0===r?void 0:r.getElementAtCursor("A",e.rawEvent.srcElement))){if(this.onLinkClick&&!1!==this.onLinkClick(i,e.rawEvent))return;var a;if((a=this.tryGetHref(i))&&(0,o.isCtrlOrMetaPressed)(e.rawEvent)&&0===e.rawEvent.button){e.rawEvent.preventDefault();try{var l=this.target||"_blank",d=null===(n=this.editor)||void 0===n?void 0:n.getDocument().defaultView;null==d||d.open(a,l)}catch(e){}}}},e.prototype.tryGetHref=function(e){try{return e?e.href:null}catch(e){return null}},e.prototype.isContentEditValue=function(e){return(0,o.isCharacterValue)(e)||8==e.which||46==e.which},e.prototype.updateLinkHrefIfShouldUpdate=function(){this.trackedLink&&!this.doesLinkDisplayMatchHref(this.trackedLink)&&this.updateLinkHref()},e.prototype.resetLinkTracking=function(){this.trackedLink=null,this.originalHref=""},e.prototype.doesLinkDisplayMatchHref=function(e){if(e){var t=e.innerText.trim().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp("^(?:https?:\\/\\/)?"+t+"\\/?","i"),o=this.tryGetHref(e);if(null!==o)return r.test(o)}return!1},e.prototype.updateLinkHref=function(){var e,t=this;if(this.trackedLink){var r=(0,o.matchLink)(this.trackedLink.innerText.trim());null!==r&&(null===(e=this.editor)||void 0===e||e.addUndoSnapshot((function(){t.trackedLink.href=r.normalizedUrl})))}},e}();t.default=n},"./packages/roosterjs-editor-plugins/lib/plugins/HyperLink/index.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/HyperLink/index.ts ***!
  \**************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HyperLink=void 0;var o=r(/*! ./HyperLink */"./packages/roosterjs-editor-plugins/lib/plugins/HyperLink/HyperLink.ts");Object.defineProperty(t,"HyperLink",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/ImageEdit.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/ImageEdit.ts ***!
  \******************************************************************************/(e,t,r)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),i=r(/*! ./editInfoUtils/applyChange */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/applyChange.ts"),s=r(/*! ./api/canRegenerateImage */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/canRegenerateImage.ts"),a=r(/*! ../../pluginUtils/DragAndDropHelper */"./packages/roosterjs-editor-plugins/lib/pluginUtils/DragAndDropHelper.ts"),l=r(/*! ./editInfoUtils/getGeneratedImageSize */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/getGeneratedImageSize.ts"),d=r(/*! ./imageEditors/Cropper */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Cropper.ts"),u=r(/*! ./editInfoUtils/editInfo */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/editInfo.ts"),c=r(/*! ./imageEditors/Rotator */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Rotator.ts"),p=r(/*! ./constants/constants */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/constants/constants.ts"),f=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),g=r(/*! ./imageEditors/Resizer */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Resizer.ts"),m=Math.PI,v=8,h=2*m/v,b=["nw","n","ne","e","se","s","sw","w"],y={borderColor:"#DB626C",minWidth:10,minHeight:10,preserveRatio:!1,minRotateDeg:5,imageSelector:"img",rotateIconHTML:"",disableCrop:!1,disableRotate:!1,disableSideResize:!1,onSelectState:7,applyChangesOnMouseUp:!1},E=((o={})[1]=g.getCornerResizeHTML,o[2]=g.getSideResizeHTML,o[4]=c.getRotateHTML,o[8]=d.getCropHTML,o),C=function(){function e(e,t){var r=this;this.onShowResizeHandle=t,this.editor=null,this.disposer=null,this.image=null,this.clonedImage=null,this.wrapper=null,this.editInfo=null,this.lastSrc=null,this.dndHelpers=[],this.wasResized=!1,this.shadowSpan=null,this.isCropping=!1,this.onBlur=function(){r.setEditingImage(null,!1)},this.removeWrapper=function(){var e;r.shadowSpan&&(0,f.unwrap)(r.shadowSpan),r.options.applyChangesOnMouseUp&&(null===(e=r.wrapper)||void 0===e||e.removeEventListener("mouseup",r.changesWhenMouseUp,!0)),r.wrapper=null,r.shadowSpan=null},this.changesWhenMouseUp=function(){r.editor&&r.image&&r.editInfo&&r.lastSrc&&r.clonedImage&&(0,i.default)(r.editor,r.image,r.editInfo,r.lastSrc,r.wasResized,r.clonedImage,r.options.applyChangesOnMouseUp)},this.updateWrapper=function(e){var t,o,n,i=r.wrapper;if(i&&r.editInfo&&r.image&&r.clonedImage&&r.options&&(null===(t=r.shadowSpan)||void 0===t?void 0:t.parentElement)){var s=j(i,"r_cropC"),a=j(i,"r_cropO"),d=j(i,"r_resizeH"),u=j(i,"r_rotateC")[0],p=j(i,"r_rotateH")[0],m=j(i,"r_cropH");r.isCropping=1==s.length&&4==a.length;var v=r.editInfo,h=v.angleRad,b=v.bottomPercent,y=v.leftPercent,E=v.rightPercent,C=v.topPercent,T=v.flippedHorizontal,_=v.flippedVertical,w=(0,l.default)(r.editInfo,r.isCropping),I=w.targetWidth,A=w.targetHeight,D=w.originalWidth,x=w.originalHeight,L=w.visibleWidth,M=w.visibleHeight,R=(I-L)/2,N=(A-M)/2,B=D*y,F=D*E,H=x*C,z=x*b;if(i.style.margin=N+"px "+R+"px",i.style.transform="rotate("+h+"rad)",function(e,t,r,o){if(t.style.borderStyle){var n=t.style.borderWidth?2*parseInt(t.style.borderWidth):2;return e.style.width=S(r+n),void(e.style.height=S(o+n))}e.style.width=S(r),e.style.height=S(o)}(i,r.image,L,M),i.style.textAlign=(n=r.shadowSpan.parentElement,(0,f.safeInstanceOf)(n,"HTMLElement")&&"rtl"==(0,f.getComputedStyle)(n,"direction")?"right":"left"),r.clonedImage.style.width=S(D),r.clonedImage.style.height=S(x),function(e,t,r){e&&(e.style.transform="scale("+(t?-1:1)+", "+(r?-1:1)+")")}(r.clonedImage.parentElement,T,_),r.isCropping)k(s[0],B,H,F,z,void 0,void 0),k(a[0],0,0,F,void 0,void 0,H),k(a[1],void 0,0,0,z,F,void 0),k(a[2],B,void 0,0,0,void 0,z),k(a[3],0,H,void 0,0,B,void 0),P(m,h);else{if(r.clonedImage.style.margin=-H+"px 0 0 "+-B+"px","r_resizeH"==(null==e?void 0:e.elementClass)){var U=i.clientWidth,K=i.clientHeight;r.wasResized=!0,(0,g.doubleCheckResize)(r.editInfo,r.options.preserveRatio||!1,U,K),r.updateWrapper()}var W=null===(o=r.editor)||void 0===o?void 0:o.getVisibleViewport(),V=O(I,A);p&&u&&W&&(0,c.updateRotateHandleState)(W,h,i,u,p,V),function(e,t){e.forEach((function(e){var r=e.dataset,o=r.y,n=r.x,i=["n","s","e","w"].indexOf((null!=o?o:"")+(null!=n?n:""))>-1;e.style.display=i&&t?"none":""}))}(d,V),P(d,h)}}},this.options=(0,n.__assign)((0,n.__assign)({},y),e||{}),this.allowedOperations=1|(this.options.disableCrop?0:8)|(this.options.disableRotate?0:4)|(this.options.disableSideResize?0:2)}return e.prototype.getName=function(){return"ImageEdit"},e.prototype.initialize=function(e){var t=this;this.editor=e,this.disposer=e.addDomEventHandler({blur:function(){return t.onBlur()},dragstart:function(e){t.image&&e.preventDefault()}})},e.prototype.dispose=function(){var e;this.clearDndHelpers(),null===(e=this.disposer)||void 0===e||e.call(this),this.disposer=null,this.editor=null},e.prototype.onPluginEvent=function(e){var t;switch(e.eventType){case 22:e.selectionRangeEx&&2===e.selectionRangeEx.type&&this.options&&void 0!==this.options.onSelectState&&this.setEditingImage(e.selectionRangeEx.image,this.options.onSelectState);break;case 5:var r=e.rawEvent.target,o=e.rawEvent.button;(this.shadowSpan!==r||this.shadowSpan===r&&0!==o||this.isCropping)&&this.setEditingImage(null);break;case 6:this.editor&&this.image&&this.shadowSpan&&this.editor.select(this.image);break;case 0:this.setEditingImage(null);break;case 7:case 12:this.removeWrapper();break;case 8:(null===(t=this.options)||void 0===t?void 0:t.imageSelector)&&(0,f.toArray)(e.clonedRoot.querySelectorAll(this.options.imageSelector)).forEach((function(e){(0,u.deleteEditInfo)(e)}))}},e.prototype.isOperationAllowed=function(e){return!!(this.allowedOperations&e)},e.prototype.setEditingImage=function(e,t){var r=this,o="number"==typeof t?t:0,a="number"!=typeof t&&!!t;!e&&this.image&&this.editor&&this.editInfo&&this.lastSrc&&this.clonedImage&&(this.clearDndHelpers(),(0,i.default)(this.editor,this.image,this.editInfo,this.lastSrc,this.wasResized||this.isCropping,this.clonedImage),this.removeWrapper(),this.editor.addUndoSnapshot((function(){return r.image}),"ImageResize"),a&&this.editor.select(this.image),this.image=null,this.editInfo=null,this.lastSrc=null,this.clonedImage=null,this.isCropping=!1),!this.image&&(null==e?void 0:e.isContentEditable)&&this.editor&&(this.editor.addUndoSnapshot(),this.image=e,this.editInfo=(0,u.getEditInfoFromImage)(e),this.wasResized=function(e){var t=e.width,r=e.height,o=e.style;return!(""!==o.maxWidth&&"initial"!==o.maxWidth&&"auto"!==o.maxWidth||!(_(o.height)||_(o.width)||_(t)||_(r)))}(this.image),o=((0,s.default)(e)?o:3)&this.allowedOperations,this.createWrapper(o),this.updateWrapper(),this.dndHelpers=(0,n.__spreadArray)((0,n.__spreadArray)((0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(this.createDndHelpers("r_resizeH",g.Resizer)),!1),(0,n.__read)(this.createDndHelpers("r_rotateH",c.Rotator)),!1),(0,n.__read)(this.createDndHelpers("r_cropH",d.Cropper)),!1),(0,n.__read)(this.createDndHelpers("r_cropC",d.Cropper)),!1),this.editor.select(this.image))},e.prototype.flipImage=function(e,t){var r;this.image=e,this.editInfo=(0,u.getEditInfoFromImage)(e);var o=this.editInfo.angleRad;o>=Math.PI/2&&o<3*Math.PI/4||o<=-Math.PI/2&&o>-3*Math.PI/4?"horizontal"===t?this.editInfo.flippedVertical=!this.editInfo.flippedVertical:this.editInfo.flippedHorizontal=!this.editInfo.flippedHorizontal:"vertical"===t?this.editInfo.flippedVertical=!this.editInfo.flippedVertical:this.editInfo.flippedHorizontal=!this.editInfo.flippedHorizontal,this.createWrapper(4),this.updateWrapper(),this.setEditingImage(null),null===(r=this.editor)||void 0===r||r.select(e)},e.prototype.rotateImage=function(e,t){var r;this.image=e,this.editInfo=(0,u.getEditInfoFromImage)(e),this.editInfo.angleRad=this.editInfo.angleRad+t,this.createWrapper(4),this.updateWrapper(),this.setEditingImage(null),null===(r=this.editor)||void 0===r||r.select(e)},e.prototype.createWrapper=function(e){var t,r,o=this;if(this.image&&this.editor&&this.options&&this.editInfo){this.clonedImage=this.image.cloneNode(!0),this.clonedImage.removeAttribute("id"),this.clonedImage.style.removeProperty("max-width"),this.clonedImage.style.removeProperty("max-height"),this.clonedImage.style.width=this.editInfo.widthPx+"px",this.clonedImage.style.height=this.editInfo.heightPx+"px",this.wrapper=(0,f.createElement)(6,this.image.ownerDocument),null===(r=null===(t=this.wrapper)||void 0===t?void 0:t.firstChild)||void 0===r||r.appendChild(this.clonedImage),this.wrapper.style.display=f.Browser.isSafari?"inline-block":"inline-flex",this.lastSrc=this.image.getAttribute("src"),this.clonedImage&&(this.clonedImage.src=this.editInfo.src,this.clonedImage.style.position="absolute");var n={borderColor:w(this.options.borderColor,this.editor.isDarkMode()),rotateIconHTML:this.options.rotateIconHTML,rotateHandleBackColor:this.editor.isDarkMode()?"#333":"white",isSmallImage:O(this.editInfo.widthPx,this.editInfo.heightPx)},i=[(0,g.getResizeBordersHTML)(n)];(0,f.getObjectKeys)(E).forEach((function(t){var r=E[t](n,o.onShowResizeHandle);(e&t)==t&&r&&(0,f.arrayPush)(i,r)})),i.forEach((function(e){var t=(0,f.createElement)(e,o.image.ownerDocument);t&&o.wrapper&&o.wrapper.appendChild(t)})),this.insertImageWrapper(this.wrapper)}},e.prototype.insertImageWrapper=function(e){if(this.image&&(this.shadowSpan=(0,f.wrap)(this.image,"span"),this.shadowSpan)){var t=this.shadowSpan.attachShadow({mode:"open"});this.shadowSpan.style.verticalAlign="bottom",e.style.fontSize="24px",this.options.applyChangesOnMouseUp&&e.addEventListener("mouseup",this.changesWhenMouseUp,!0),t.appendChild(e)}},e.prototype.createDndHelpers=function(e,t){var r=this,o=this.wrapper;return o&&this.editInfo?j(o,e).map((function(o){return new a.default(o,{editInfo:r.editInfo,options:r.options,elementClass:e,x:o.dataset.x,y:o.dataset.y},r.updateWrapper,t,r.editor?r.editor.getZoomScale():1)})):[]},e.prototype.clearDndHelpers=function(){var e;null===(e=this.dndHelpers)||void 0===e||e.forEach((function(e){return e.dispose()})),this.dndHelpers=[]},e}();function k(e,t,r,o,n,i,s){e.style.left=void 0!==t?S(t):e.style.left,e.style.top=void 0!==r?S(r):e.style.top,e.style.right=void 0!==o?S(o):e.style.right,e.style.bottom=void 0!==n?S(n):e.style.bottom,e.style.width=void 0!==i?S(i):e.style.width,e.style.height=void 0!==s?S(s):e.style.height}function S(e){return e+"px"}function j(e,t){return(0,f.toArray)(e.querySelectorAll("."+t))}function T(e,t,r){void 0===t&&(t=""),void 0===r&&(r="");var o=function(e){var t=Math.round(e/h)%v;return t<0?t+v:t}(e),n=t+r,i=b.indexOf(n),s=i>=0&&i+o;return s?b[s%v]:""}function P(e,t){e.forEach((function(e){var r=e.dataset,o=r.y,n=r.x;e.style.cursor=T(t,o,n)+"-resize"}))}function _(e){var t="string"==typeof e?parseInt(e):e;return!isNaN(t)}function O(e,t){return!!(e&&t&&(e<p.MIN_HEIGHT_WIDTH||t<p.MIN_HEIGHT_WIDTH))}function w(e,t){return"string"==typeof e?e.trim():t?e.darkModeColor.trim():e.lightModeColor.trim()}t.default=C},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/canRegenerateImage.ts":
/*!*******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/canRegenerateImage.ts ***!
  \*******************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;try{var t=e.ownerDocument.createElement("canvas");t.width=10,t.height=10;var r=t.getContext("2d");return!!r&&(r.drawImage(e,0,0),r.getImageData(0,0,1,1),!0)}catch(e){return!1}}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/isResizedTo.ts":
/*!************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/isResizedTo.ts ***!
  \************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../editInfoUtils/getTargetSizeByPercentage */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/getTargetSizeByPercentage.ts"),n=r(/*! ../editInfoUtils/editInfo */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/editInfo.ts");t.default=function(e,t,r){void 0===r&&(r=1);var i=(0,n.getEditInfoFromImage)(e),s=i.heightPx||e.height,a=i.widthPx||e.width;if(i){var l=(0,o.default)(i,t),d=l.width,u=l.height;return Math.abs(d-a)<r&&Math.abs(u-s)<r}return!1}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/resetImage.ts":
/*!***********************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/resetImage.ts ***!
  \***********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../editInfoUtils/editInfo */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/editInfo.ts");t.default=function(e,t){e.addUndoSnapshot((function(){t.style.width="",t.style.height="",t.style.maxWidth="100%",t.removeAttribute("width"),t.removeAttribute("height"),(0,o.deleteEditInfo)(t)}),"ImageResize")}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/resizeByPercentage.ts":
/*!*******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/resizeByPercentage.ts ***!
  \*******************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../editInfoUtils/applyChange */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/applyChange.ts"),n=r(/*! ../editInfoUtils/getTargetSizeByPercentage */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/getTargetSizeByPercentage.ts"),i=r(/*! ./isResizedTo */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/isResizedTo.ts"),s=r(/*! ../editInfoUtils/editInfo */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/editInfo.ts");t.default=function(e,t,r,a,l){var d,u,c,p=(0,s.getEditInfoFromImage)(t);(0,i.default)(t,r)||(d=t,u=t.src,c=function(){if(!e.isDisposed()&&e.contains(t)&&p){var i=t.getAttribute("src"),s=(0,n.default)(p,r),d=s.width,u=s.height;p.widthPx=Math.max(d,a),p.heightPx=Math.max(u,l),e.addUndoSnapshot((function(){(0,o.default)(e,t,p,i||"",!0)}),"ImageResize"),e.select(t)}},d.onload=function(){d.onload=null,d.onerror=null,c()},d.onerror=function(){d.onload=null,d.onerror=null,c()},d.src=u)}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/constants/constants.ts":
/*!****************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/constants/constants.ts ***!
  \****************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MIN_HEIGHT_WIDTH=t.YS_CROP=t.XS_CROP=t.CROP_HANDLE_WIDTH=t.CROP_HANDLE_SIZE=t.ROTATE_HANDLE_TOP=t.ROTATE_WIDTH=t.Ys=t.Xs=t.ROTATION=t.ROTATE_ICON_MARGIN=t.DEFAULT_ROTATE_HANDLE_HEIGHT=t.DEG_PER_RAD=t.ROTATE_GAP=t.ROTATE_SIZE=t.RESIZE_HANDLE_MARGIN=t.RESIZE_HANDLE_SIZE=void 0,t.RESIZE_HANDLE_SIZE=10,t.RESIZE_HANDLE_MARGIN=6,t.ROTATE_SIZE=32,t.ROTATE_GAP=15,t.DEG_PER_RAD=180/Math.PI,t.DEFAULT_ROTATE_HANDLE_HEIGHT=t.ROTATE_SIZE/2+t.ROTATE_GAP,t.ROTATE_ICON_MARGIN=8,t.ROTATION={sw:0,nw:90,ne:180,se:270},t.Xs=["w","","e"],t.Ys=["s","","n"],t.ROTATE_WIDTH=1,t.ROTATE_HANDLE_TOP=t.ROTATE_GAP+t.RESIZE_HANDLE_MARGIN,t.CROP_HANDLE_SIZE=22,t.CROP_HANDLE_WIDTH=7,t.XS_CROP=["w","e"],t.YS_CROP=["s","n"],t.MIN_HEIGHT_WIDTH=3*t.RESIZE_HANDLE_SIZE+2*t.RESIZE_HANDLE_MARGIN},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/applyChange.ts":
/*!**********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/applyChange.ts ***!
  \**********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./checkEditInfoState */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/checkEditInfoState.ts"),n=r(/*! ./generateDataURL */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/generateDataURL.ts"),i=r(/*! ./getGeneratedImageSize */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/getGeneratedImageSize.ts"),s=r(/*! ./editInfo */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/editInfo.ts");t.default=function(e,t,r,a,l,d,u){var c="",p=(0,s.getEditInfoFromImage)(null!=d?d:t),f=(0,o.default)(r,p);switch(f){case 1:c=r.src;break;case 2:c=a;break;case 3:c=(0,n.default)(null!=d?d:t,r)}c!=a?c=e.triggerPluginEvent(19,{image:t,originalSrc:r.src,previousSrc:a,newSrc:c}).newSrc:u&&e.triggerPluginEvent(7,{source:"ImageResize"}),c==r.src?(0,s.deleteEditInfo)(t):(0,s.saveEditInfo)(t,r);var g=(0,i.default)(r),m=g.targetWidth,v=g.targetHeight;t.src=c,(l||3==f)&&(t.width=m,t.height=v,t.style.removeProperty("width"),t.style.removeProperty("height"),t.style.removeProperty("max-width"),t.style.removeProperty("max-height"))}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/checkEditInfoState.ts":
/*!*****************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/checkEditInfoState.ts ***!
  \*****************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageEditInfoState=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=["angleRad"],i=["leftPercent","rightPercent","topPercent","bottomPercent"],s=(0,o.__spreadArray)((0,o.__spreadArray)([],(0,o.__read)(n),!1),(0,o.__read)(i),!1),a=(0,o.__spreadArray)((0,o.__spreadArray)([],(0,o.__read)(s),!1),(0,o.__read)(["widthPx","heightPx"]),!1);function l(e,t){return Math.abs(e-t)<.001}!function(e){e[e.Invalid=0]="Invalid",e[e.ResizeOnly=1]="ResizeOnly",e[e.SameWithLast=2]="SameWithLast",e[e.FullyChanged=3]="FullyChanged"}(t.ImageEditInfoState||(t.ImageEditInfoState={})),t.default=function(e,t){return e&&e.src&&!a.some((function(t){return!("number"==typeof e[t])}))?!s.every((function(t){return l(e[t],0)}))||e.flippedHorizontal||e.flippedVertical||t&&(!t||e.angleRad!==t.angleRad)?t&&n.every((function(t){return l(e[t],0)}))&&n.every((function(e){return l(t[e],0)}))&&i.every((function(r){return l(e[r],t[r])}))&&t.flippedHorizontal===e.flippedHorizontal&&t.flippedVertical===e.flippedVertical?2:3:1:0}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/editInfo.ts":
/*!*******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/editInfo.ts ***!
  \*******************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEditInfoFromImage=t.deleteEditInfo=t.saveEditInfo=void 0;var o=r(/*! ./checkEditInfoState */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/checkEditInfoState.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.saveEditInfo=function(e,t){e&&(0,n.setMetadata)(e,t)},t.deleteEditInfo=function(e){e&&(0,n.removeMetadata)(e)},t.getEditInfoFromImage=function(e){var t=(0,n.getMetadata)(e);return t&&0!=(0,o.default)(t)?t:function(e){return{src:e.getAttribute("src")||"",widthPx:e.clientWidth,heightPx:e.clientHeight,naturalWidth:e.naturalWidth,naturalHeight:e.naturalHeight,leftPercent:0,rightPercent:0,topPercent:0,bottomPercent:0,angleRad:0}}(e)}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/generateDataURL.ts":
/*!**************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/generateDataURL.ts ***!
  \**************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./getGeneratedImageSize */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/getGeneratedImageSize.ts");t.default=function(e,t){var r=t.angleRad,n=t.widthPx,i=t.heightPx,s=t.bottomPercent,a=t.leftPercent,l=t.rightPercent,d=t.topPercent,u=t.naturalWidth,c=t.naturalHeight,p=u*(1-a-l),f=c*(1-d-s),g=window.devicePixelRatio||1,m=document.createElement("canvas"),v=(0,o.default)(t),h=v.targetWidth,b=v.targetHeight;m.width=h*g,m.height=b*g;var y=m.getContext("2d");return y&&(y.scale(g,g),y.translate(h/2,b/2),y.rotate(r),y.scale(t.flippedHorizontal?-1:1,t.flippedVertical?-1:1),y.drawImage(e,u*a,c*d,p,f,-n/2,-i/2,n,i)),m.toDataURL("image/png",1)}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/getGeneratedImageSize.ts":
/*!********************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/getGeneratedImageSize.ts ***!
  \********************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e.widthPx,o=e.heightPx,n=e.angleRad,i=r/(1-e.leftPercent-e.rightPercent),s=o/(1-e.topPercent-e.bottomPercent),a=t?i:r,l=t?s:o;return{targetWidth:Math.abs(a*Math.cos(n))+Math.abs(l*Math.sin(n)),targetHeight:Math.abs(a*Math.sin(n))+Math.abs(l*Math.cos(n)),originalWidth:i,originalHeight:s,visibleWidth:a,visibleHeight:l}}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/getTargetSizeByPercentage.ts":
/*!************************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/editInfoUtils/getTargetSizeByPercentage.ts ***!
  \************************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e.naturalWidth,o=e.naturalHeight,n=e.leftPercent,i=e.topPercent;return{width:r*(1-n-e.rightPercent)*t,height:o*(1-i-e.bottomPercent)*t}}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Cropper.ts":
/*!*****************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Cropper.ts ***!
  \*****************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCropHTML=t.Cropper=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ./Resizer */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Resizer.ts"),i=r(/*! ../constants/constants */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/constants/constants.ts");function s(e,t,r,o,n){var i=r*(1-o)-n,s=r*e+t;return Math.max(Math.min(s,i),0)/r}function a(){var e=[];return[0,1].forEach((function(t){return[0,1].forEach((function(r){e.push(function(e,t){var r=0==t?"right:"+e+"px;height:"+(i.CROP_HANDLE_WIDTH-2*e)+"px;":"top:"+e+"px;width:"+(i.CROP_HANDLE_WIDTH-2*e)+"px;",o=0==e?"white":"black";return{tag:"div",style:"position:absolute;left:"+e+"px;bottom:"+e+"px;"+r+";background-color:"+o}}(t,r))}))})),e}t.Cropper={onDragStart:function(e){var t=e.editInfo;return(0,o.__assign)({},t)},onDragging:function(e,t,r,i,a){var l,d=e.editInfo,u=e.x,c=e.y,p=e.options;i=(l=(0,o.__read)((0,n.rotateCoordinate)(i,a,d.angleRad),2))[0],a=l[1];var f=d.widthPx,g=d.heightPx,m=d.leftPercent,v=d.rightPercent,h=d.topPercent,b=d.bottomPercent,y=p.minWidth,E=p.minHeight,C=1-m-v,k=1-h-b;if(C>0&&k>0&&void 0!==y&&void 0!==E){var S=f/C,j=g/k,T="e"!=u?s(r.leftPercent,i,S,v,y):m,P="w"!=u?s(r.rightPercent,-i,S,m,y):v,_="s"!=c?s(r.topPercent,a,j,b,E):h,O="n"!=c?s(r.bottomPercent,-a,j,h,E):b;return d.leftPercent=T,d.rightPercent=P,d.topPercent=_,d.bottomPercent=O,d.widthPx=S*(1-T-P),d.heightPx=j*(1-_-O),!0}return!1}},t.getCropHTML=function(){var e={tag:"div",style:"position:absolute;background-color:rgb(0,0,0,0.5);pointer-events:none",className:"r_cropO"},t={tag:"div",style:"position:absolute;overflow:hidden",className:"r_cropC",children:[]};return t&&i.XS_CROP.forEach((function(e){return i.YS_CROP.forEach((function(r){var o;return null===(o=t.children)||void 0===o?void 0:o.push(function(e,t){var r="w"==e?"left":"right",o="n"==t?"top":"bottom",n=i.ROTATION[t+e];return{tag:"div",className:"r_cropH",style:"position:absolute;pointer-events:auto;cursor:"+t+e+"-resize;"+r+":0;"+o+":0;width:"+i.CROP_HANDLE_SIZE+"px;height:"+i.CROP_HANDLE_SIZE+"px;transform:rotate("+n+"deg)",dataset:{x:e,y:t},children:a()}}(e,r))}))})),[t,e,e,e,e]}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Resizer.ts":
/*!*****************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Resizer.ts ***!
  \*****************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResizeBordersHTML=t.getSideResizeHTML=t.getCornerResizeHTML=t.doubleCheckResize=t.rotateCoordinate=t.Resizer=void 0;var o,n=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),i=r(/*! ../constants/constants */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/constants/constants.ts");function s(e,t,r){if(0==e&&0==t)return[0,0];var o=Math.sqrt(e*e+t*t);return r=Math.atan2(t,e)-r,[o*Math.cos(r),o*Math.sin(r)]}function a(e,t,r,o){var n="w"==e?"left":"right",i="n"==t?"top":"bottom",s=t+e;return""==e&&""==t?null:{tag:"div",style:"position:absolute;"+n+":"+(""==e?"50%":"0px")+";"+i+":"+(""==t?"50%":"0px"),children:[{tag:"div",style:l[o](s,i,n,r),className:"r_resizeH",dataset:{x:e,y:t}}]}}!function(e){e[e.SquareHandles=0]="SquareHandles",e[e.CircularHandlesCorner=1]="CircularHandlesCorner"}(o||(o={})),t.Resizer={onDragStart:function(e){var t=e.editInfo;return(0,n.__assign)({},t)},onDragging:function(e,t,r,o,i){var a,l=e.x,d=e.y,u=e.editInfo,c=e.options,p=r.widthPx>0&&r.heightPx>0?1*r.widthPx/r.heightPx:0;if(o=(a=(0,n.__read)(s(o,i,u.angleRad),2))[0],i=a[1],void 0!==c.minWidth&&void 0!==c.minHeight){var f=""==l,g=""==d,m=!(f||g)&&(c.preserveRatio||t.shiftKey),v=f?r.widthPx:Math.max(r.widthPx+o*("w"==l?-1:1),c.minWidth),h=g?r.heightPx:Math.max(r.heightPx+i*("n"==d?-1:1),c.minHeight);return m&&p>0&&(p>1?(v=h*p)<c.minWidth&&(h=(v=c.minWidth)/p):(h=v/p)<c.minHeight&&(v=(h=c.minHeight)*p)),u.widthPx=v,u.heightPx=h,!0}return!1}},t.rotateCoordinate=s,t.doubleCheckResize=function(e,t,r,o){var n=e.widthPx,i=e.heightPx,s=i>0?n/i:0;r=Math.floor(r),o=Math.floor(o),n=Math.floor(n),i=Math.floor(i),e.widthPx=r,e.heightPx=o,t&&s>0&&(n!==r||i!==o)&&(r<n?e.heightPx=r/s:e.widthPx=o*s)},t.getCornerResizeHTML=function(e,t){var r=e.borderColor,o=[];return i.Xs.forEach((function(e){return i.Ys.forEach((function(n){var i=""==e==(""==n)?a(e,n,r,1):null;t&&i&&t(i,e,n),i&&o.push(i)}))})),o},t.getSideResizeHTML=function(e,t){var r=e.borderColor,o=[];return i.Xs.forEach((function(e){return i.Ys.forEach((function(n){var i=""==e!=(""==n)?a(e,n,r,1):null;t&&i&&t(i,e,n),i&&o.push(i)}))})),o},t.getResizeBordersHTML=function(e){return{tag:"div",style:"position:absolute;left:0;right:0;top:0;bottom:0;border:solid 2px "+e.borderColor+";pointer-events:none;"}};var l={0:function(e,t,r,o){return"position:relative;width:"+i.RESIZE_HANDLE_SIZE+"px;height:"+i.RESIZE_HANDLE_SIZE+"px;background-color: "+o+";cursor:"+e+"-resize;"+r+":-"+i.RESIZE_HANDLE_MARGIN+"px;"+t+":-"+i.RESIZE_HANDLE_MARGIN+"px;"},1:function(e,t,r){return"position:relative;width:"+i.RESIZE_HANDLE_SIZE+"px;height:"+i.RESIZE_HANDLE_SIZE+"px;background-color: #FFFFFF;cursor:"+e+"-resize;"+r+":-"+i.RESIZE_HANDLE_MARGIN+"px;"+t+":-"+i.RESIZE_HANDLE_MARGIN+"px;border-radius:100%;border: 2px solid #bfbfbf;box-shadow: 0px 0.36316px 1.36185px rgba(100, 100, 100, 0.25);"}}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Rotator.ts":
/*!*****************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/imageEditors/Rotator.ts ***!
  \*****************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRotateHTML=t.updateRotateHandleState=t.Rotator=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../constants/constants */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/constants/constants.ts");function i(e){var t;return{tag:"svg",namespace:"http://www.w3.org/2000/svg",style:"width:16px;height:16px;margin: "+n.ROTATE_ICON_MARGIN+"px "+n.ROTATE_ICON_MARGIN+"px",children:[{tag:"path",namespace:"http://www.w3.org/2000/svg",attributes:(t={d:"M 10.5,10.0 A 3.8,3.8 0 1 1 6.7,6.3",transform:"matrix(1.1 1.1 -1.1 1.1 11.6 -10.8)"},t["fill-opacity"]="0",t.stroke=e,t)},{tag:"path",namespace:"http://www.w3.org/2000/svg",attributes:{d:"M12.0 3.648l.884-.884.53 2.298-2.298-.53z",stroke:e}}]}}t.Rotator={onDragStart:function(e){var t=e.editInfo;return(0,o.__assign)({},t)},onDragging:function(e,t,r,o,i){var s=e.editInfo,a=e.options,l=s.heightPx/2+n.DEFAULT_ROTATE_HANDLE_HEIGHT,d=l*Math.sin(r.angleRad)+o,u=l*Math.cos(r.angleRad)-i,c=Math.atan2(d,u);if(!t.altKey&&a&&void 0!==a.minRotateDeg){var p=c*n.DEG_PER_RAD;c=Math.round(p/a.minRotateDeg)*a.minRotateDeg/n.DEG_PER_RAD}return s.angleRad!=c&&(s.angleRad=c,!0)}},t.updateRotateHandleState=function(e,t,r,o,i,s){if(s)return o.style.display="none",void(i.style.display="none");o.style.display="",i.style.display="";var a=o.getBoundingClientRect(),l=r.getBoundingClientRect(),d=n.ROTATE_SIZE+n.ROTATE_GAP+n.RESIZE_HANDLE_MARGIN;if(a&&l){var u=Number.MAX_SAFE_INTEGER,c=t*n.DEG_PER_RAD;if(c<45&&c>-45&&l.top-e.top<d)u=a.top-e.top;else if(c<=-80&&c>=-100&&l.left-e.left<d){u=a.left-e.left}else if(c>=80&&c<=100&&e.right-l.right<d){var p=a.right-e.right;u=Math.min(e.right-l.right,p)}else if((c<=-160||c>=160)&&e.bottom-l.bottom<d){var f=a.bottom-e.bottom;u=Math.min(e.bottom-l.bottom,f)}var g=Math.max(Math.min(n.ROTATE_GAP,u),0),m=Math.max(Math.min(n.ROTATE_SIZE,u-g),0);o.style.top=-g-n.RESIZE_HANDLE_MARGIN+"px",o.style.height=g+"px",i.style.top=-m+"px"}},t.getRotateHTML=function(e){var t=e.borderColor,r=e.rotateHandleBackColor,o=n.ROTATE_SIZE/2;return[{tag:"div",className:"r_rotateC",style:"position:absolute;left:50%;width:1px;background-color:"+t+";top:"+-n.ROTATE_HANDLE_TOP+"px;height:"+n.ROTATE_GAP+"px;margin-left:"+-n.ROTATE_WIDTH+"px;",children:[{tag:"div",className:"r_rotateH",style:"position:absolute;background-color:"+r+";border:solid 1px "+t+";border-radius:50%;width:"+n.ROTATE_SIZE+"px;height:"+n.ROTATE_SIZE+"px;left:-"+(o+n.ROTATE_WIDTH)+"px;cursor:move;top:"+-n.ROTATE_SIZE+"px;line-height: 0px;",children:[i(t)]}]}]}},"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/index.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/index.ts ***!
  \**************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetImage=t.isResizedTo=t.resizeByPercentage=t.canRegenerateImage=t.ImageEdit=void 0;var o=r(/*! ./ImageEdit */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/ImageEdit.ts");Object.defineProperty(t,"ImageEdit",{enumerable:!0,get:function(){return o.default}});var n=r(/*! ./api/canRegenerateImage */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/canRegenerateImage.ts");Object.defineProperty(t,"canRegenerateImage",{enumerable:!0,get:function(){return n.default}});var i=r(/*! ./api/resizeByPercentage */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/resizeByPercentage.ts");Object.defineProperty(t,"resizeByPercentage",{enumerable:!0,get:function(){return i.default}});var s=r(/*! ./api/isResizedTo */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/isResizedTo.ts");Object.defineProperty(t,"isResizedTo",{enumerable:!0,get:function(){return s.default}});var a=r(/*! ./api/resetImage */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/resetImage.ts");Object.defineProperty(t,"resetImage",{enumerable:!0,get:function(){return a.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/ImageResize/ImageResize.ts":
/*!**********************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageResize/ImageResize.ts ***!
  \**********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=function(e){function t(t,r,o,n,i){return void 0===t&&(t=10),void 0===r&&(r=10),void 0===o&&(o="#DB626C"),void 0===n&&(n=!1),void 0===i&&(i="img"),e.call(this,{minHeight:r,minWidth:t,borderColor:o,preserveRatio:n,imageSelector:i})||this}return(0,o.__extends)(t,e),t.prototype.showResizeHandle=function(e){this.setEditingImage(e,3)},t.prototype.hideResizeHandle=function(e){this.setEditingImage(null,e)},t}(r(/*! ../ImageEdit/ImageEdit */"./packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/ImageEdit.ts").default);t.default=n},"./packages/roosterjs-editor-plugins/lib/plugins/ImageResize/index.ts":
/*!****************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/ImageResize/index.ts ***!
  \****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageResize=void 0;var o=r(/*! ./ImageResize */"./packages/roosterjs-editor-plugins/lib/plugins/ImageResize/ImageResize.ts");Object.defineProperty(t,"ImageResize",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/Paste.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/Paste.ts ***!
  \**********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./imageConverter/convertPasteContentForSingleImage */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/imageConverter/convertPasteContentForSingleImage.ts"),n=r(/*! ./commonConverter/convertPastedContentForLI */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/commonConverter/convertPastedContentForLI.ts"),i=r(/*! ./excelConverter/convertPastedContentFromExcel */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/excelConverter/convertPastedContentFromExcel.ts"),s=r(/*! ./officeOnlineConverter/convertPastedContentFromOfficeOnline */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/convertPastedContentFromOfficeOnline.ts"),a=r(/*! ./pptConverter/convertPastedContentFromPowerPoint */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/pptConverter/convertPastedContentFromPowerPoint.ts"),l=r(/*! ./wordConverter/convertPastedContentFromWord */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/convertPastedContentFromWord.ts"),d=r(/*! ./lineMerge/handleLineMerge */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/lineMerge/handleLineMerge.ts"),u=r(/*! ./sanitizeHtmlColorsFromPastedContent/sanitizeHtmlColorsFromPastedContent */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/sanitizeHtmlColorsFromPastedContent/sanitizeHtmlColorsFromPastedContent.ts"),c=r(/*! ./sanitizeLinks/sanitizeLinks */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/sanitizeLinks/sanitizeLinks.ts"),p=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),f=function(){function e(e,t){void 0===e&&(e="SPAN"),void 0===t&&(t=!1),this.unknownTagReplacement=e,this.convertSingleImageBody=t,this.editor=null}return e.prototype.getName=function(){return"Paste"},e.prototype.initialize=function(e){this.editor=e},e.prototype.dispose=function(){this.editor=null},e.prototype.onPluginEvent=function(e){if(this.editor&&10==e.eventType){var t=e.fragment,r=e.sanitizingOption,f=this.editor.getTrustedHTMLHandler();switch((0,p.getPasteSource)(e,this.convertSingleImageBody)){case 0:(0,l.default)(e);break;case 1:case 2:0!==e.pasteType&&2!==e.pasteType||(0,i.default)(e,f);break;case 3:(0,a.default)(e,f);break;case 5:(0,s.default)(t,r);break;case 4:r.additionalTagReplacements["google-sheets-html-origin"]="*";break;case 7:(0,o.default)(e,f);break;case 6:(0,n.default)(t),(0,d.default)(t)}(0,c.default)(r),(0,u.default)(r),function(e){(0,p.chainSanitizerCallback)(e.cssStyleCallbacks,"display",(function(e){return"flex"!=e}))}(r),r.unknownTagReplacement=this.unknownTagReplacement}},e}();t.default=f},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/commonConverter/convertPastedContentForLI.ts":
/*!**********************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/commonConverter/convertPastedContentForLI.ts ***!
  \**********************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");function n(e){if(e&&!e.nextSibling&&["OL","UL","MENU"].indexOf((0,o.getTagOfNode)(e))<0){var t=!1;if((0,o.toArray)(e.childNodes).every((function(e){var r;return!(!(0,o.safeInstanceOf)(e,"Text")||(null===(r=e.nodeValue)||void 0===r?void 0:r.trim()))||"LI"==(0,o.getTagOfNode)(e)&&(t=!0,!0)}))&&t)return!0}return!1}t.default=function(e){n(e)?(0,o.wrap)((0,o.toArray)(e.childNodes),"UL"):(0,o.safeInstanceOf)(e.firstChild,"HTMLElement")&&n(e.firstChild)&&(0,o.changeElementTag)(e.firstChild,"UL")}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/excelConverter/convertPastedContentFromExcel.ts":
/*!*************************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/excelConverter/convertPastedContentFromExcel.ts ***!
  \*************************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.excelHandler=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=/<\/\s*td\s*>((?!<\/\s*tr\s*>)[\s\S])*$/i,i=/<\/\s*tr\s*>((?!<\/\s*table\s*>)[\s\S])*$/i,s=/<tr[^>]*>[^<]*/i,a=/<table[^>]*>[^<]*/i;function l(e,t){if(e.match(n)){var r=t.match(s);e=(r?r[0]:"<TR>")+e+"</TR>"}if(e.match(i)){var o=t.match(a);e=(o?o[0]:"<TABLE>")+e+"</TABLE>"}return e}t.default=function(e,t){var r=e.fragment,n=e.sanitizingOption,i=e.htmlBefore,s=e.clipboardData,a=s.html?l(s.html,i):void 0;if(a&&s.html!=a){var d=(new DOMParser).parseFromString(t(a),"text/html");(0,o.moveChildNodes)(r,null==d?void 0:d.body)}var u=r.firstChild;u&&u.childNodes.length>0&&"DIV"==(0,o.getTagOfNode)(u)&&Array.from(u.childNodes).every((function(e){return"META"==(0,o.getTagOfNode)(e)||"TABLE"==(0,o.getTagOfNode)(e)&&e==u.lastChild}))&&u.lastChild&&e.fragment.replaceChildren(u.lastChild),(0,o.chainSanitizerCallback)(n.elementCallbacks,"TD",(function(e){return"none"==e.style.borderStyle&&(e.style.border="solid 1px #d4d4d4"),!0}))},t.excelHandler=l},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/imageConverter/convertPasteContentForSingleImage.ts":
/*!*****************************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/imageConverter/convertPasteContentForSingleImage.ts ***!
  \*****************************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t){var r=e.fragment,n=e.clipboardData,i=n.html,s=n.image;if(i&&s){var a=(new DOMParser).parseFromString(t(i),"text/html");(0,o.moveChildNodes)(r,null==a?void 0:a.body)}}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/index.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/index.ts ***!
  \**********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Paste=void 0;var o=r(/*! ./Paste */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/Paste.ts");Object.defineProperty(t,"Paste",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/lineMerge/handleLineMerge.ts":
/*!******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/lineMerge/handleLineMerge.ts ***!
  \******************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");function n(e){var t,r,n,i=e.start,s=e.end;if(i==s&&"DIV"==(0,o.getTagOfNode)(i)){var a=(0,o.changeElementTag)(i,"SPAN");e.start=a,e.end=a,a&&a.lastChild&&"BR"==(0,o.getTagOfNode)(a.lastChild)&&a.removeChild(a.lastChild)}else if("BR"==(0,o.getTagOfNode)(s)){(a=null===(t=s.ownerDocument)||void 0===t?void 0:t.createTextNode(""))&&(null===(r=s.parentNode)||void 0===r||r.insertBefore(a,s),e.end=a,null===(n=s.parentNode)||void 0===n||n.removeChild(s))}}function i(e,t,r,n){var i,s,a,l,d=(0,o.getBlockElementAtNode)(e,t.start),u=r?(0,o.getNextLeafSibling)(e,t.end):(0,o.getPreviousLeafSibling)(e,t.start);if(u)if(null==d?void 0:d.contains(u))(c=null===(i=t.start.ownerDocument)||void 0===i?void 0:i.createElement("br"))&&(null===(s=(r?t.end:t.start).parentNode)||void 0===s||s.insertBefore(c,r?t.end.nextSibling:t.start));else if(n&&n.end==n.start&&"SPAN"==(0,o.getTagOfNode)(n.end)){var c,p=(0,o.getPreviousLeafSibling)(e,t.start);if(n.end.contains(p)&&!(0,o.findClosestElementAncestor)(t.start,e,"li"))(c=null===(a=t.start.ownerDocument)||void 0===a?void 0:a.createElement("br"))&&(null===(l=t.start.parentNode)||void 0===l||l.insertBefore(c,t.start))}}t.default=function(e){for(var t=o.ContentTraverser.createBodyTraverser(e),r=[],s=null==t?void 0:t.currentBlockElement;s;s=t.getNextBlockElement())r.push({start:s.getStartNode(),end:s.getEndNode()});if(r.length>0){var a=r.length-1;n(r[0]),n(r[a]),i(e,r[0],!0),i(e,r[a],!1,r[0])}}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/ListItemBlock.ts":
/*!****************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/ListItemBlock.ts ***!
  \****************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createListItemBlock=void 0,t.createListItemBlock=function(e){return void 0===e&&(e=null),{startElement:e,endElement:e,insertPositionNode:null,listItemContainers:e?[e]:[]}}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/convertPastedContentFromOfficeOnline.ts":
/*!***************************************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/convertPastedContentFromOfficeOnline.ts ***!
  \***************************************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=r(/*! ./convertPastedContentFromWordOnline */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/convertPastedContentFromWordOnline.ts"),i=["TableInsertRowGapBlank","TableColumnResizeHandle","TableCellTopBorderHandle","TableCellLeftBorderHandle","TableHoverColumnHandle","TableHoverRowHandle"].map((function(e){return"."+e})).join(",");t.default=function(e,t){e.querySelectorAll('ul[class^="BulletListStyle"]>.OutlineElement,ol[class^="NumberListStyle"]>.OutlineElement,span.WACImageContainer').forEach((function(e){var t=e;t.style.removeProperty("display"),t.style.removeProperty("margin")})),(0,n.isWordOnlineWithList)(e)&&(0,n.default)(e),(0,o.chainSanitizerCallback)(t.cssStyleCallbacks,"border",(function(e,t){return"IMG"!=t.tagName||"none"!=e})),e.querySelectorAll(i).forEach((function(e){var t;return null===(t=e.parentElement)||void 0===t?void 0:t.removeChild(e)}))}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/convertPastedContentFromWordOnline.ts":
/*!*************************************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/convertPastedContentFromWordOnline.ts ***!
  \*************************************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWordOnlineWithList=void 0;var o=r(/*! ./ListItemBlock */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/officeOnlineConverter/ListItemBlock.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i='div.ListContainerWrapper>ul[class^="BulletListStyle"],div.ListContainerWrapper>ol[class^="NumberListStyle"],span.WACImageContainer > img',s="ListContainerWrapper",a="WACImageContainer",l=["111","9643","9830"];function d(e,t,r){var o,n=t.createElement(r),i=null===(o=e.firstElementChild)||void 0===o?void 0:o.getAttribute("start");return i&&n.setAttribute("start",i),n}function u(e,t,r){var o;if(e){var n,i=r.insertPositionNode;if(i)(n=i.parentNode)&&n.insertBefore(e,i);else(n=null===(o=r.startElement)||void 0===o?void 0:o.parentNode)?n.appendChild(e):t.appendChild(e)}}t.isWordOnlineWithList=function(e){return!(!e||!e.querySelector(i))},t.default=function(e){!function(e){var t=(0,n.toArray)(e.querySelectorAll(i));t.forEach((function(e){var t=new RegExp("\\b"+s+"\\b","g");if(e.previousSibling){var r=(0,n.splitParentNode)(e,!0);r.className=r.className.replace(t,"")}if(e.nextSibling){var o=(0,n.splitParentNode)(e,!1);o.className=o.className.replace(t,"")}}))}(e),function(e){for(var t=e.querySelectorAll("."+s),r=[],i=null,a=0;a<t.length;a++){var l=t[a];if(i){var d=i.listItemContainers,u=d[d.length-1];l==u.nextSibling||u.parentNode&&(0,n.getFirstLeafNode)(l)==(0,n.getNextLeafSibling)(u.parentNode,u)?(d.push(l),i.endElement=l):(i.endElement=u,r.push(i),i=(0,o.createListItemBlock)(l))}else i=(0,o.createListItemBlock)(l)}i&&i.listItemContainers.length>0&&r.push(i);return r}(e).forEach((function(t){var r,o,i;!function(e,t){if(t.startElement&&t.endElement){(0,n.collapseNodes)(e,t.startElement,t.endElement,!0).forEach((function(e){"DIV"==(0,n.getTagOfNode)(e.firstChild)&&(0,n.unwrap)(e)}))}}(e,t),t.insertPositionNode=null!==(o=null===(r=t.endElement)||void 0===r?void 0:r.nextSibling)&&void 0!==o?o:null;var s=void 0,a=e.ownerDocument;t.listItemContainers.forEach((function(r){var o=function(e){var t=(0,n.getTagOfNode)(e.firstChild);return"UL"==t||"OL"==t?t:null}(r);o&&(s||(s=d(r,a,o)),(0,n.toArray)(r.querySelectorAll("li")).forEach((function(i){var c,p=parseInt(null!==(c=i.getAttribute("data-aria-level"))&&void 0!==c?c:"");s&&(0,n.getTagOfNode)(s)!=o&&1==p&&o&&(u(s,e,t),s=d(r,a,o)),s&&o&&function(e,t,r,o){var i;if(!r)return;var s=parseInt(null!==(i=t.getAttribute("data-aria-level"))&&void 0!==i?i:""),a=t.getAttribute("data-leveltext");"UL"==r&&a&&l.indexOf(a.charCodeAt(0).toString())>-1&&(t.style.listStyleType='"'+a+'  "');var d=e;for(;s>1;){if(d.firstChild){var u=d.lastElementChild,c=(0,n.getTagOfNode)(u);!u||"UL"!=c&&"OL"!=c?(d.appendChild(o.createElement(r)),d.lastElementChild&&(d=d.lastElementChild)):d=u}else d.appendChild(o.createElement(r)),d.firstElementChild&&(d=d.firstElementChild);s--}d.appendChild(t)}(s,i,o,a)})))})),s&&u(s,e,t);var c=null===(i=t.startElement)||void 0===i?void 0:i.parentNode;c&&t.listItemContainers.forEach((function(e){c.removeChild(e)}))})),function(e){return e.querySelectorAll("."+a)}(e).forEach((function(e){(0,n.safeInstanceOf)(e,"HTMLSpanElement")&&e.childNodes.forEach((function(e){var t;"IMG"!=(0,n.getTagOfNode)(e)&&(null===(t=e.parentElement)||void 0===t||t.removeChild(e))}))}))}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/pptConverter/convertPastedContentFromPowerPoint.ts":
/*!****************************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/pptConverter/convertPastedContentFromPowerPoint.ts ***!
  \****************************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.default=function(e,t){var r=e.fragment,n=e.clipboardData;if(n.html&&!n.text&&n.image){var i=(new DOMParser).parseFromString(t(n.html),"text/html");(0,o.moveChildNodes)(r,null==i?void 0:i.body)}}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/sanitizeHtmlColorsFromPastedContent/deprecatedColorList.ts":
/*!************************************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/sanitizeHtmlColorsFromPastedContent/deprecatedColorList.ts ***!
  \************************************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeprecatedColorList=void 0,t.DeprecatedColorList=["activeborder","activecaption","appworkspace","background","buttonhighlight","buttonshadow","captiontext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedfhadow","window","windowframe","windowtext"]},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/sanitizeHtmlColorsFromPastedContent/sanitizeHtmlColorsFromPastedContent.ts":
/*!****************************************************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/sanitizeHtmlColorsFromPastedContent/sanitizeHtmlColorsFromPastedContent.ts ***!
  \****************************************************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=r(/*! ./deprecatedColorList */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/sanitizeHtmlColorsFromPastedContent/deprecatedColorList.ts");t.default=function(e){["color","background-color"].forEach((function(t){(0,o.chainSanitizerCallback)(e.cssStyleCallbacks,t,(function(e){return n.DeprecatedColorList.indexOf(e)<0}))}))}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/sanitizeLinks/sanitizeLinks.ts":
/*!********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/sanitizeLinks/sanitizeLinks.ts ***!
  \********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=["http:","https:","notes:","mailto:","onenote:"];t.default=function(e){(0,o.chainSanitizerCallback)(e.attributeCallbacks,"href",(function(e,t){return function(e,t){var r;try{r=new URL(e)}catch(e){r=void 0}if(r&&n.indexOf(r.protocol)>-1)return e;return t.removeAttribute("href"),""}(e,t)}))}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/LevelLists.ts":
/*!*****************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/LevelLists.ts ***!
  \*****************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLevelLists=void 0,t.createLevelLists=function(){return{listsMetadata:{},currentUniqueListId:-1}}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordConverterArguments.ts":
/*!*****************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordConverterArguments.ts ***!
  \*****************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWordConverterArguments=void 0;var o=r(/*! ./LevelLists */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/LevelLists.ts");t.createWordConverterArguments=function(e){return{nodes:e,currentIndex:0,lists:{},listItems:[],currentListIdsByLevels:[(0,o.createLevelLists)()],lastProcessedItem:null}}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordCustomData.ts":
/*!*********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordCustomData.ts ***!
  \*********************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObject=t.setObject=t.createCustomData=void 0;var r="NodeId";function o(e,t){var o=t.getAttribute(r);return o||(o=e.nextNodeId.toString(),e.nextNodeId++,t.setAttribute(r,o)),o}t.createCustomData=function(){return{dict:{},nextNodeId:1}},t.setObject=function(e,t,r,n){if(1==t.nodeType){var i=o(e,t);""!=i&&(e.dict[i]||(e.dict[i]={}),e.dict[i][r]=n)}},t.getObject=function(e,t,r){if(1==t.nodeType){var n=o(e,t);if(""!=n)return e.dict[n]&&e.dict[n][r]}return null}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/commentsRemoval.ts":
/*!**********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/commentsRemoval.ts ***!
  \**********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n="mso-comment-parent",i="mso-comment-reference",s="mso-comment-date",a=/#_msocom_/,l="mso-comment-continuation",d="mso-comment-done";t.default=function(e,t){(0,o.chainSanitizerCallback)(e,"SPAN",(function(e){var t;return"comment"==(0,o.getStyles)(e)["mso-special-character"]&&(null===(t=e.parentElement)||void 0===t||t.removeChild(e)),!0})),(0,o.chainSanitizerCallback)(e,"A",(function(e){var t;return(0,o.safeInstanceOf)(e,"HTMLAnchorElement")&&a.test(e.href)&&(null===(t=e.parentElement)||void 0===t||t.removeChild(e)),!0})),(0,o.chainSanitizerCallback)(e,"DIV",(function(e){return"comment-list"==(0,o.getStyles)(e)["mso-element"]&&(0,o.moveChildNodes)(e),!0})),[i,s,n,l,d].forEach((function(e){return(0,o.chainSanitizerCallback)(t,e,(function(){return!1}))}))}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/convertPastedContentFromWord.ts":
/*!***********************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/convertPastedContentFromWord.ts ***!
  \***********************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./commentsRemoval */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/commentsRemoval.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i=r(/*! ./wordConverter */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/wordConverter.ts"),s=r(/*! ./WordConverterArguments */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordConverterArguments.ts"),a=r(/*! ./converterUtils */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/converterUtils.ts"),l=/%/;t.default=function(e){var t=e.sanitizingOption,r=e.fragment;(0,n.chainSanitizerCallback)(t.elementCallbacks,"O:P",(function(e){return(0,n.moveChildNodes)(e),e.appendChild(e.ownerDocument.createTextNode(" ")),!0}));var d=(0,i.createWordConverter)(),u=r.querySelectorAll("p,h1,h2,h3,h4,h5,h6");u.length>0&&(d.wordConverterArgs=(0,s.createWordConverterArguments)(u),(0,a.processNodesDiscovery)(d)&&(0,a.processNodeConvert)(d)),["OL","UL"].forEach((function(e){(0,n.chainSanitizerCallback)(t.elementCallbacks,e,(function(e){return"0in"==e.style.marginBottom&&(e.style.marginBottom=""),!0}))})),(0,n.chainSanitizerCallback)(t.cssStyleCallbacks,"line-height",(function(e){var t;return!(l.test(e)&&!isNaN(t=parseInt(e))&&t<120)})),(0,o.default)(t.elementCallbacks,t.cssStyleCallbacks)}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/converterUtils.ts":
/*!*********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/converterUtils.ts ***!
  \*********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processNodeConvert=t.processNodesDiscovery=void 0;var o=r(/*! ./LevelLists */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/LevelLists.ts"),n=r(/*! ./WordCustomData */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordCustomData.ts"),i=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),s="UniqueListId",a="mso-list",l=/[\n|\r]/gi;function d(e,t,r,o){var a,l=u(t,r.level,o),d=(0,n.getObject)(e.wordCustomData,l,s);if(d&&d!=r.uniqueListId||!d&&l.firstChild){var c=t.ownerDocument.createElement(o.tagName);null===(a=l.parentNode)||void 0===a||a.insertBefore(c,l.nextSibling),l=c}return(0,n.setObject)(e.wordCustomData,l,s,r.uniqueListId),function(e,t,r){var o,a,l;if(r.tagName!=(0,i.getTagOfNode)(t)){var d=null===(o=t.ownerDocument)||void 0===o?void 0:o.createElement(r.tagName);d&&((0,n.setObject)(e.wordCustomData,d,s,(0,n.getObject)(e.wordCustomData,t,s)),(0,i.moveChildNodes)(d,t),null===(a=t.parentNode)||void 0===a||a.insertBefore(d,t),null===(l=t.parentNode)||void 0===l||l.removeChild(t),t=d)}return t}(e,l,o)}function u(e,t,r){var o,n,s=null,a=null;if(1==t?a=v(e):(s=u(e,t-1,null)).lastChild&&(a=s.lastChild),a&&1==a.nodeType){var l=(0,i.getTagOfNode)(a);if("UL"==l||"OL"==l)return a}var d=null===(o=e.ownerDocument)||void 0===o?void 0:o.createElement(r?r.tagName:"UL");return 1==t?null===(n=e.parentNode)||void 0===n||n.insertBefore(d,e):null==s||s.appendChild(d),d}function c(e,t){for(var r=[],o=e.firstChild;o;o=o.nextSibling)o&&(o&&1==o.nodeType&&t>1&&c(o,t-1),(y(o=m(o,!0))||b(o))&&r.push(o));r.forEach((function(t){return e.removeChild(t)}))}function p(e){if(1==e.nodeType){var t=E(e,a);if(t&&t.length>0)try{var r=t.split(" ");if(3==r.length)return{level:parseInt(r[1].substr(5)),wordListId:t,originalNode:e,uniqueListId:0}}catch(e){}}return null}function f(e){return["o","·","§","-"].indexOf(e)>=0}function g(e,t){for(var r,o,n="",i=e.firstChild;!n&&i;)b(i=m(i,!0))?0==(n=null!==(o=null===(r=i.textContent)||void 0===r?void 0:r.trim())&&void 0!==o?o:"").length&&(n="o"):1==i.nodeType&&t>1&&(n=g(i,t-1)),i=i.nextSibling;return n}function m(e,t){var r,o,n,i;if(8==e.nodeType){var s=e.data;if(s&&"[if !supportlists]"==s.trim().toLowerCase()){for(var a=e,l=null,d=0;d<4&&(a=h(a));d++)if(8==a.nodeType&&(s=a.data)&&"[endif]"==s.trim().toLowerCase()){l=a;break}if(l){var u=null===(r=e.ownerDocument)||void 0===r?void 0:r.createElement("span");for(null==u||u.setAttribute("style","mso-list: ignore"),a=h(e);a!=l;)(a=null==a?void 0:a.nextSibling).previousSibling&&(null==u||u.appendChild(a.previousSibling));u&&(null===(o=l.parentNode)||void 0===o||o.insertBefore(u,l)),t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e),null===(i=l.parentNode)||void 0===i||i.removeChild(l)),u&&(e=u)}}}return e}function v(e){var t=e;do{t=t.previousSibling}while(t&&C(t));return t}function h(e){var t=e;do{t=t.nextSibling}while(t&&C(t));return t}function b(e){if(1==e.nodeType){var t=E(e,a);if(t&&t.length>0&&"ignore"==t.trim().toLowerCase())return!0}return!1}function y(e){return"SPAN"==(0,i.getTagOfNode)(e)&&!e.firstChild}function E(e,t){return(0,i.getStyles)(e)[t]||null}function C(e){var t;if(!e)return!0;if(3==e.nodeType){var r=e.nodeValue;return 0==(null==(r=null!==(t=null==r?void 0:r.replace(l,""))&&void 0!==t?t:"")?void 0:r.trim().length)}var o=(0,i.getTagOfNode)(e);return!(!e.firstChild||e.firstChild!=e.lastChild||"SPAN"!=o&&"FONT"!=o)&&C(e.firstChild)}function k(e){for(var t=0;t<e.currentListIdsByLevels.length;t++){var r=e.currentListIdsByLevels[t];r&&(r.currentUniqueListId=-1)}}t.processNodesDiscovery=function(e){var t,r,n=e.wordConverterArgs;if(!n)return!1;for(;n.currentIndex<n.nodes.length;){var s=n.nodes.item(n.currentIndex),a=p(s);if(a){var l=n.currentListIdsByLevels[a.level-1]||(0,o.createLevelLists)();n.currentListIdsByLevels[a.level-1]=l,n.lastProcessedItem&&v(s)!=n.lastProcessedItem&&k(n);var d=l.listsMetadata[a.wordListId];if(d){if(!d.ignore&&1==d.numberOfItems){var u=g(s,5);d.tagName=d.firstFakeBullet==u?"UL":"OL"}}else{var c=g(s,5);d={numberOfItems:0,uniqueListId:e.nextUniqueId++,firstFakeBullet:c,ignore:!c||0==c.length,tagName:(r=c,f(r)?"UL":"OL")},l.listsMetadata[a.wordListId]=d,n.lists[d.uniqueListId.toString()]=d}a.uniqueListId=d.uniqueListId,d.ignore||"OL"==d.tagName&&d.numberOfItems>0&&l.currentUniqueListId!=a.uniqueListId?(d.ignore=!0,n.currentListIdsByLevels[0].currentUniqueListId=-1,n.currentListIdsByLevels=n.currentListIdsByLevels.slice(0,1)):(n.currentListIdsByLevels.length>a.level&&(n.currentListIdsByLevels=n.currentListIdsByLevels.slice(0,a.level)),l.currentUniqueListId=a.uniqueListId,n.listItems.push(a),d.numberOfItems++),n.lastProcessedItem=s}else{var m=n.lastProcessedItem;m&&v(s)==m&&s.tagName==m.tagName&&s.className==m.className&&(m.appendChild(m.ownerDocument.createElement("br")),m.appendChild(m.ownerDocument.createElement("br")),(0,i.moveChildNodes)(m,s,!0),null===(t=s.parentNode)||void 0===t||t.removeChild(s))}n.currentIndex++}return n.listItems.length>0},t.processNodeConvert=function(e){var t,r=e.wordConverterArgs;if(r)for(r.currentIndex=0;r.currentIndex<r.listItems.length;){var o=r.listItems[r.currentIndex],n=o.originalNode,s=r.lists[o.uniqueListId.toString()];if(!s.ignore){var a=d(e,n,o,s);if(a){c(n,5);var l=n.ownerDocument.createElement("LI");if((0,i.getTagOfNode)(n).startsWith("H")){var u=n.cloneNode(!0);u.style.textIndent="",u.style.marginLeft="",u.style.marginRight="",l.appendChild(u)}else(0,i.moveChildNodes)(l,n);a.appendChild(l),null===(t=n.parentNode)||void 0===t||t.removeChild(n),"UL"==s.tagName?e.numBulletsConverted++:e.numNumberedConverted++}}r.currentIndex++}return e.numBulletsConverted>0||e.numNumberedConverted>0}},"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/wordConverter.ts":
/*!********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/wordConverter.ts ***!
  \********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWordConverter=void 0;var o=r(/*! ./WordCustomData */"./packages/roosterjs-editor-plugins/lib/plugins/Paste/wordConverter/WordCustomData.ts");t.createWordConverter=function(){return{nextUniqueId:1,numBulletsConverted:0,numNumberedConverted:0,wordConverterArgs:null,wordCustomData:(0,o.createCustomData)()}}},"./packages/roosterjs-editor-plugins/lib/plugins/Picker/PickerPlugin.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Picker/PickerPlugin.ts ***!
  \******************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-api */"./packages/roosterjs-editor-api/lib/index.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i="Backspace",s=n.Browser.isIE?"Esc":"Escape",a=n.Browser.isIE?"Left":"ArrowLeft",l=n.Browser.isIE?"Up":"ArrowUp",d=n.Browser.isIE?"Right":"ArrowRight",u=n.Browser.isIE?"Down":"ArrowDown",c=n.Browser.isIE?"Del":"Delete",p=[0,229],f=function(){function e(e,t){this.dataProvider=e,this.pickerOptions=t,this.editor=null,this.eventHandledOnKeyDown=!1,this.blockSuggestions=!1,this.isSuggesting=!1,this.lastKnownRange=null,this.isPendingInputEventHandling=!1,this.currentInputLength=0,this.newInputLength=0}return e.prototype.getName=function(){return"Picker"},e.prototype.initialize=function(e){var t=this;this.editor=e,this.dataProvider.onInitalize((function(e){if(t.editor){t.editor.focus();var r=t.getWord(null);r&&0!=r.length||!t.lastKnownRange||(t.editor.select(t.lastKnownRange),r=t.getWord(null));t.editor.addUndoSnapshot((function(){var n;r&&t.editor?(0,o.replaceWithNode)(t.editor,r,e,!0):null===(n=t.editor)||void 0===n||n.insertNode(e),t.setIsSuggesting(!1)}),t.pickerOptions.changeSource,t.pickerOptions.handleAutoComplete)}}),(function(e){t.setIsSuggesting(e)}),e)},e.prototype.dispose=function(){this.editor=null,this.isSuggesting=!1,this.blockSuggestions=!1,this.eventHandledOnKeyDown=!1,this.lastKnownRange=null,this.isPendingInputEventHandling=!1,this.currentInputLength=0,this.newInputLength=0,this.dataProvider.onDispose()},e.prototype.willHandleEventExclusively=function(e){return this.isSuggesting&&(0==e.eventType||2==e.eventType||3==e.eventType)},e.prototype.onPluginEvent=function(e){var t;switch(e.eventType){case 7:if("SetContent"==e.source&&this.dataProvider.onContentChanged){this.isSuggesting&&this.setIsSuggesting(!1);var r=[];null===(t=this.editor)||void 0===t||t.queryElements("[id^='"+this.pickerOptions.elementIdPrefix+"']",(function(e){e.id&&r.push(e.id)})),this.dataProvider.onContentChanged(r)}break;case 0:this.eventHandledOnKeyDown=!1,this.isAndroidKeyboardEvent(e)?(this.currentInputLength=this.calcInputLength(e),this.isPendingInputEventHandling=!0):(this.onKeyDownEvent(e),this.isPendingInputEventHandling=!1);break;case 3:this.isPendingInputEventHandling&&this.onAndroidInputEvent(e);break;case 2:!this.eventHandledOnKeyDown&&this.shouldHandleKeyUpEvent(e)&&(this.onKeyUpDomEvent(e),this.isPendingInputEventHandling=!1);break;case 6:this.isSuggesting&&this.setIsSuggesting(!1);break;case 14:this.dataProvider.onScroll&&this.dataProvider.onScroll(e.scrollContainer)}},e.prototype.setLastKnownRange=function(e){this.lastKnownRange=e},e.prototype.setIsSuggesting=function(e){this.isSuggesting=e,e||this.setLastKnownRange(null),this.dataProvider.onIsSuggestingChanged(e),this.setAriaOwns(e),this.setAriaActiveDescendant(e?0:null)},e.prototype.cancelDefaultKeyDownEvent=function(e){this.eventHandledOnKeyDown=!0,e.rawEvent.preventDefault(),e.rawEvent.stopImmediatePropagation()},e.prototype.getIdValue=function(e){if((0,n.safeInstanceOf)(e,"HTMLElement")){var t=e.attributes.getNamedItem("id");return t?t.value:null}return null},e.prototype.getWordBeforeCursor=function(e){var t,r=null===(t=this.editor)||void 0===t?void 0:t.getContentSearcherOfCursor(e);return r?r.getWordBefore():null},e.prototype.replaceNode=function(e,t){var r,o=this;null===(r=this.editor)||void 0===r||r.addUndoSnapshot((function(){var r,n;e&&(null===(r=o.editor)||void 0===r||r.deleteNode(e)),t&&(null===(n=o.editor)||void 0===n||n.insertNode(t))}),"Keyboard")},e.prototype.getRangeUntilAt=function(e){var t,r,o,i=this,s=null===(t=this.editor)||void 0===t?void 0:t.getContentSearcherOfCursor(e),a=void 0,l=void 0;return null==s||s.forEachTextInlineElement((function(e){for(var t=!1,r=e.getTextContent(),o=r?r.length:-1;o>=0;){if(r[o]==i.pickerOptions.triggerCharacter){a=e.getStartPosition().move(o),t=!0;break}o--}return t&&(l=e.getEndPosition()),t})),a?(0,n.createRange)(a,l):null!==(o=null===(r=this.editor)||void 0===r?void 0:r.getDocument().createRange())&&void 0!==o?o:null},e.prototype.shouldHandleKeyUpEvent=function(e){return this.isAndroidKeyboardEvent(e)||(0,n.isCharacterValue)(e.rawEvent)||this.isSuggesting&&!(0,n.isModifierKey)(e.rawEvent)},e.prototype.onKeyUpDomEvent=function(e){var t,r,o,n,i;if(this.editor)if(this.isSuggesting){if(null!==(a=this.getWord(e))){var s=(l=a.substring(1)).trim();a==this.pickerOptions.triggerCharacter||s&&s.length>0&&s.split(" ").length<=4?(this.dataProvider.queryStringUpdated(s,l==s),this.setLastKnownRange(null!==(t=this.editor.getSelectionRange())&&void 0!==t?t:null)):this.setIsSuggesting(!1)}}else{var a=this.getWordBeforeCursor(e);if(this.blockSuggestions)null!=a&&a[0]!=this.pickerOptions.triggerCharacter&&(this.blockSuggestions=!1);else if(null!=a&&a.split(" ").length<=4&&a[0]==this.pickerOptions.triggerCharacter){this.setIsSuggesting(!0);var l;s=(l=a.substring(1)).trim();if(this.dataProvider.queryStringUpdated(s,l==s),this.setLastKnownRange(null!==(r=this.editor.getSelectionRange())&&void 0!==r?r:null),this.dataProvider.setCursorPoint){var d=this.editor.getContentSearcherOfCursor(e),u=this.editor.getDocument().createRange();if(u){var c=null!==(n=null===(o=null==d?void 0:d.getInlineElementBefore())||void 0===o?void 0:o.getContainerNode())&&void 0!==n?n:null;if(!this.setRangeStart(u,c,a)){var p=null!==(i=null==c?void 0:c.previousSibling)&&void 0!==i?i:null;this.setRangeStart(u,p,this.pickerOptions.triggerCharacter)}var f=u.getBoundingClientRect();if(0==f.left&&0==f.bottom&&0==f.top&&(f=u.getClientRects()[0]),f){u.detach();var g={x:f.left,y:(f.bottom+f.top)/2},m=(f.bottom-f.top)/2;this.dataProvider.setCursorPoint(g,m)}}}}}},e.prototype.onKeyDownEvent=function(e){var t,r=e.rawEvent;if(this.isSuggesting)if(r.key==s)this.setIsSuggesting(!1),this.blockSuggestions=!0,this.cancelDefaultKeyDownEvent(e);else if(r.key==i){this.getWord(e)==this.pickerOptions.triggerCharacter&&this.setIsSuggesting(!1)}else this.dataProvider.shiftHighlight&&(this.pickerOptions.isHorizontal?r.key==a||r.key==d:r.key==l||r.key==u)?(this.dataProvider.shiftHighlight(this.pickerOptions.isHorizontal?r.key==d:r.key==u),this.dataProvider.getSelectedIndex&&this.setAriaActiveDescendant(this.dataProvider.getSelectedIndex()),this.cancelDefaultKeyDownEvent(e)):!this.dataProvider.selectOption||"Enter"!=r.key&&"Tab"!=r.key||(this.dataProvider.selectOption(),this.cancelDefaultKeyDownEvent(e));else if(r.key==i)this.tryRemoveNode(e)&&this.cancelDefaultKeyDownEvent(e);else if(r.key==c){var o=null===(t=this.editor)||void 0===t?void 0:t.getContentSearcherOfCursor(e);if(o){var n=o.getInlineElementAfter(),p=n?n.getContainerNode():null,f=(p=this.getParentNodeIfTextNode(p))?this.getIdValue(p):null;if(f&&0==f.indexOf(this.pickerOptions.elementIdPrefix)&&p){var g=this.dataProvider.onRemove(p,!1);this.replaceNode(p,g),this.cancelDefaultKeyDownEvent(e)}}}},e.prototype.getParentNodeIfTextNode=function(e){return(0,n.safeInstanceOf)(e,"Text")&&(e=e.parentNode),e},e.prototype.onAndroidInputEvent=function(e){(this.newInputLength=this.calcInputLength(e),this.newInputLength<this.currentInputLength||"deleteContentBackwards"===e.rawEvent.inputType)&&(this.tryRemoveNode(e)&&(this.eventHandledOnKeyDown=!0))},e.prototype.calcInputLength=function(e){var t=this.getInlineElementBeforeCursor(e);return t?t.length:0},e.prototype.tryRemoveNode=function(e){if(!this.editor)return!1;var t=this.editor.getContentSearcherOfCursor(e);if(!t)return!1;var r=t.getInlineElementBefore(),o=r?r.getContainerNode():null,i=(o=this.getParentNodeIfTextNode(o))?this.getIdValue(o):null,s=t.getInlineElementAfter();if(o&&i&&0==i.indexOf(this.pickerOptions.elementIdPrefix)&&(null==s||!(s instanceof n.PartialInlineElement))){var a=this.dataProvider.onRemove(o,!0);return a?(this.replaceNode(o,a),this.isPendingInputEventHandling?this.editor.runAsync((function(e){e.select(a,-3)})):this.editor.select(a,-3),!0):(this.editor.select(o),!1)}return!1},e.prototype.getWord=function(e){var t,r,o=null!==(r=null===(t=this.getRangeUntilAt(e))||void 0===t?void 0:t.toString())&&void 0!==r?r:"",n=this.getWordBeforeCursor(e);return o==this.pickerOptions.triggerCharacter&&o!=n?n:o},e.prototype.setRangeStart=function(e,t,r){var o=(null==t?void 0:t.textContent)?t.textContent.lastIndexOf(r):-1;return!!(t&&o>-1)&&(e.setStart(t,o),!0)},e.prototype.setAriaOwns=function(e){var t;null===(t=this.editor)||void 0===t||t.setEditorDomAttribute("aria-owns",e&&this.pickerOptions.suggestionsLabel?this.pickerOptions.suggestionsLabel:null)},e.prototype.setAriaActiveDescendant=function(e){var t;null===(t=this.editor)||void 0===t||t.setEditorDomAttribute("aria-activedescendant",null!=e&&this.pickerOptions.suggestionLabelPrefix?this.pickerOptions.suggestionLabelPrefix+e.toString():null)},e.prototype.getInlineElementBeforeCursor=function(e){var t,r=null===(t=this.editor)||void 0===t?void 0:t.getContentSearcherOfCursor(e),o=r?r.getInlineElementBefore():null;return o?o.getTextContent():null},e.prototype.isAndroidKeyboardEvent=function(e){return"Unidentified"==e.rawEvent.key||null==e.rawEvent.key&&p.indexOf(e.rawEvent.charCode)>-1},e}();t.default=f},"./packages/roosterjs-editor-plugins/lib/plugins/Picker/index.ts":
/*!***********************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Picker/index.ts ***!
  \***********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PickerPlugin=void 0;var o=r(/*! ./PickerPlugin */"./packages/roosterjs-editor-plugins/lib/plugins/Picker/PickerPlugin.ts");Object.defineProperty(t,"PickerPlugin",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/TableCellSelection.ts":
/*!************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/TableCellSelection.ts ***!
  \************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./utils/clearState */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/clearState.ts"),n=r(/*! ./features/DeleteTableContents */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/features/DeleteTableContents.ts"),i=r(/*! ./keyUtils/handleKeyDownEvent */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/keyUtils/handleKeyDownEvent.ts"),s=r(/*! ./keyUtils/handleKeyUpEvent */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/keyUtils/handleKeyUpEvent.ts"),a=r(/*! ./mouseUtils/handleMouseDownEvent */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/mouseUtils/handleMouseDownEvent.ts"),l=r(/*! ./mouseUtils/handleScrollEvent */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/mouseUtils/handleScrollEvent.ts"),d=function(){function e(){this.editor=null,this.state={firstTable:null,lastTarget:null,firstTarget:null,preventKeyUp:!1,startedSelection:!1,tableSelection:!1,targetTable:null,vTable:null,mouseMoveDisposer:null}}return e.prototype.getName=function(){return"TableCellSelection"},e.prototype.initialize=function(e){this.editor=e,this.editor.addContentEditFeature(n.DeleteTableContents)},e.prototype.dispose=function(){(0,o.clearState)(this.state,this.editor),this.state=null,this.editor=null},e.prototype.onPluginEvent=function(e){if(this.editor&&this.state)switch(e.eventType){case 5:this.state.startedSelection||(0,a.handleMouseDownEvent)(e,this.state,this.editor);break;case 0:this.state.startedSelection?e.rawEvent.preventDefault():(0,i.handleKeyDownEvent)(e,this.state,this.editor);break;case 2:this.state.startedSelection?e.rawEvent.preventDefault():(0,s.handleKeyUpEvent)(e,this.state,this.editor);break;case 14:this.state.startedSelection&&(0,l.handleScrollEvent)(this.state,this.editor);break;case 20:this.state.firstTable=null,this.state.tableSelection=!1,this.editor.select(null)}},e}();t.default=d},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/constants.ts":
/*!***************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/constants.ts ***!
  \***************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TABLE_CELL_SELECTOR=void 0,t.TABLE_CELL_SELECTOR="td,th"},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/features/DeleteTableContents.ts":
/*!**********************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/features/DeleteTableContents.ts ***!
  \**********************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteTableContents=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=r(/*! ../constants */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/constants.ts");function i(e,t){if((0,o.safeInstanceOf)(e,"HTMLTableCellElement")){var r=new Range;r.selectNodeContents(e),r.deleteContents(),e.appendChild(t.getDocument().createElement("br"))}}t.DeleteTableContents={keys:[46,8],shouldHandleEvent:function(e,t){return 1==t.getSelectionRangeEx().type},handleEvent:function(e,t){var r=t.getSelectionRangeEx();1==r.type&&t.addUndoSnapshot((function(){r.isWholeTableSelected?r.table.querySelectorAll(n.TABLE_CELL_SELECTOR).forEach((function(e){return i(e,t)})):t.getSelectedRegions().forEach((function(e){return i(e.rootNode,t)}))}))}}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/index.ts":
/*!***********************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/index.ts ***!
  \***********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TableCellSelection=void 0;var o=r(/*! ./TableCellSelection */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/TableCellSelection.ts");Object.defineProperty(t,"TableCellSelection",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/keyUtils/handleKeyDownEvent.ts":
/*!*********************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/keyUtils/handleKeyDownEvent.ts ***!
  \*********************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleKeyDownEvent=void 0;var o=r(/*! ../utils/getCellAtCursor */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getCellAtCursor.ts"),n=r(/*! ../utils/getCellCoordinates */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getCellCoordinates.ts"),i=r(/*! ../utils/isAfter */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/isAfter.ts"),s=r(/*! ../utils/prepareSelection */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/prepareSelection.ts"),a=r(/*! ../utils/selectTable */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/selectTable.ts"),l=r(/*! ../utils/setData */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/setData.ts"),d=r(/*! ../constants */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/constants.ts"),u=r(/*! ../utils/updateSelection */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/updateSelection.ts"),c=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.handleKeyDownEvent=function(e,t,r){var p=e.rawEvent,f=p.shiftKey,g=p.ctrlKey,m=p.metaKey,v=p.which,h=p.defaultPrevented;if(f&&(g||m)||16==v||h)t.preventKeyUp=h;else{var b=r.getSelectionRangeEx();if(f){if(!t.firstTarget){var y=r.getFocusedPosition(),E=y&&(0,o.getCellAtCursor)(r,y.node);t.firstTarget=E}if(!(0,c.safeInstanceOf)(t.firstTarget,"HTMLTableCellElement"))return;r.runAsync((function(r){var p=r.getFocusedPosition(),f=t.tableSelection?t.lastTarget:null==p?void 0:p.node;if(f&&(0,l.setData)(f,t,r),t.firstTable==t.targetTable){if(!function(e,t){if(!e.firstTable||!t)return!1;var r=t.getSelectedRegions();if(1==r.length)return!1;var o=!0;return r.forEach((function(t){(0,c.contains)(e.firstTable,t.rootNode)||(o=!1)})),o}(t,r)&&!t.tableSelection)return;!function(e,t,r){var l,p;t.firstTarget=(0,o.getCellAtCursor)(r,t.firstTarget),t.lastTarget=(0,o.getCellAtCursor)(r,t.lastTarget),(0,u.updateSelection)(r,t.firstTarget,0),t.vTable=t.vTable||new c.VTable(t.firstTable);var f=(0,n.getCellCoordinates)(t.vTable,t.firstTarget),g=function(e,t,r){var o;if(r.lastTarget=r.lastTarget&&t.getElementAtCursor(d.TABLE_CELL_SELECTOR,r.lastTarget),(0,c.safeInstanceOf)(r.lastTarget,"HTMLTableCellElement")&&(null===(o=r.vTable)||void 0===o?void 0:o.cells)){var i=(0,n.getCellCoordinates)(r.vTable,r.lastTarget);if(r.tableSelection&&i)switch(e.rawEvent.which){case 39:i.x+=r.lastTarget.colSpan,null==r.vTable.cells[i.y][i.x]&&(i.x=r.vTable.cells[i.y].length-1,i.y++);break;case 37:0==i.x?i.y--:i.x--;break;case 38:i.y--;break;case 40:i.y++}return i&&i.y>=0&&i.x>=0&&(r.lastTarget=r.vTable.getTd(i.y,i.x)),i}return}(e,r,t);if(!f||!g)return;t.vTable.selection={firstCell:f,lastCell:g};var m=t.vTable.selection;if(!m.lastCell||t.vTable.cells&&m.lastCell.y>t.vTable.cells.length-1||-1==m.lastCell.y)if(t.lastTarget=r.getElementAtCursor(d.TABLE_CELL_SELECTOR+",div",null!==(l=t.firstTable)&&void 0!==l?l:void 0),(0,c.safeInstanceOf)(t.lastTarget,"HTMLTableCellElement"))(0,s.prepareSelection)(t,r);else{var v=t.targetTable&&new c.Position(t.targetTable,null==m.lastCell.y||-1==m.lastCell.y?-2:-3),h=null===(p=r.getDocument().defaultView)||void 0===p?void 0:p.getSelection(),b=h||{},y=b.anchorNode,E=b.anchorOffset;if(h&&y&&null!=E&&null!=E&&v)return r.select(h.getRangeAt(0)),h.setBaseAndExtent(y,E,v.node,v.offset),t.lastTarget=v.node,void e.rawEvent.preventDefault()}(0,a.selectTable)(r,t);var C=(0,i.isAfter)(t.firstTarget,t.lastTarget);if(t.lastTarget){var k=new c.Position(t.lastTarget,C?0:-1);(0,u.updateSelection)(r,k.node,k.offset)}t.tableSelection=!0,e.rawEvent.preventDefault()}(e,t,r)}else t.tableSelection&&(t.firstTable&&r.select(t.firstTable,null),t.tableSelection=!1)}))}else if(1==(null==b?void 0:b.type)&&(!(0,c.isCtrlOrMetaPressed)(e.rawEvent)||36==v||35==v)){var C=b.ranges[0],k=C.startContainer.childNodes[C.startOffset].childNodes,S=(0,c.createRange)(k[0],k[k.length-1]);r.select(S)}}}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/keyUtils/handleKeyUpEvent.ts":
/*!*******************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/keyUtils/handleKeyUpEvent.ts ***!
  \*******************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleKeyUpEvent=void 0;var o=r(/*! ../utils/clearState */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/clearState.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i=[16,18,91,17,44];t.handleKeyUpEvent=function(e,t,r){var s=e.rawEvent,a=s.shiftKey,l=s.which,d=s.ctrlKey;a||d||!t.firstTarget||t.preventKeyUp||-1!=i.indexOf(l)||((0,n.isCharacterValue)(e.rawEvent)&&r.addUndoSnapshot(),(0,o.clearState)(t,r)),t.preventKeyUp=!1}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/mouseUtils/handleMouseDownEvent.ts":
/*!*************************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/mouseUtils/handleMouseDownEvent.ts ***!
  \*************************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectionInsideTableMouseMove=t.handleMouseDownEvent=void 0;var o=r(/*! ../utils/normalizeTableSelection */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/normalizeTableSelection.ts"),n=r(/*! ../utils/clearState */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/clearState.ts"),i=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),s=r(/*! ../utils/getCellAtCursor */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getCellAtCursor.ts"),a=r(/*! ../utils/getCellCoordinates */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getCellCoordinates.ts"),l=r(/*! ../utils/getTableAtCursor */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getTableAtCursor.ts"),d=r(/*! ../utils/prepareSelection */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/prepareSelection.ts"),u=r(/*! ../utils/restoreSelection */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/restoreSelection.ts"),c=r(/*! ../utils/selectTable */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/selectTable.ts"),p=r(/*! ../utils/setData */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/setData.ts"),f=r(/*! ../constants */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/constants.ts"),g=r(/*! ../utils/updateSelection */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/updateSelection.ts");function m(e,t,r){var o;if(t.firstTarget&&t.firstTable&&t.lastTarget!=t.firstTarget&&t.lastTarget){if((0,g.updateSelection)(r,t.firstTarget,0),t.firstTable!=t.targetTable&&(null===(o=t.targetTable)||void 0===o?void 0:o.contains(t.firstTable))&&(t.firstTarget=r.getElementAtCursor(f.TABLE_CELL_SELECTOR,t.lastTarget)),t.firstTable&&t.firstTarget){t.tableSelection=!0,t.vTable=t.vTable||new i.VTable(t.firstTable);var n=(0,a.getCellCoordinates)(t.vTable,t.firstTarget),s=(0,a.getCellCoordinates)(t.vTable,t.lastTarget);if(!n||!s)return;t.vTable.selection={firstCell:n,lastCell:s},(0,c.selectTable)(r,t)}e.preventDefault()}else if(t.lastTarget==t.firstTarget&&t.tableSelection&&t.firstTable&&t.firstTarget){t.vTable=new i.VTable(t.firstTable);var l=(0,a.getCellCoordinates)(t.vTable,t.firstTarget);l&&(t.vTable.selection={firstCell:l,lastCell:l}),(0,c.selectTable)(r,t)}}t.handleMouseDownEvent=function(e,t,r){var v,h=e.rawEvent,b=h.which,y=h.shiftKey,E=h.target,C=h.detail,k=r.getElementAtCursor("table",E,e),S=C>=3;if(!k||k.isContentEditable){var j=r.getElementAtCursor(f.TABLE_CELL_SELECTOR);if(3==b&&t.tableSelection&&t.vTable&&j){var T=(0,a.getCellCoordinates)(t.vTable,j);if(T){var P=(0,o.default)(t.vTable)||{},_=P.firstCell,O=P.lastCell;if(_&&O&&T.y>=_.y&&T.y<=O.y&&T.x>=_.x&&T.x<=O.x){if(t.firstTarget=t.vTable.getCell(_.y,_.x).td,t.lastTarget=t.vTable.getCell(O.y,O.x).td,t.firstTarget&&t.lastTarget){var w=null===(v=r.getDocument().defaultView)||void 0===v?void 0:v.getSelection();null==w||w.setBaseAndExtent(t.firstTarget,0,t.lastTarget,0),(0,c.selectTable)(r,t)}return}}}if(1==b){if(!y&&!S&&((0,n.clearState)(t,r),(0,l.getTableAtCursor)(r,e.rawEvent.target))){var I=r.getDocument()||document,A=function(e){return function(){!function(e){var t;e.startedSelection&&(e.startedSelection=!1,null===(t=e.mouseMoveDisposer)||void 0===t||t.call(e))}(e)}}(t),D=function(e,t){return function(r){if(t.contains(r.target)){if(e.tableSelection&&e.firstTarget&&(0,i.contains)(e.lastTarget,r.target,!0))return(0,g.updateSelection)(t,e.firstTarget,0),void r.preventDefault();if("TABLE"!=(0,i.getTagOfNode)(r.target)){if((0,p.setData)(r.target,e,t),!e.firstTarget||e.firstTable)if(!e.lastTarget||(e.lastTarget.lastChild!=e.lastTarget.firstChild||"TABLE"!=(0,i.getTagOfNode)(e.lastTarget.lastChild)||"DIV"!=(0,i.getTagOfNode)(e.lastTarget))&&t.contains(e.lastTarget)){(0,d.prepareSelection)(e,t);var o=!!(0,i.safeInstanceOf)(e.lastTarget,"HTMLTableCellElement")&&(0,i.contains)(e.lastTarget,e.firstTable);e.firstTable&&e.firstTable==e.targetTable||o?m(r,e,t):e.tableSelection&&(0,u.restoreSelection)(e,t),e.tableSelection&&e.firstTarget&&((0,g.updateSelection)(t,e.firstTarget,0),r.preventDefault())}else r.preventDefault()}else r.preventDefault()}}}(t,r);I.addEventListener("mouseup",A,!0),I.addEventListener("mousemove",D,!0),t.mouseMoveDisposer=function(){I.removeEventListener("mouseup",A,!0),I.removeEventListener("mousemove",D,!0)},t.startedSelection=!0}(y||S)&&r.runAsync((function(e){var r,o=null===(r=e.getDocument().defaultView)||void 0===r?void 0:r.getSelection(),n=(0,s.getCellAtCursor)(e,null==o?void 0:o.anchorNode),d=S?n:(0,s.getCellAtCursor)(e,null==o?void 0:o.focusNode),u=(0,l.getTableAtCursor)(e,n);if(u&&(0,i.safeInstanceOf)(n,"HTMLTableCellElement")&&(0,i.safeInstanceOf)(d,"HTMLTableCellElement")){t.vTable=new i.VTable(n);var p=(0,a.getCellCoordinates)(t.vTable,n),f=(0,a.getCellCoordinates)(t.vTable,d);if(!p||!f)return;t.vTable.selection={firstCell:p,lastCell:f},t.firstTarget=n,t.lastTarget=d,(0,c.selectTable)(e,t),t.tableSelection=!0,t.firstTable=u,t.targetTable=u,(0,g.updateSelection)(e,n,0)}}))}}},t.selectionInsideTableMouseMove=m},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/mouseUtils/handleScrollEvent.ts":
/*!**********************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/mouseUtils/handleScrollEvent.ts ***!
  \**********************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleScrollEvent=void 0;var o=r(/*! ../utils/getCellCoordinates */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getCellCoordinates.ts"),n=r(/*! ../utils/restoreSelection */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/restoreSelection.ts"),i=r(/*! ../utils/selectTable */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/selectTable.ts"),s=r(/*! ../utils/setData */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/setData.ts"),a=r(/*! ../utils/updateSelection */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/updateSelection.ts");t.handleScrollEvent=function(e,t){var r,l=t.getElementAtCursor();if(l)if((0,s.setData)(l,e,t),e.firstTable==e.targetTable&&e.firstTarget&&(null===(r=e.vTable)||void 0===r?void 0:r.selection)&&e.lastTarget&&e.tableSelection){var d=(0,o.getCellCoordinates)(e.vTable,e.lastTarget);d&&(e.vTable.selection.lastCell=d,(0,i.selectTable)(t,e),(0,a.updateSelection)(t,e.firstTarget,0))}else e.tableSelection&&(0,n.restoreSelection)(e,t)}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/clearState.ts":
/*!**********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/clearState.ts ***!
  \**********************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearState=void 0,t.clearState=function(e,t){var r;null==t||t.select(null),e&&(e.vTable=null,e.firstTarget=null,e.lastTarget=null,e.tableSelection=!1,e.firstTable=null,e.targetTable=null,null===(r=e.mouseMoveDisposer)||void 0===r||r.call(e),e.mouseMoveDisposer=null)}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getCellAtCursor.ts":
/*!***************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getCellAtCursor.ts ***!
  \***************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCellAtCursor=void 0;var o=r(/*! ../constants */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/constants.ts");t.getCellAtCursor=function(e,t){return e&&e.getElementAtCursor(o.TABLE_CELL_SELECTOR,null!=t?t:void 0)||t}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getCellCoordinates.ts":
/*!******************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getCellCoordinates.ts ***!
  \******************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCellCoordinates=void 0,t.getCellCoordinates=function(e,t){var r;if(null==e?void 0:e.cells)for(var o=0;o<e.cells.length;o++)for(var n=0;n<e.cells[o].length;n++)t==e.cells[o][n].td&&(r={x:n,y:o});return r}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getTableAtCursor.ts":
/*!****************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getTableAtCursor.ts ***!
  \****************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTableAtCursor=void 0,t.getTableAtCursor=function(e,t){return e?e.getElementAtCursor("table",t):null}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/isAfter.ts":
/*!*******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/isAfter.ts ***!
  \*******************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAfter=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");t.isAfter=function(e,t){var r,n,i,s;if(e&&t){if(t.contains(e)){var a=null===(n=(r=e).getBoundingClientRect)||void 0===n?void 0:n.call(r),l=null===(s=(i=t).getBoundingClientRect)||void 0===s?void 0:s.call(i);if(a&&l)return a.top>l.top&&a.bottom<l.bottom}return new o.Position(e,-1).isAfter(new o.Position(t,-1))}return!1}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/normalizeTableSelection.ts":
/*!***********************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/normalizeTableSelection.ts ***!
  \***********************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(null==e?void 0:e.selection)||{},r=t.firstCell,o=t.lastCell;if(!((null==e?void 0:e.cells)&&e.selection&&r&&o))return null;var n=e.cells,i={x:Math.min(r.x,o.x),y:Math.min(r.y,o.y)},s={x:Math.max(r.x,o.x),y:Math.max(r.y,o.y)},a=function(e){e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.y>=n.length&&(e.y=n.length-1);var t=n[e.y].length;e.x>=t&&(e.x=t-1)};return a(i),a(s),{firstCell:i,lastCell:s}}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/prepareSelection.ts":
/*!****************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/prepareSelection.ts ***!
  \****************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prepareSelection=void 0;var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=r(/*! ./getTableAtCursor */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getTableAtCursor.ts"),i=r(/*! ../constants */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/constants.ts");t.prepareSelection=function(e,t){var r,s,a,l;if(e.firstTable&&e.targetTable){var d=e.lastTarget!=e.firstTarget&&(null===(r=e.firstTable)||void 0===r?void 0:r.contains((0,o.findClosestElementAncestor)(e.targetTable,e.firstTable,i.TABLE_CELL_SELECTOR)));if(d&&e.tableSelection)for(;d;)e.lastTarget=(0,o.findClosestElementAncestor)(e.targetTable,e.firstTable,i.TABLE_CELL_SELECTOR),e.targetTable=(0,n.getTableAtCursor)(t,e.lastTarget),d=e.lastTarget!=e.firstTarget&&(null===(s=e.firstTable)||void 0===s?void 0:s.contains((0,o.findClosestElementAncestor)(e.targetTable,e.firstTable,i.TABLE_CELL_SELECTOR)));var u=e.lastTarget!=e.firstTarget&&(null===(a=e.targetTable)||void 0===a?void 0:a.contains((0,o.findClosestElementAncestor)(e.firstTable,e.targetTable,i.TABLE_CELL_SELECTOR)));if(u&&e.tableSelection&&e.targetTable)for(;u;){if(e.firstTarget=(0,o.findClosestElementAncestor)(e.firstTable,e.targetTable,i.TABLE_CELL_SELECTOR),!e.firstTarget)return;e.firstTable=(0,n.getTableAtCursor)(t,e.firstTarget),u=e.lastTarget!=e.firstTarget&&(null===(l=e.targetTable)||void 0===l?void 0:l.contains((0,o.findClosestElementAncestor)(e.firstTable,e.targetTable,i.TABLE_CELL_SELECTOR)))}}}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/restoreSelection.ts":
/*!****************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/restoreSelection.ts ***!
  \****************************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restoreSelection=void 0;var o=r(/*! ./isAfter */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/isAfter.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i=r(/*! ./updateSelection */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/updateSelection.ts");t.restoreSelection=function(e,t){if(e.lastTarget&&e.firstTarget){e.firstTable&&t.select(e.firstTable,null),e.tableSelection=!1;var r=(0,o.isAfter)(e.firstTarget,e.lastTarget),s=new n.Position(e.lastTarget,r?-1:0),a=new Range;e.firstTarget&&a.selectNodeContents(e.firstTarget),(0,i.updateSelection)(t,e.firstTarget,r?n.Position.getEnd(a).offset:n.Position.getStart(a).offset,s.element,s.offset)}}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/selectTable.ts":
/*!***********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/selectTable.ts ***!
  \***********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectTable=void 0;var o=r(/*! ./normalizeTableSelection */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/normalizeTableSelection.ts");t.selectTable=function(e,t){e&&t.vTable&&(null==e||e.select(t.vTable.table,(0,o.default)(t.vTable)))}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/setData.ts":
/*!*******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/setData.ts ***!
  \*******************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setData=void 0;var o=r(/*! ./getCellAtCursor */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getCellAtCursor.ts"),n=r(/*! ./getTableAtCursor */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/getTableAtCursor.ts"),i=r(/*! ../constants */"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/constants.ts");t.setData=function(e,t,r){var s=r.getFocusedPosition();s&&(t.firstTarget=t.firstTarget||(0,o.getCellAtCursor)(r,s.node),t.firstTarget.nodeType==Node.TEXT_NODE&&(t.firstTarget=r.getElementAtCursor(i.TABLE_CELL_SELECTOR,t.firstTarget)),!r.contains(t.firstTarget)&&t.lastTarget&&(t.firstTarget=t.lastTarget)),t.firstTable=(0,n.getTableAtCursor)(r,t.firstTarget),t.lastTarget=(0,o.getCellAtCursor)(r,e),t.targetTable=(0,n.getTableAtCursor)(r,t.lastTarget)}},"./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/updateSelection.ts":
/*!***************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/updateSelection.ts ***!
  \***************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSelection=void 0,t.updateSelection=function(e,t,r,o,n){var i,s=null===(i=e.getDocument().defaultView)||void 0===i?void 0:i.getSelection();s&&(o=o||t,n=n||r,s.setBaseAndExtent(t,r,o,n))}},"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/TableResize.ts":
/*!**********************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableResize/TableResize.ts ***!
  \**********************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ./editors/TableEditor */"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableEditor.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i=function(){function e(e,t){var r=this;this.onShowHelperElement=e,this.anchorContainerSelector=t,this.editor=null,this.onMouseMoveDisposer=null,this.tableRectMap=null,this.tableEditor=null,this.onMouseOut=function(e){var t=e.relatedTarget,o=e.currentTarget;(0,n.safeInstanceOf)(t,"HTMLElement")&&(0,n.safeInstanceOf)(o,"HTMLElement")&&r.tableEditor&&!r.tableEditor.isOwnedElement(t)&&!(0,n.contains)(o,t)&&r.setTableEditor(null)},this.onMouseMove=function(e){var t,o=e;if(!(o.buttons>0)&&r.editor){r.ensureTableRects();var n=r.editor.getDocument().defaultView||window,i=o.pageX-n.scrollX,s=o.pageY-n.scrollY,a=null;if(r.tableRectMap)for(var l=r.tableRectMap.length-1;l>=0;l--){var d=r.tableRectMap[l],u=d.table,c=d.rect;if(i>=c.left-12&&i<=c.right+12&&s>=c.top-12&&s<=c.bottom+12){a=u;break}}r.setTableEditor(a,o),null===(t=r.tableEditor)||void 0===t||t.onMouseMove(i,s)}},this.invalidateTableRects=function(){r.tableRectMap=null}}return e.prototype.getName=function(){return"TableResize"},e.prototype.initialize=function(e){this.editor=e,this.onMouseMoveDisposer=this.editor.addDomEventHandler({mousemove:this.onMouseMove}),this.editor.getScrollContainer().addEventListener("mouseout",this.onMouseOut)},e.prototype.dispose=function(){var e,t,r=null===(e=this.editor)||void 0===e?void 0:e.getScrollContainer();null==r||r.removeEventListener("mouseout",this.onMouseOut),null===(t=this.onMouseMoveDisposer)||void 0===t||t.call(this),this.invalidateTableRects(),this.disposeTableEditor(),this.editor=null,this.onMouseMoveDisposer=null},e.prototype.onPluginEvent=function(e){switch(e.eventType){case 3:case 7:case 14:case 21:this.setTableEditor(null),this.invalidateTableRects()}},e.prototype.setTableEditor=function(e,t){if(this.tableEditor&&!this.tableEditor.isEditing()&&e!=this.tableEditor.table&&this.disposeTableEditor(),!this.tableEditor&&e&&this.editor&&e.rows.length>0){var r=this.anchorContainerSelector?this.editor.getDocument().querySelector(this.anchorContainerSelector):void 0;this.tableEditor=new o.default(this.editor,e,this.invalidateTableRects,this.onShowHelperElement,(0,n.safeInstanceOf)(r,"HTMLElement")?r:void 0,null==t?void 0:t.currentTarget)}},e.prototype.disposeTableEditor=function(){var e;null===(e=this.tableEditor)||void 0===e||e.dispose(),this.tableEditor=null},e.prototype.ensureTableRects=function(){var e=this;!this.tableRectMap&&this.editor&&(this.tableRectMap=[],this.editor.queryElements("table",(function(t){if(t.isContentEditable){var r=(0,n.normalizeRect)(t.getBoundingClientRect());r&&e.tableRectMap&&e.tableRectMap.push({table:t,rect:r})}})))},e}();t.default=i},"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/CellResizer.ts":
/*!******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/CellResizer.ts ***!
  \******************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../../../pluginUtils/DragAndDropHelper */"./packages/roosterjs-editor-plugins/lib/pluginUtils/DragAndDropHelper.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i=4,s=30;function a(e,t){var r=e.td,o=e.isRTL,i=e.zoomScale,s=e.onStart,a=new n.VTable(r,!0,i),l=(0,n.normalizeRect)(r.getBoundingClientRect());if(l){s();var d=a.getCellsWithBorder(o?l.left:l.right,!o),u=a.getCellsWithBorder(o?l.left:l.right,o);return{vTable:a,currentCells:d,nextCells:u,initialX:t.pageX}}return{vTable:a,currentCells:[],nextCells:[],initialX:0}}function l(e,t,r,o,n){var i=e.td,s=e.zoomScale,a=r.vTable;return a.table.removeAttribute("height"),a.table.style.setProperty("height",null),a.forEachCellOfCurrentRow((function(e){var t;e.td&&e.td.style.setProperty("height",e.td==i?(null!==(t=e.height)&&void 0!==t?t:0)/s+n+"px":null)})),a.writeBack(!0),!0}function d(e,t,r,o){var i=e.isRTL,a=e.zoomScale,l=r.vTable,d=r.nextCells,c=r.currentCells,p=r.initialX;if(!function(e,t,r,o,i){for(var a=0;a<t.length;a++){var l=t[a];if(d=(0,n.normalizeRect)(l.getBoundingClientRect()))if((c=u(d,e,!o)/i)<s)return!1}for(a=0;a<r.length;a++){l=r[a];var d,c=Number.MAX_SAFE_INTEGER;if(l)(d=(0,n.normalizeRect)(l.getBoundingClientRect()))&&(c=u(d,e,o)/i);if(c<s)return!1}return!0}(t.pageX,c,d,i,a))return!1;var f=0==d.length,g=t.shiftKey;(f||g)&&l.table.style.setProperty("width",null);var m=new Map;return c.forEach((function(e){var r=(0,n.normalizeRect)(e.getBoundingClientRect());if(r){e.style.wordBreak="break-word",e.style.whiteSpace="normal",e.style.boxSizing="border-box";var o=u(r,t.pageX,!i)/a;m.set(e,o)}})),m.forEach((function(e,t){t.style.width=e+"px"})),g||d.forEach((function(e){var t=e.rowSpan>1?0:e.getBoundingClientRect().right-p;e.style.wordBreak="break-word",e.style.whiteSpace="normal",e.style.boxSizing="border-box",e.style.width=e.rowSpan>1?"":t/a-o+"px"})),l.writeBack(!0),!0}function u(e,t,r){return r?t-e.left:e.right-t}function c(e,t){var r=e.td,o=(0,n.normalizeRect)(r.getBoundingClientRect());o&&(t.style.top=o.bottom-i+"px",t.style.left=o.left+"px",t.style.width=o.right-o.left+"px",t.style.height=i+"px")}function p(e,t){var r=e.td,o=e.isRTL,s=(0,n.normalizeRect)(r.getBoundingClientRect());s&&(t.style.top=s.top+"px",t.style.left=(o?s.left:s.right)-i+1+"px",t.style.width=i+"px",t.style.height=s.bottom-s.top+"px")}t.default=function(e,t,r,i,s,u,f,g){var m=e.ownerDocument,v={tag:"div",style:"position: fixed; cursor: "+(i?"row":"col")+"-resize; user-select: none"};null==f||f(v,"CellResizer",e);var h=(0,n.createElement)(v,m);(g||m.body).appendChild(h);var b={td:e,isRTL:r,zoomScale:t,onStart:s},y=i?c:p;y(b,h);var E={onDragStart:a,onDragging:i?l:d,onDragEnd:u};return{node:e,div:h,featureHandler:new o.default(h,b,y,E,t)}}},"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableEditor.ts":
/*!******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableEditor.ts ***!
  \******************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(/*! ./CellResizer */"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/CellResizer.ts"),i=r(/*! ./TableInserter */"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableInserter.ts"),s=r(/*! ./TableResizer */"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableResizer.ts"),a=r(/*! ./TableSelector */"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableSelector.ts"),l=r(/*! ./TableEditorFeature */"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableEditorFeature.ts"),d=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts");!function(e){e[e.top=0]="top",e[e.side=1]="side"}(o||(o={}));var u=function(){function e(e,t,r,o,n,i){var s=this;this.editor=e,this.table=t,this.onChanged=r,this.onShowHelperElement=o,this.anchorContainer=n,this.contentDiv=i,this.horizontalInserter=null,this.verticalInserter=null,this.horizontalResizer=null,this.verticalResizer=null,this.tableResizer=null,this.tableSelector=null,this.start=null,this.end=null,this.onFinishEditing=function(){return s.editor.focus(),s.start&&s.end&&s.editor.select(s.start,s.end),s.editor.addUndoSnapshot((function(){}),"Format"),s.onChanged(),s.isCurrentlyEditing=!1,!1},this.onStartTableResize=function(){s.isCurrentlyEditing=!0,s.onStartResize()},this.onStartCellResize=function(){s.isCurrentlyEditing=!0,s.disposeTableResizer(),s.onStartResize()},this.onInserted=function(e){s.editor.transformToDarkColor(e),s.disposeTableResizer(),s.onFinishEditing()},this.onSelect=function(e){if(s.editor.focus(),e){var t=new d.VTable(e);if(t.cells){var r=t.cells.length-1,o=0;t.cells[r].forEach((function(e,t){o=t}));var n={firstCell:{x:0,y:0},lastCell:{y:r,x:o}};s.editor.select(e,n)}}},this.getOnMouseOut=function(e){return function(t){e&&t.relatedTarget!=e&&(0,d.safeInstanceOf)(s.contentDiv,"HTMLElement")&&(0,d.safeInstanceOf)(t.relatedTarget,"HTMLElement")&&!(0,d.contains)(s.contentDiv,t.relatedTarget,!0)&&s.dispose()}},this.isRTL="rtl"==(0,d.getComputedStyle)(t,"direction"),this.setEditorFeatures(),this.isCurrentlyEditing=!1}return e.prototype.dispose=function(){this.disposeTableResizer(),this.disposeCellResizers(),this.disposeTableInserter(),this.disposeTableSelector()},e.prototype.isEditing=function(){return this.isCurrentlyEditing},e.prototype.isOwnedElement=function(e){return[this.tableResizer,this.tableSelector,this.horizontalInserter,this.verticalInserter,this.horizontalResizer,this.verticalResizer].filter((function(e){return!!(null==e?void 0:e.div)})).some((function(t){return(0,d.contains)(null==t?void 0:t.div,e,!0)}))},e.prototype.onMouseMove=function(e,t){var r,o=(0,d.normalizeRect)(this.table.getBoundingClientRect());if(o){for(var n=t<=o.top+6?0:this.isRTL?e>=o.right-6?1:void 0:e<=o.left+6?1:void 0,i=n?1:0,s=0;s<this.table.rows.length;s++){for(var a=this.table.rows[s],l=0;l<a.cells.length;l++){var u=a.cells[l],c=(0,d.normalizeRect)(u.getBoundingClientRect());if(c&&o){var p=t<=c.bottom,f=this.isRTL?e<=c.right+6*i:e<=c.right,g=this.isRTL?e>=c.left:e>=c.left-6*i;if(p&&f&&g){if(0===s&&0==n){var m=(c.left+c.right)/2,v=this.isRTL?e<m:e>m;this.setInserterTd(v?u:a.cells[l-1],!1)}else if(0===l&&1==n){var h=null===(r=this.table.rows[s-1])||void 0===r?void 0:r.cells[0],b=h?(0,d.normalizeRect)(h.getBoundingClientRect()):null,y=b?this.isRTL?b.right===c.right:b.left===c.left:null;this.setInserterTd(t<(c.top+c.bottom)/2&&y?h:u,!0)}else this.setInserterTd(null);this.setResizingTd(u);break}}}if(l<a.cells.length)break}this.setEditorFeatures()}},e.prototype.setEditorFeatures=function(){this.tableSelector||(this.tableSelector=(0,a.default)(this.table,this.editor,this.onSelect,this.getOnMouseOut,this.onShowHelperElement,this.contentDiv,this.anchorContainer)),this.tableResizer||(this.tableResizer=(0,s.default)(this.table,this.editor,this.onStartTableResize,this.onFinishEditing,this.onShowHelperElement,this.contentDiv,this.anchorContainer))},e.prototype.setResizingTd=function(e){if(this.horizontalResizer&&this.horizontalResizer.node!=e&&this.disposeCellResizers(),!this.horizontalResizer&&e){var t=this.editor.getZoomScale();this.horizontalResizer=(0,n.default)(e,t,this.isRTL,!0,this.onStartCellResize,this.onFinishEditing,this.onShowHelperElement,this.anchorContainer),this.verticalResizer=(0,n.default)(e,t,this.isRTL,!1,this.onStartCellResize,this.onFinishEditing,this.onShowHelperElement,this.anchorContainer)}},e.prototype.setInserterTd=function(e,t){var r=t?this.horizontalInserter:this.verticalInserter;if((null===e||r&&r.node!=e)&&this.disposeTableInserter(),!this.horizontalInserter&&!this.verticalInserter&&e){var o=(0,i.default)(this.editor,e,this.isRTL,!!t,this.onInserted,this.getOnMouseOut,this.onShowHelperElement,this.anchorContainer);t?this.horizontalInserter=o:this.verticalInserter=o}},e.prototype.disposeTableResizer=function(){this.tableResizer&&((0,l.disposeTableEditFeature)(this.tableResizer),this.tableResizer=null)},e.prototype.disposeTableInserter=function(){this.horizontalInserter&&((0,l.disposeTableEditFeature)(this.horizontalInserter),this.horizontalInserter=null),this.verticalInserter&&((0,l.disposeTableEditFeature)(this.verticalInserter),this.verticalInserter=null)},e.prototype.disposeCellResizers=function(){this.horizontalResizer&&((0,l.disposeTableEditFeature)(this.horizontalResizer),this.horizontalResizer=null),this.verticalResizer&&((0,l.disposeTableEditFeature)(this.verticalResizer),this.verticalResizer=null)},e.prototype.disposeTableSelector=function(){this.tableSelector&&((0,l.disposeTableEditFeature)(this.tableSelector),this.tableSelector=null)},e.prototype.onStartResize=function(){this.isCurrentlyEditing=!0;var e=this.editor.getSelectionRange();e&&(this.start=d.Position.getStart(e),this.end=d.Position.getEnd(e)),this.editor.addUndoSnapshot()},e}();t.default=u},"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableEditorFeature.ts":
/*!*************************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableEditorFeature.ts ***!
  \*************************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disposeTableEditFeature=void 0,t.disposeTableEditFeature=function(e){var t,r,o;e&&(null===(r=null===(t=e.div)||void 0===t?void 0:t.parentNode)||void 0===r||r.removeChild(e.div),e.div=null,null===(o=e.featureHandler)||void 0===o||o.dispose(),e.featureHandler=null)}},"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableInserter.ts":
/*!********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableInserter.ts ***!
  \********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n="#4A4A4A",i="white",s=12,a=1;t.default=function(e,t,r,d,u,c,p,f){var g=e.getElementAtCursor("table",t),m=(0,o.normalizeRect)(t.getBoundingClientRect()),v=e.getVisibleViewport(),h=g&&v?(0,o.getIntersectedRect)([g],[v]):null;if(m&&h){var b=t.ownerDocument,y=function(e,t,r,o){var l=t?i:n,d=r?"right":"left",u={tag:"div",style:"position: absolute; box-sizing: border-box; background-color: "+o+";"+(e?d+": 12px; top: 5px; height: 3px; border-top: 1px solid "+l+"; border-bottom: 1px solid "+l+"; border-right: 1px solid "+l+"; border-left: 0px;":"left: 5px; top: 12px; width: 3px; border-left: 1px solid "+l+"; border-right: 1px solid "+l+"; border-bottom: 1px solid "+l+"; border-top: 0px;")};return{tag:"div",style:"position: fixed; width: "+s+"px; height: "+s+"px; font-size: 16px; color: black; line-height: 8px; vertical-align: middle; text-align: center; cursor: pointer; border: solid "+a+"px "+l+"; border-radius: 50%; background-color: "+o,children:[u,"+"]}}(d,e.isDarkMode(),r,e.getDefaultFormat().backgroundColor||"white");null==p||p(y,"TableInserter",t);var E=(0,o.createElement)(y,b);return d?(E.style.left=(r?h.right:h.left-(s-1+2*a))+"px",E.style.top=m.bottom-8+"px",E.firstChild.style.width=h.right-h.left+"px"):(E.style.left=(r?m.left-8:m.right-8)+"px",E.style.top=h.top-(s-1+2*a)+"px",E.firstChild.style.height=h.bottom-h.top+"px"),(f||b.body).appendChild(E),{div:E,featureHandler:new l(E,t,d,e,u,c),node:t}}return null};var l=function(){function e(e,t,r,n,i,s){var a=this;this.div=e,this.td=t,this.isHorizontal=r,this.editor=n,this.onInsert=i,this.insertTd=function(){var e=new o.VTable(a.td);if(a.isHorizontal||(e.normalizeTableCellSize(a.editor.getZoomScale()),e.table.removeAttribute("width"),e.table.style.setProperty("width",null)),e.edit(a.isHorizontal?1:3),e.writeBack(),a.onInsert(e.table),null!=e.row&&null!=e.col&&e.cells){var t=a.isHorizontal?{firstCell:{x:0,y:e.row+1},lastCell:{x:e.cells[e.row].length-1,y:e.row+1}}:{firstCell:{x:e.col+1,y:0},lastCell:{x:e.col+1,y:e.cells.length-1}};a.editor.select(e.table,t)}},this.div.addEventListener("click",this.insertTd),this.onMouseOutEvent=s(e),this.div.addEventListener("mouseout",this.onMouseOutEvent)}return e.prototype.dispose=function(){this.div.removeEventListener("click",this.insertTd),this.onMouseOutEvent&&this.div.removeEventListener("mouseout",this.onMouseOutEvent),this.onMouseOutEvent=null},e}()},"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableResizer.ts":
/*!*******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableResizer.ts ***!
  \*******************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! ../../../pluginUtils/DragAndDropHelper */"./packages/roosterjs-editor-plugins/lib/pluginUtils/DragAndDropHelper.ts"),n=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),i=12,s=30,a=20;function l(e){return e.onStart(),{originalRect:e.table.getBoundingClientRect(),vTable:new n.VTable(e.table,!0,e.zoomScale)}}function d(e,t,r,o,n){var i,l,d=e.isRTL,u=e.zoomScale,c=r.originalRect,p=r.vTable,f=1+o/c.width*u*(d?-1:1),g=1+n/c.height*u,m=Math.abs(f-1)>.001,v=Math.abs(g-1)>.001;if(p.cells&&(m||v)){for(var h=0;h<p.cells.length;h++)for(var b=0;b<p.cells[h].length;b++){var y=p.cells[h][b];if(y.td){if(m){p.table.style.setProperty("width",null);var E=(null!==(i=y.width)&&void 0!==i?i:0)*f/u;y.td.style.boxSizing="border-box",E>=s&&(y.td.style.wordBreak="break-word",y.td.style.whiteSpace="normal",y.td.style.width=E+"px")}if(v)if(p.table.style.setProperty("height",null),0==b){var C=(null!==(l=y.height)&&void 0!==l?l:0)*g/u;C>=a&&(y.td.style.height=C+"px")}else y.td.style.setProperty("height",null)}}return p.writeBack(!0),!0}return!1}function u(e,t,r){return f(e.editor,(0,n.normalizeRect)(e.table.getBoundingClientRect()),e.contentDiv)&&(e.div.style.visibility="visible",c(e,e.div)),e.onEnd(),!1}function c(e,t){var r=e.table,o=e.isRTL,s=(0,n.normalizeRect)(r.getBoundingClientRect());s&&(t.style.top=s.bottom+"px",t.style.left=o?s.left-i-2+"px":s.right+"px")}function p(e,t){t.style.visibility="hidden"}function f(e,t,r){var o=e.getVisibleViewport();if(r&&(0,n.safeInstanceOf)(r,"HTMLElement")&&o&&t){var i=(0,n.normalizeRect)(r.getBoundingClientRect());return!!i&&i.bottom>=t.bottom&&o.bottom>=t.bottom}return!0}t.default=function(e,t,r,s,a,g,m){if(!f(t,(0,n.normalizeRect)(e.getBoundingClientRect()),g))return null;var v=e.ownerDocument,h="rtl"==(0,n.getComputedStyle)(e,"direction"),b=t.getZoomScale(),y={tag:"div",style:"position: fixed; cursor: "+(h?"ne":"nw")+"-resize; user-select: none; border: 1px solid #808080"};null==a||a(y,"TableResizer",e);var E=(0,n.createElement)(y,v);E.style.width=i+"px",E.style.height=i+"px",(m||v.body).appendChild(E);var C={isRTL:h,table:e,zoomScale:b,onStart:r,onEnd:s,div:E,editor:t,contentDiv:g};return c(C,E),{node:e,div:E,featureHandler:new o.default(E,C,p,{onDragStart:l,onDragging:d,onDragEnd:u},b)}}},"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableSelector.ts":
/*!********************************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableResize/editors/TableSelector.ts ***!
  \********************************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ../../../pluginUtils/DragAndDropHelper */"./packages/roosterjs-editor-plugins/lib/pluginUtils/DragAndDropHelper.ts"),i=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),s=12;t.default=function(e,t,r,o,n,d,u){var c=(0,i.normalizeRect)(e.getBoundingClientRect());if(!function(e,t,r){var o=e.getVisibleViewport();if(r&&(0,i.safeInstanceOf)(r,"HTMLElement")&&o&&t){var n=(0,i.normalizeRect)(r.getBoundingClientRect());return!!n&&n.top<=t.top&&o.top<=t.top}return!0}(t,c,d))return null;var p=t.getZoomScale(),f=e.ownerDocument,g={tag:"div",style:"position: fixed; cursor: all-scroll; user-select: none; border: 1px solid #808080"};null==n||n(g,"TableSelector",e);var m=(0,i.createElement)(g,f);m.id="_Table_Selector",m.style.width=s+"px",m.style.height=s+"px",(u||f.body).appendChild(m);var v={table:e,zoomScale:p,rect:c,isRTL:"rtl"==(0,i.getComputedStyle)(e,"direction")};l(v,m);var h=new a(m,v,l,{onDragEnd:function(e,t){return t.target==m&&r(e.table),!1}},v.zoomScale,o);return{div:m,featureHandler:h,node:e}};var a=function(e){function t(t,r,o,n,i,s,a,l){var d=e.call(this,t,r,o,n,i,a)||this;return d.div=t,d.onMouseOut=s(t),t.addEventListener("mouseout",d.onMouseOut),d}return(0,o.__extends)(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.onMouseOut&&this.div.removeEventListener("mouseout",this.onMouseOut),this.onMouseOut=null},t}(n.default);function l(e,t){var r=e.rect;r&&(t.style.top=r.top-s+"px",t.style.left=r.left-s-2+"px")}},"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/index.ts":
/*!****************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/TableResize/index.ts ***!
  \****************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TableResize=void 0;var o=r(/*! ./TableResize */"./packages/roosterjs-editor-plugins/lib/plugins/TableResize/TableResize.ts");Object.defineProperty(t,"TableResize",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-editor-plugins/lib/plugins/Watermark/Watermark.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Watermark/Watermark.ts ***!
  \******************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),n=r(/*! roosterjs-editor-api */"./packages/roosterjs-editor-api/lib/index.ts"),i="WATERMARK_WRAPPER",s=function(){function e(e,t,r){var s=this;this.watermark=e,this.customClass=r,this.editor=null,this.disposer=null,this.showHideWatermark=function(){if(s.editor){var e=s.editor.hasFocus(),t=s.editor.queryElements((0,o.getEntitySelector)(i)),r=t.length>0;if(e&&r)t.forEach(s.removeWatermark),s.editor.focus();else if(!e&&!r&&s.editor.isEmpty()){var a=(0,n.insertEntity)(s.editor,i,s.editor.getDocument().createTextNode(s.watermark),!1,!1,0);s.customClass&&a.wrapper.classList.add(s.customClass)}}},this.removeWatermark=function(e){var t,r=e.parentNode;null==r||r.removeChild(e),r&&(null===(t=s.editor)||void 0===t?void 0:t.contains(r))&&"DIV"==(0,o.getTagOfNode)(r)&&!r.firstChild&&r.appendChild(s.editor.getDocument().createElement("BR"))},this.format=t||{fontSize:"14px",textColors:{lightModeColor:"#AAAAAA",darkModeColor:"#6B6B6B"}}}return e.prototype.getName=function(){return"Watermark"},e.prototype.initialize=function(e){this.editor=e,this.disposer=this.editor.addDomEventHandler({focus:this.showHideWatermark,blur:this.showHideWatermark})},e.prototype.dispose=function(){var e;null===(e=this.disposer)||void 0===e||e.call(this),this.disposer=null,this.editor=null},e.prototype.onPluginEvent=function(e){var t;if(11==e.eventType||7==e.eventType&&(null===(t=e.data)||void 0===t?void 0:t.type)!=i)this.showHideWatermark();else if(15==e.eventType&&e.entity.type==i&&this.editor){var r=e.operation,n=e.entity.wrapper;8==r?this.removeWatermark(n):0==e.operation&&((0,o.applyFormat)(n,this.format,this.editor.isDarkMode(),this.editor.getDarkColorHandler()),n.spellcheck=!1)}},e}();t.default=s},"./packages/roosterjs-editor-plugins/lib/plugins/Watermark/index.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-plugins/lib/plugins/Watermark/index.ts ***!
  \**************************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watermark=void 0;var o=r(/*! ./Watermark */"./packages/roosterjs-editor-plugins/lib/plugins/Watermark/Watermark.ts");Object.defineProperty(t,"Watermark",{enumerable:!0,get:function(){return o.default}})},"./packages/roosterjs-editor-types-compatible/lib/index.ts":
/*!*****************************************************************!*\
  !*** ./packages/roosterjs-editor-types-compatible/lib/index.ts ***!
  \*****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs").__exportStar)(r(/*! roosterjs-editor-types/lib/compatibleTypes */"./packages/roosterjs-editor-types/lib/compatibleTypes.ts"),t)},"./packages/roosterjs-editor-types/lib/browser/index.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/browser/index.ts ***!
  \**************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./packages/roosterjs-editor-types/lib/compatibleEnum/Alignment.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/Alignment.ts ***!
  \*************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleAlignment=void 0,function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(t.CompatibleAlignment||(t.CompatibleAlignment={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/BulletListType.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/BulletListType.ts ***!
  \******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleBulletListType=void 0,function(e){e[e.Min=1]="Min",e[e.Disc=1]="Disc",e[e.Dash=2]="Dash",e[e.Square=3]="Square",e[e.ShortArrow=4]="ShortArrow",e[e.LongArrow=5]="LongArrow",e[e.UnfilledArrow=6]="UnfilledArrow",e[e.Hyphen=7]="Hyphen",e[e.DoubleLongArrow=8]="DoubleLongArrow",e[e.Circle=9]="Circle",e[e.Max=9]="Max"}(t.CompatibleBulletListType||(t.CompatibleBulletListType={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/Capitalization.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/Capitalization.ts ***!
  \******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleCapitalization=void 0,function(e){e.Sentence="sentence",e.Lowercase="lowercase",e.Uppercase="uppercase",e.CapitalizeEachWord="capitalize"}(t.CompatibleCapitalization||(t.CompatibleCapitalization={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/ChangeSource.ts":
/*!****************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/ChangeSource.ts ***!
  \****************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleChangeSource=void 0,function(e){e.AutoLink="AutoLink",e.CreateLink="CreateLink",e.Format="Format",e.ImageResize="ImageResize",e.Paste="Paste",e.SetContent="SetContent",e.Cut="Cut",e.Drop="Drop",e.InsertEntity="InsertEntity",e.SwitchToDarkMode="SwitchToDarkMode",e.SwitchToLightMode="SwitchToLightMode",e.ListChain="ListChain",e.Keyboard="Keyboard"}(t.CompatibleChangeSource||(t.CompatibleChangeSource={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/ClearFormatMode.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/ClearFormatMode.ts ***!
  \*******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleClearFormatMode=void 0,function(e){e[e.Inline=0]="Inline",e[e.Block=1]="Block",e[e.AutoDetect=2]="AutoDetect"}(t.CompatibleClearFormatMode||(t.CompatibleClearFormatMode={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/ColorTransformDirection.ts":
/*!***************************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/ColorTransformDirection.ts ***!
  \***************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleColorTransformDirection=void 0,function(e){e[e.LightToDark=0]="LightToDark",e[e.DarkToLight=1]="DarkToLight"}(t.CompatibleColorTransformDirection||(t.CompatibleColorTransformDirection={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/ContentPosition.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/ContentPosition.ts ***!
  \*******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleContentPosition=void 0,function(e){e[e.Begin=0]="Begin",e[e.End=1]="End",e[e.DomEnd=2]="DomEnd",e[e.SelectionStart=3]="SelectionStart",e[e.Outside=4]="Outside",e[e.Range=5]="Range"}(t.CompatibleContentPosition||(t.CompatibleContentPosition={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/ContentType.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/ContentType.ts ***!
  \***************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleContentType=t.CompatibleContentTypePrefix=void 0,function(e){e.Text="text/",e.Image="image/"}(t.CompatibleContentTypePrefix||(t.CompatibleContentTypePrefix={})),function(e){e.PlainText="text/plain",e.HTML="text/html"}(t.CompatibleContentType||(t.CompatibleContentType={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/DarkModeDatasetNames.ts":
/*!************************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/DarkModeDatasetNames.ts ***!
  \************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleDarkModeDatasetNames=void 0,function(e){e.OriginalStyleColor="ogsc",e.OriginalStyleBackgroundColor="ogsb",e.OriginalAttributeColor="ogac",e.OriginalAttributeBackgroundColor="ogab"}(t.CompatibleDarkModeDatasetNames||(t.CompatibleDarkModeDatasetNames={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/DefinitionType.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/DefinitionType.ts ***!
  \******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleDefinitionType=void 0,function(e){e[e.Boolean=0]="Boolean",e[e.Number=1]="Number",e[e.String=2]="String",e[e.Array=3]="Array",e[e.Object=4]="Object",e[e.Customize=5]="Customize"}(t.CompatibleDefinitionType||(t.CompatibleDefinitionType={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/DelimiterClasses.ts":
/*!********************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/DelimiterClasses.ts ***!
  \********************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleDelimiterClasses=void 0,function(e){e.DELIMITER_BEFORE="entityDelimiterBefore",e.DELIMITER_AFTER="entityDelimiterAfter"}(t.CompatibleDelimiterClasses||(t.CompatibleDelimiterClasses={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/Direction.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/Direction.ts ***!
  \*************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleDirection=void 0,function(e){e[e.LeftToRight=0]="LeftToRight",e[e.RightToLeft=1]="RightToLeft"}(t.CompatibleDirection||(t.CompatibleDirection={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/DocumentCommand.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/DocumentCommand.ts ***!
  \*******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleDocumentCommand=void 0,function(e){e.AutoUrlDetect="AutoUrlDetect",e.BackColor="backColor",e.Bold="bold",e.ClearAuthenticationCache="ClearAuthenticationCache",e.ContentReadOnly="contentReadOnly",e.Copy="copy",e.CreateLink="createLink",e.Cut="cut",e.DecreaseFontSize="decreaseFontSize",e.DefaultParagraphSeparator="defaultParagraphSeparator",e.Delete="delete",e.EnableInlineTableEditing="enableInlineTableEditing",e.EnableObjectResizing="enableObjectResizing",e.FontName="fontName",e.FontSize="fontSize",e.ForeColor="foreColor",e.FormatBlock="formatBlock",e.ForwardDelete="forwardDelete",e.Heading="heading",e.HiliteColor="hiliteColor",e.IncreaseFontSize="increaseFontSize",e.Indent="indent",e.InsertBrOnReturn="insertBrOnReturn",e.InsertHorizontalRule="insertHorizontalRule",e.InsertHTML="insertHTML",e.InsertImage="insertImage",e.InsertOrderedList="insertOrderedList",e.InsertUnorderedList="insertUnorderedList",e.InsertParagraph="insertParagraph",e.InsertText="insertText",e.Italic="italic",e.JustifyCenter="justifyCenter",e.JustifyFull="justifyFull",e.JustifyLeft="justifyLeft",e.JustifyRight="justifyRight",e.Outdent="outdent",e.Paste="paste",e.Redo="redo",e.RemoveFormat="removeFormat",e.SelectAll="selectAll",e.StrikeThrough="strikeThrough",e.Subscript="subscript",e.Superscript="superscript",e.Underline="underline",e.Undo="undo",e.Unlink="unlink",e.StyleWithCSS="styleWithCSS"}(t.CompatibleDocumentCommand||(t.CompatibleDocumentCommand={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/DocumentPosition.ts":
/*!********************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/DocumentPosition.ts ***!
  \********************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleDocumentPosition=void 0,function(e){e[e.Same=0]="Same",e[e.Disconnected=1]="Disconnected",e[e.Preceding=2]="Preceding",e[e.Following=4]="Following",e[e.Contains=8]="Contains",e[e.ContainedBy=16]="ContainedBy"}(t.CompatibleDocumentPosition||(t.CompatibleDocumentPosition={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/EntityClasses.ts":
/*!*****************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/EntityClasses.ts ***!
  \*****************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleEntityClasses=void 0,function(e){e.ENTITY_INFO_NAME="_Entity",e.ENTITY_TYPE_PREFIX="_EType_",e.ENTITY_ID_PREFIX="_EId_",e.ENTITY_READONLY_PREFIX="_EReadonly_"}(t.CompatibleEntityClasses||(t.CompatibleEntityClasses={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/EntityOperation.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/EntityOperation.ts ***!
  \*******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleEntityOperation=void 0,function(e){e[e.NewEntity=0]="NewEntity",e[e.Click=1]="Click",e[e.ContextMenu=2]="ContextMenu",e[e.Escape=3]="Escape",e[e.RemoveFromStart=4]="RemoveFromStart",e[e.RemoveFromEnd=5]="RemoveFromEnd",e[e.Overwrite=6]="Overwrite",e[e.PartialOverwrite=7]="PartialOverwrite",e[e.ReplaceTemporaryContent=8]="ReplaceTemporaryContent",e[e.AddShadowRoot=9]="AddShadowRoot",e[e.RemoveShadowRoot=10]="RemoveShadowRoot",e[e.UpdateEntityState=11]="UpdateEntityState"}(t.CompatibleEntityOperation||(t.CompatibleEntityOperation={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/ExperimentalFeatures.ts":
/*!************************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/ExperimentalFeatures.ts ***!
  \************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleExperimentalFeatures=void 0,function(e){e.NewIndentation="NewIndentation",e.NewBullet="NewBullet",e.NewNumbering="NewNumbering",e.ListChain="ListChain",e.MergePastedLine="MergePastedLine",e.SingleDirectionResize="SingleDirectionResize",e.PasteWithLinkPreview="PasteWithLinkPreview",e.ImageRotate="ImageRotate",e.ImageCrop="ImageCrop",e.AlwaysApplyDefaultFormat="AlwaysApplyDefaultFormat",e.ConvertSingleImageBody="ConvertSingleImageBody",e.TableAlignment="TableAlignment",e.AdaptiveHandlesResizer="AdaptiveHandlesResizer",e.AutoHyphen="AutoHyphen",e.PendingStyleBasedFormat="PendingStyleBasedFormat",e.NormalizeList="NormalizeList",e.ImageSelection="ImageSelection",e.VariableBasedDarkColor="VariableBasedDarkColor",e.ListItemAlignment="ListItemAlignment",e.DefaultFormatInSpan="DefaultFormatInSpan",e.DefaultFormatOnContainer="DefaultFormatOnContainer",e.ReusableContentModel="ReusableContentModel",e.EditWithContentModel="EditWithContentModel",e.AutoFormatList="AutoFormatList",e.InlineEntityReadOnlyDelimiters="InlineEntityReadOnlyDelimiters",e.ContentModelPaste="ContentModelPaste",e.TabKeyTextFeatures="TabKeyTextFeatures",e.ReuseAllAncestorListElements="ReuseAllAncestorListElements",e.DeleteTableWithBackspace="DeleteTableWithBackspace",e.DisableListChain="DisableListChain"}(t.CompatibleExperimentalFeatures||(t.CompatibleExperimentalFeatures={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/FontSizeChange.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/FontSizeChange.ts ***!
  \******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleFontSizeChange=void 0,function(e){e[e.Increase=0]="Increase",e[e.Decrease=1]="Decrease"}(t.CompatibleFontSizeChange||(t.CompatibleFontSizeChange={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/GetContentMode.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/GetContentMode.ts ***!
  \******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleGetContentMode=void 0,function(e){e[e.CleanHTML=0]="CleanHTML",e[e.RawHTMLOnly=1]="RawHTMLOnly",e[e.RawHTMLWithSelection=2]="RawHTMLWithSelection",e[e.PlainText=3]="PlainText",e[e.PlainTextFast=4]="PlainTextFast"}(t.CompatibleGetContentMode||(t.CompatibleGetContentMode={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/ImageEditOperation.ts":
/*!**********************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/ImageEditOperation.ts ***!
  \**********************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleImageEditOperation=void 0,function(e){e[e.None=0]="None",e[e.CornerResize=1]="CornerResize",e[e.SideResize=2]="SideResize",e[e.Resize=3]="Resize",e[e.Rotate=4]="Rotate",e[e.ResizeAndRotate=7]="ResizeAndRotate",e[e.Crop=8]="Crop",e[e.All=15]="All"}(t.CompatibleImageEditOperation||(t.CompatibleImageEditOperation={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/Indentation.ts":
/*!***************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/Indentation.ts ***!
  \***************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleIndentation=void 0,function(e){e[e.Increase=0]="Increase",e[e.Decrease=1]="Decrease"}(t.CompatibleIndentation||(t.CompatibleIndentation={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/Keys.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/Keys.ts ***!
  \********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleKeys=void 0,function(e){e[e.NULL=0]="NULL",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL_LEFT=17]="CTRL_LEFT",e[e.ALT=18]="ALT",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.PAGEUP=33]="PAGEUP",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.DELETE=46]="DELETE",e[e.EIGHT_ASTIRISK=56]="EIGHT_ASTIRISK",e[e.EIGHT_ASTERISK=56]="EIGHT_ASTERISK",e[e.B=66]="B",e[e.I=73]="I",e[e.U=85]="U",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META_LEFT=91]="META_LEFT",e[e.COMMA=188]="COMMA",e[e.DASH_UNDERSCORE=189]="DASH_UNDERSCORE",e[e.PERIOD=190]="PERIOD",e[e.FORWARDSLASH=191]="FORWARDSLASH",e[e.FORWARD_SLASH=191]="FORWARD_SLASH",e[e.GRAVE_TILDE=192]="GRAVE_TILDE",e[e.CONTENTCHANGED=257]="CONTENTCHANGED",e[e.RANGE=258]="RANGE",e[e.Ctrl=4096]="Ctrl",e[e.Meta=8192]="Meta",e[e.Shift=16384]="Shift"}(t.CompatibleKeys||(t.CompatibleKeys={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/KnownAnnounceStrings.ts":
/*!************************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/KnownAnnounceStrings.ts ***!
  \************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleKnownAnnounceStrings=void 0,function(e){e[e.AnnounceListItemNumbering=1]="AnnounceListItemNumbering",e[e.AnnounceListItemBullet=2]="AnnounceListItemBullet",e[e.AnnounceOnFocusLastCell=3]="AnnounceOnFocusLastCell"}(t.CompatibleKnownAnnounceStrings||(t.CompatibleKnownAnnounceStrings={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/KnownCreateElementDataIndex.ts":
/*!*******************************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/KnownCreateElementDataIndex.ts ***!
  \*******************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleKnownCreateElementDataIndex=void 0,function(e){e[e.None=0]="None",e[e.EmptyLine=1]="EmptyLine",e[e.BlockquoteWrapper=2]="BlockquoteWrapper",e[e.CopyPasteTempDiv=3]="CopyPasteTempDiv",e[e.BlockListItem=4]="BlockListItem",e[e.ContextMenuWrapper=5]="ContextMenuWrapper",e[e.ImageEditWrapper=6]="ImageEditWrapper",e[e.TableHorizontalResizer=7]="TableHorizontalResizer",e[e.TableVerticalResizer=8]="TableVerticalResizer",e[e.TableResizerLTR=9]="TableResizerLTR",e[e.TableResizerRTL=10]="TableResizerRTL",e[e.TableSelector=11]="TableSelector",e[e.EmptyLineFormatInSpan=12]="EmptyLineFormatInSpan"}(t.CompatibleKnownCreateElementDataIndex||(t.CompatibleKnownCreateElementDataIndex={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/KnownPasteSourceType.ts":
/*!************************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/KnownPasteSourceType.ts ***!
  \************************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleKnownPasteSourceType=void 0,function(e){e[e.WordDesktop=0]="WordDesktop",e[e.ExcelDesktop=1]="ExcelDesktop",e[e.ExcelOnline=2]="ExcelOnline",e[e.PowerPointDesktop=3]="PowerPointDesktop",e[e.GoogleSheets=4]="GoogleSheets",e[e.WacComponents=5]="WacComponents",e[e.Default=6]="Default",e[e.SingleImage=7]="SingleImage"}(t.CompatibleKnownPasteSourceType||(t.CompatibleKnownPasteSourceType={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/ListType.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/ListType.ts ***!
  \************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleListType=void 0,function(e){e[e.None=0]="None",e[e.Ordered=1]="Ordered",e[e.Unordered=2]="Unordered"}(t.CompatibleListType||(t.CompatibleListType={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/NodeType.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/NodeType.ts ***!
  \************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleNodeType=void 0,function(e){e[e.Element=1]="Element",e[e.Attribute=2]="Attribute",e[e.Text=3]="Text",e[e.ProcessingInstruction=7]="ProcessingInstruction",e[e.Comment=8]="Comment",e[e.Document=9]="Document",e[e.DocumentType=10]="DocumentType",e[e.DocumentFragment=11]="DocumentFragment"}(t.CompatibleNodeType||(t.CompatibleNodeType={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/NumberingListType.ts":
/*!*********************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/NumberingListType.ts ***!
  \*********************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleNumberingListType=void 0,function(e){e[e.Min=1]="Min",e[e.Decimal=1]="Decimal",e[e.DecimalDash=2]="DecimalDash",e[e.DecimalParenthesis=3]="DecimalParenthesis",e[e.DecimalDoubleParenthesis=4]="DecimalDoubleParenthesis",e[e.LowerAlpha=5]="LowerAlpha",e[e.LowerAlphaParenthesis=6]="LowerAlphaParenthesis",e[e.LowerAlphaDoubleParenthesis=7]="LowerAlphaDoubleParenthesis",e[e.LowerAlphaDash=8]="LowerAlphaDash",e[e.UpperAlpha=9]="UpperAlpha",e[e.UpperAlphaParenthesis=10]="UpperAlphaParenthesis",e[e.UpperAlphaDoubleParenthesis=11]="UpperAlphaDoubleParenthesis",e[e.UpperAlphaDash=12]="UpperAlphaDash",e[e.LowerRoman=13]="LowerRoman",e[e.LowerRomanParenthesis=14]="LowerRomanParenthesis",e[e.LowerRomanDoubleParenthesis=15]="LowerRomanDoubleParenthesis",e[e.LowerRomanDash=16]="LowerRomanDash",e[e.UpperRoman=17]="UpperRoman",e[e.UpperRomanParenthesis=18]="UpperRomanParenthesis",e[e.UpperRomanDoubleParenthesis=19]="UpperRomanDoubleParenthesis",e[e.UpperRomanDash=20]="UpperRomanDash",e[e.Max=20]="Max"}(t.CompatibleNumberingListType||(t.CompatibleNumberingListType={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/PasteType.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/PasteType.ts ***!
  \*************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatiblePasteType=void 0,function(e){e[e.Normal=0]="Normal",e[e.AsPlainText=1]="AsPlainText",e[e.MergeFormat=2]="MergeFormat",e[e.AsImage=3]="AsImage"}(t.CompatiblePasteType||(t.CompatiblePasteType={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/PluginEventType.ts":
/*!*******************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/PluginEventType.ts ***!
  \*******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatiblePluginEventType=void 0,function(e){e[e.KeyDown=0]="KeyDown",e[e.KeyPress=1]="KeyPress",e[e.KeyUp=2]="KeyUp",e[e.Input=3]="Input",e[e.CompositionEnd=4]="CompositionEnd",e[e.MouseDown=5]="MouseDown",e[e.MouseUp=6]="MouseUp",e[e.ContentChanged=7]="ContentChanged",e[e.ExtractContentWithDom=8]="ExtractContentWithDom",e[e.BeforeCutCopy=9]="BeforeCutCopy",e[e.BeforePaste=10]="BeforePaste",e[e.EditorReady=11]="EditorReady",e[e.BeforeDispose=12]="BeforeDispose",e[e.PendingFormatStateChanged=13]="PendingFormatStateChanged",e[e.Scroll=14]="Scroll",e[e.EntityOperation=15]="EntityOperation",e[e.ContextMenu=16]="ContextMenu",e[e.EnteredShadowEdit=17]="EnteredShadowEdit",e[e.LeavingShadowEdit=18]="LeavingShadowEdit",e[e.EditImage=19]="EditImage",e[e.BeforeSetContent=20]="BeforeSetContent",e[e.ZoomChanged=21]="ZoomChanged",e[e.SelectionChanged=22]="SelectionChanged",e[e.BeforeKeyboardEditing=23]="BeforeKeyboardEditing"}(t.CompatiblePluginEventType||(t.CompatiblePluginEventType={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/PositionType.ts":
/*!****************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/PositionType.ts ***!
  \****************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatiblePositionType=void 0,function(e){e[e.Begin=0]="Begin",e[e.End=-1]="End",e[e.Before=-2]="Before",e[e.After=-3]="After"}(t.CompatiblePositionType||(t.CompatiblePositionType={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/QueryScope.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/QueryScope.ts ***!
  \**************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleQueryScope=void 0,function(e){e[e.Body=0]="Body",e[e.OnSelection=1]="OnSelection",e[e.InSelection=2]="InSelection"}(t.CompatibleQueryScope||(t.CompatibleQueryScope={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/RegionType.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/RegionType.ts ***!
  \**************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleRegionType=void 0,function(e){e[e.Table=0]="Table"}(t.CompatibleRegionType||(t.CompatibleRegionType={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/SelectionRangeTypes.ts":
/*!***********************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/SelectionRangeTypes.ts ***!
  \***********************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleSelectionRangeTypes=void 0,function(e){e[e.Normal=0]="Normal",e[e.TableSelection=1]="TableSelection",e[e.ImageSelection=2]="ImageSelection"}(t.CompatibleSelectionRangeTypes||(t.CompatibleSelectionRangeTypes={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/TableBorderFormat.ts":
/*!*********************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/TableBorderFormat.ts ***!
  \*********************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleTableBorderFormat=void 0,function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LIST_WITH_SIDE_BORDERS=1]="LIST_WITH_SIDE_BORDERS",e[e.NO_HEADER_BORDERS=2]="NO_HEADER_BORDERS",e[e.NO_SIDE_BORDERS=3]="NO_SIDE_BORDERS",e[e.FIRST_COLUMN_HEADER_EXTERNAL=4]="FIRST_COLUMN_HEADER_EXTERNAL",e[e.ESPECIAL_TYPE_1=5]="ESPECIAL_TYPE_1",e[e.ESPECIAL_TYPE_2=6]="ESPECIAL_TYPE_2",e[e.ESPECIAL_TYPE_3=7]="ESPECIAL_TYPE_3",e[e.CLEAR=8]="CLEAR"}(t.CompatibleTableBorderFormat||(t.CompatibleTableBorderFormat={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/TableOperation.ts":
/*!******************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/TableOperation.ts ***!
  \******************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleTableOperation=void 0,function(e){e[e.InsertAbove=0]="InsertAbove",e[e.InsertBelow=1]="InsertBelow",e[e.InsertLeft=2]="InsertLeft",e[e.InsertRight=3]="InsertRight",e[e.DeleteTable=4]="DeleteTable",e[e.DeleteColumn=5]="DeleteColumn",e[e.DeleteRow=6]="DeleteRow",e[e.MergeAbove=7]="MergeAbove",e[e.MergeBelow=8]="MergeBelow",e[e.MergeLeft=9]="MergeLeft",e[e.MergeRight=10]="MergeRight",e[e.MergeCells=11]="MergeCells",e[e.SplitHorizontally=12]="SplitHorizontally",e[e.SplitVertically=13]="SplitVertically",e[e.AlignCenter=14]="AlignCenter",e[e.AlignLeft=15]="AlignLeft",e[e.AlignRight=16]="AlignRight",e[e.AlignCellLeft=17]="AlignCellLeft",e[e.AlignCellCenter=18]="AlignCellCenter",e[e.AlignCellRight=19]="AlignCellRight",e[e.AlignCellTop=20]="AlignCellTop",e[e.AlignCellMiddle=21]="AlignCellMiddle",e[e.AlignCellBottom=22]="AlignCellBottom"}(t.CompatibleTableOperation||(t.CompatibleTableOperation={}))},"./packages/roosterjs-editor-types/lib/compatibleEnum/index.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleEnum/index.ts ***!
  \*********************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompatibleTableOperation=t.CompatibleTableBorderFormat=t.CompatibleSelectionRangeTypes=t.CompatibleRegionType=t.CompatibleQueryScope=t.CompatiblePositionType=t.CompatiblePluginEventType=t.CompatiblePasteType=t.CompatibleNumberingListType=t.CompatibleNodeType=t.CompatibleListType=t.CompatibleKnownPasteSourceType=t.CompatibleKnownCreateElementDataIndex=t.CompatibleKnownAnnounceStrings=t.CompatibleKeys=t.CompatibleIndentation=t.CompatibleImageEditOperation=t.CompatibleGetContentMode=t.CompatibleFontSizeChange=t.CompatibleExperimentalFeatures=t.CompatibleEntityOperation=t.CompatibleEntityClasses=t.CompatibleDocumentPosition=t.CompatibleDocumentCommand=t.CompatibleDirection=t.CompatibleDelimiterClasses=t.CompatibleDefinitionType=t.CompatibleDarkModeDatasetNames=t.CompatibleContentType=t.CompatibleContentTypePrefix=t.CompatibleContentPosition=t.CompatibleColorTransformDirection=t.CompatibleClearFormatMode=t.CompatibleChangeSource=t.CompatibleCapitalization=t.CompatibleBulletListType=t.CompatibleAlignment=void 0;var o=r(/*! ./Alignment */"./packages/roosterjs-editor-types/lib/compatibleEnum/Alignment.ts");Object.defineProperty(t,"CompatibleAlignment",{enumerable:!0,get:function(){return o.CompatibleAlignment}});var n=r(/*! ./BulletListType */"./packages/roosterjs-editor-types/lib/compatibleEnum/BulletListType.ts");Object.defineProperty(t,"CompatibleBulletListType",{enumerable:!0,get:function(){return n.CompatibleBulletListType}});var i=r(/*! ./Capitalization */"./packages/roosterjs-editor-types/lib/compatibleEnum/Capitalization.ts");Object.defineProperty(t,"CompatibleCapitalization",{enumerable:!0,get:function(){return i.CompatibleCapitalization}});var s=r(/*! ./ChangeSource */"./packages/roosterjs-editor-types/lib/compatibleEnum/ChangeSource.ts");Object.defineProperty(t,"CompatibleChangeSource",{enumerable:!0,get:function(){return s.CompatibleChangeSource}});var a=r(/*! ./ClearFormatMode */"./packages/roosterjs-editor-types/lib/compatibleEnum/ClearFormatMode.ts");Object.defineProperty(t,"CompatibleClearFormatMode",{enumerable:!0,get:function(){return a.CompatibleClearFormatMode}});var l=r(/*! ./ColorTransformDirection */"./packages/roosterjs-editor-types/lib/compatibleEnum/ColorTransformDirection.ts");Object.defineProperty(t,"CompatibleColorTransformDirection",{enumerable:!0,get:function(){return l.CompatibleColorTransformDirection}});var d=r(/*! ./ContentPosition */"./packages/roosterjs-editor-types/lib/compatibleEnum/ContentPosition.ts");Object.defineProperty(t,"CompatibleContentPosition",{enumerable:!0,get:function(){return d.CompatibleContentPosition}});var u=r(/*! ./ContentType */"./packages/roosterjs-editor-types/lib/compatibleEnum/ContentType.ts");Object.defineProperty(t,"CompatibleContentTypePrefix",{enumerable:!0,get:function(){return u.CompatibleContentTypePrefix}}),Object.defineProperty(t,"CompatibleContentType",{enumerable:!0,get:function(){return u.CompatibleContentType}});var c=r(/*! ./DarkModeDatasetNames */"./packages/roosterjs-editor-types/lib/compatibleEnum/DarkModeDatasetNames.ts");Object.defineProperty(t,"CompatibleDarkModeDatasetNames",{enumerable:!0,get:function(){return c.CompatibleDarkModeDatasetNames}});var p=r(/*! ./DefinitionType */"./packages/roosterjs-editor-types/lib/compatibleEnum/DefinitionType.ts");Object.defineProperty(t,"CompatibleDefinitionType",{enumerable:!0,get:function(){return p.CompatibleDefinitionType}});var f=r(/*! ./DelimiterClasses */"./packages/roosterjs-editor-types/lib/compatibleEnum/DelimiterClasses.ts");Object.defineProperty(t,"CompatibleDelimiterClasses",{enumerable:!0,get:function(){return f.CompatibleDelimiterClasses}});var g=r(/*! ./Direction */"./packages/roosterjs-editor-types/lib/compatibleEnum/Direction.ts");Object.defineProperty(t,"CompatibleDirection",{enumerable:!0,get:function(){return g.CompatibleDirection}});var m=r(/*! ./DocumentCommand */"./packages/roosterjs-editor-types/lib/compatibleEnum/DocumentCommand.ts");Object.defineProperty(t,"CompatibleDocumentCommand",{enumerable:!0,get:function(){return m.CompatibleDocumentCommand}});var v=r(/*! ./DocumentPosition */"./packages/roosterjs-editor-types/lib/compatibleEnum/DocumentPosition.ts");Object.defineProperty(t,"CompatibleDocumentPosition",{enumerable:!0,get:function(){return v.CompatibleDocumentPosition}});var h=r(/*! ./EntityClasses */"./packages/roosterjs-editor-types/lib/compatibleEnum/EntityClasses.ts");Object.defineProperty(t,"CompatibleEntityClasses",{enumerable:!0,get:function(){return h.CompatibleEntityClasses}});var b=r(/*! ./EntityOperation */"./packages/roosterjs-editor-types/lib/compatibleEnum/EntityOperation.ts");Object.defineProperty(t,"CompatibleEntityOperation",{enumerable:!0,get:function(){return b.CompatibleEntityOperation}});var y=r(/*! ./ExperimentalFeatures */"./packages/roosterjs-editor-types/lib/compatibleEnum/ExperimentalFeatures.ts");Object.defineProperty(t,"CompatibleExperimentalFeatures",{enumerable:!0,get:function(){return y.CompatibleExperimentalFeatures}});var E=r(/*! ./FontSizeChange */"./packages/roosterjs-editor-types/lib/compatibleEnum/FontSizeChange.ts");Object.defineProperty(t,"CompatibleFontSizeChange",{enumerable:!0,get:function(){return E.CompatibleFontSizeChange}});var C=r(/*! ./GetContentMode */"./packages/roosterjs-editor-types/lib/compatibleEnum/GetContentMode.ts");Object.defineProperty(t,"CompatibleGetContentMode",{enumerable:!0,get:function(){return C.CompatibleGetContentMode}});var k=r(/*! ./ImageEditOperation */"./packages/roosterjs-editor-types/lib/compatibleEnum/ImageEditOperation.ts");Object.defineProperty(t,"CompatibleImageEditOperation",{enumerable:!0,get:function(){return k.CompatibleImageEditOperation}});var S=r(/*! ./Indentation */"./packages/roosterjs-editor-types/lib/compatibleEnum/Indentation.ts");Object.defineProperty(t,"CompatibleIndentation",{enumerable:!0,get:function(){return S.CompatibleIndentation}});var j=r(/*! ./Keys */"./packages/roosterjs-editor-types/lib/compatibleEnum/Keys.ts");Object.defineProperty(t,"CompatibleKeys",{enumerable:!0,get:function(){return j.CompatibleKeys}});var T=r(/*! ./KnownAnnounceStrings */"./packages/roosterjs-editor-types/lib/compatibleEnum/KnownAnnounceStrings.ts");Object.defineProperty(t,"CompatibleKnownAnnounceStrings",{enumerable:!0,get:function(){return T.CompatibleKnownAnnounceStrings}});var P=r(/*! ./KnownCreateElementDataIndex */"./packages/roosterjs-editor-types/lib/compatibleEnum/KnownCreateElementDataIndex.ts");Object.defineProperty(t,"CompatibleKnownCreateElementDataIndex",{enumerable:!0,get:function(){return P.CompatibleKnownCreateElementDataIndex}});var _=r(/*! ./KnownPasteSourceType */"./packages/roosterjs-editor-types/lib/compatibleEnum/KnownPasteSourceType.ts");Object.defineProperty(t,"CompatibleKnownPasteSourceType",{enumerable:!0,get:function(){return _.CompatibleKnownPasteSourceType}});var O=r(/*! ./ListType */"./packages/roosterjs-editor-types/lib/compatibleEnum/ListType.ts");Object.defineProperty(t,"CompatibleListType",{enumerable:!0,get:function(){return O.CompatibleListType}});var w=r(/*! ./NodeType */"./packages/roosterjs-editor-types/lib/compatibleEnum/NodeType.ts");Object.defineProperty(t,"CompatibleNodeType",{enumerable:!0,get:function(){return w.CompatibleNodeType}});var I=r(/*! ./NumberingListType */"./packages/roosterjs-editor-types/lib/compatibleEnum/NumberingListType.ts");Object.defineProperty(t,"CompatibleNumberingListType",{enumerable:!0,get:function(){return I.CompatibleNumberingListType}});var A=r(/*! ./PasteType */"./packages/roosterjs-editor-types/lib/compatibleEnum/PasteType.ts");Object.defineProperty(t,"CompatiblePasteType",{enumerable:!0,get:function(){return A.CompatiblePasteType}});var D=r(/*! ./PluginEventType */"./packages/roosterjs-editor-types/lib/compatibleEnum/PluginEventType.ts");Object.defineProperty(t,"CompatiblePluginEventType",{enumerable:!0,get:function(){return D.CompatiblePluginEventType}});var x=r(/*! ./PositionType */"./packages/roosterjs-editor-types/lib/compatibleEnum/PositionType.ts");Object.defineProperty(t,"CompatiblePositionType",{enumerable:!0,get:function(){return x.CompatiblePositionType}});var L=r(/*! ./QueryScope */"./packages/roosterjs-editor-types/lib/compatibleEnum/QueryScope.ts");Object.defineProperty(t,"CompatibleQueryScope",{enumerable:!0,get:function(){return L.CompatibleQueryScope}});var M=r(/*! ./RegionType */"./packages/roosterjs-editor-types/lib/compatibleEnum/RegionType.ts");Object.defineProperty(t,"CompatibleRegionType",{enumerable:!0,get:function(){return M.CompatibleRegionType}});var R=r(/*! ./SelectionRangeTypes */"./packages/roosterjs-editor-types/lib/compatibleEnum/SelectionRangeTypes.ts");Object.defineProperty(t,"CompatibleSelectionRangeTypes",{enumerable:!0,get:function(){return R.CompatibleSelectionRangeTypes}});var N=r(/*! ./TableBorderFormat */"./packages/roosterjs-editor-types/lib/compatibleEnum/TableBorderFormat.ts");Object.defineProperty(t,"CompatibleTableBorderFormat",{enumerable:!0,get:function(){return N.CompatibleTableBorderFormat}});var B=r(/*! ./TableOperation */"./packages/roosterjs-editor-types/lib/compatibleEnum/TableOperation.ts");Object.defineProperty(t,"CompatibleTableOperation",{enumerable:!0,get:function(){return B.CompatibleTableOperation}})},"./packages/roosterjs-editor-types/lib/compatibleTypes.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/compatibleTypes.ts ***!
  \****************************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs");(0,o.__exportStar)(r(/*! ./browser/index */"./packages/roosterjs-editor-types/lib/browser/index.ts"),t),(0,o.__exportStar)(r(/*! ./corePluginState/index */"./packages/roosterjs-editor-types/lib/corePluginState/index.ts"),t),(0,o.__exportStar)(r(/*! ./compatibleEnum/index */"./packages/roosterjs-editor-types/lib/compatibleEnum/index.ts"),t),(0,o.__exportStar)(r(/*! ./event/index */"./packages/roosterjs-editor-types/lib/event/index.ts"),t),(0,o.__exportStar)(r(/*! ./interface/index */"./packages/roosterjs-editor-types/lib/interface/index.ts"),t),(0,o.__exportStar)(r(/*! ./type/index */"./packages/roosterjs-editor-types/lib/type/index.ts"),t)},"./packages/roosterjs-editor-types/lib/corePluginState/index.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/corePluginState/index.ts ***!
  \**********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./packages/roosterjs-editor-types/lib/enum/Alignment.ts":
/*!***************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/Alignment.ts ***!
  \***************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alignment=void 0,function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(t.Alignment||(t.Alignment={}))},"./packages/roosterjs-editor-types/lib/enum/BulletListType.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/BulletListType.ts ***!
  \********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BulletListType=void 0,function(e){e[e.Min=1]="Min",e[e.Disc=1]="Disc",e[e.Dash=2]="Dash",e[e.Square=3]="Square",e[e.ShortArrow=4]="ShortArrow",e[e.LongArrow=5]="LongArrow",e[e.UnfilledArrow=6]="UnfilledArrow",e[e.Hyphen=7]="Hyphen",e[e.DoubleLongArrow=8]="DoubleLongArrow",e[e.Circle=9]="Circle",e[e.Max=9]="Max"}(t.BulletListType||(t.BulletListType={}))},"./packages/roosterjs-editor-types/lib/enum/Capitalization.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/Capitalization.ts ***!
  \********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Capitalization=void 0,function(e){e.Sentence="sentence",e.Lowercase="lowercase",e.Uppercase="uppercase",e.CapitalizeEachWord="capitalize"}(t.Capitalization||(t.Capitalization={}))},"./packages/roosterjs-editor-types/lib/enum/ChangeSource.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/ChangeSource.ts ***!
  \******************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeSource=void 0,function(e){e.AutoLink="AutoLink",e.CreateLink="CreateLink",e.Format="Format",e.ImageResize="ImageResize",e.Paste="Paste",e.SetContent="SetContent",e.Cut="Cut",e.Drop="Drop",e.InsertEntity="InsertEntity",e.SwitchToDarkMode="SwitchToDarkMode",e.SwitchToLightMode="SwitchToLightMode",e.ListChain="ListChain",e.Keyboard="Keyboard"}(t.ChangeSource||(t.ChangeSource={}))},"./packages/roosterjs-editor-types/lib/enum/ClearFormatMode.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/ClearFormatMode.ts ***!
  \*********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClearFormatMode=void 0,function(e){e[e.Inline=0]="Inline",e[e.Block=1]="Block",e[e.AutoDetect=2]="AutoDetect"}(t.ClearFormatMode||(t.ClearFormatMode={}))},"./packages/roosterjs-editor-types/lib/enum/ColorTransformDirection.ts":
/*!*****************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/ColorTransformDirection.ts ***!
  \*****************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorTransformDirection=void 0,function(e){e[e.LightToDark=0]="LightToDark",e[e.DarkToLight=1]="DarkToLight"}(t.ColorTransformDirection||(t.ColorTransformDirection={}))},"./packages/roosterjs-editor-types/lib/enum/ContentPosition.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/ContentPosition.ts ***!
  \*********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentPosition=void 0,function(e){e[e.Begin=0]="Begin",e[e.End=1]="End",e[e.DomEnd=2]="DomEnd",e[e.SelectionStart=3]="SelectionStart",e[e.Outside=4]="Outside",e[e.Range=5]="Range"}(t.ContentPosition||(t.ContentPosition={}))},"./packages/roosterjs-editor-types/lib/enum/ContentType.ts":
/*!*****************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/ContentType.ts ***!
  \*****************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentType=t.ContentTypePrefix=void 0,function(e){e.Text="text/",e.Image="image/"}(t.ContentTypePrefix||(t.ContentTypePrefix={})),function(e){e.PlainText="text/plain",e.HTML="text/html"}(t.ContentType||(t.ContentType={}))},"./packages/roosterjs-editor-types/lib/enum/DarkModeDatasetNames.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/DarkModeDatasetNames.ts ***!
  \**************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DarkModeDatasetNames=void 0,function(e){e.OriginalStyleColor="ogsc",e.OriginalStyleBackgroundColor="ogsb",e.OriginalAttributeColor="ogac",e.OriginalAttributeBackgroundColor="ogab"}(t.DarkModeDatasetNames||(t.DarkModeDatasetNames={}))},"./packages/roosterjs-editor-types/lib/enum/DefinitionType.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/DefinitionType.ts ***!
  \********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefinitionType=void 0,function(e){e[e.Boolean=0]="Boolean",e[e.Number=1]="Number",e[e.String=2]="String",e[e.Array=3]="Array",e[e.Object=4]="Object",e[e.Customize=5]="Customize"}(t.DefinitionType||(t.DefinitionType={}))},"./packages/roosterjs-editor-types/lib/enum/DelimiterClasses.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/DelimiterClasses.ts ***!
  \**********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DelimiterClasses=void 0,function(e){e.DELIMITER_BEFORE="entityDelimiterBefore",e.DELIMITER_AFTER="entityDelimiterAfter"}(t.DelimiterClasses||(t.DelimiterClasses={}))},"./packages/roosterjs-editor-types/lib/enum/Direction.ts":
/*!***************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/Direction.ts ***!
  \***************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Direction=void 0,function(e){e[e.LeftToRight=0]="LeftToRight",e[e.RightToLeft=1]="RightToLeft"}(t.Direction||(t.Direction={}))},"./packages/roosterjs-editor-types/lib/enum/DocumentCommand.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/DocumentCommand.ts ***!
  \*********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentCommand=void 0,function(e){e.AutoUrlDetect="AutoUrlDetect",e.BackColor="backColor",e.Bold="bold",e.ClearAuthenticationCache="ClearAuthenticationCache",e.ContentReadOnly="contentReadOnly",e.Copy="copy",e.CreateLink="createLink",e.Cut="cut",e.DecreaseFontSize="decreaseFontSize",e.DefaultParagraphSeparator="defaultParagraphSeparator",e.Delete="delete",e.EnableInlineTableEditing="enableInlineTableEditing",e.EnableObjectResizing="enableObjectResizing",e.FontName="fontName",e.FontSize="fontSize",e.ForeColor="foreColor",e.FormatBlock="formatBlock",e.ForwardDelete="forwardDelete",e.Heading="heading",e.HiliteColor="hiliteColor",e.IncreaseFontSize="increaseFontSize",e.Indent="indent",e.InsertBrOnReturn="insertBrOnReturn",e.InsertHorizontalRule="insertHorizontalRule",e.InsertHTML="insertHTML",e.InsertImage="insertImage",e.InsertOrderedList="insertOrderedList",e.InsertUnorderedList="insertUnorderedList",e.InsertParagraph="insertParagraph",e.InsertText="insertText",e.Italic="italic",e.JustifyCenter="justifyCenter",e.JustifyFull="justifyFull",e.JustifyLeft="justifyLeft",e.JustifyRight="justifyRight",e.Outdent="outdent",e.Paste="paste",e.Redo="redo",e.RemoveFormat="removeFormat",e.SelectAll="selectAll",e.StrikeThrough="strikeThrough",e.Subscript="subscript",e.Superscript="superscript",e.Underline="underline",e.Undo="undo",e.Unlink="unlink",e.StyleWithCSS="styleWithCSS"}(t.DocumentCommand||(t.DocumentCommand={}))},"./packages/roosterjs-editor-types/lib/enum/DocumentPosition.ts":
/*!**********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/DocumentPosition.ts ***!
  \**********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentPosition=void 0,function(e){e[e.Same=0]="Same",e[e.Disconnected=1]="Disconnected",e[e.Preceding=2]="Preceding",e[e.Following=4]="Following",e[e.Contains=8]="Contains",e[e.ContainedBy=16]="ContainedBy"}(t.DocumentPosition||(t.DocumentPosition={}))},"./packages/roosterjs-editor-types/lib/enum/EntityClasses.ts":
/*!*******************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/EntityClasses.ts ***!
  \*******************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityClasses=void 0,function(e){e.ENTITY_INFO_NAME="_Entity",e.ENTITY_TYPE_PREFIX="_EType_",e.ENTITY_ID_PREFIX="_EId_",e.ENTITY_READONLY_PREFIX="_EReadonly_"}(t.EntityClasses||(t.EntityClasses={}))},"./packages/roosterjs-editor-types/lib/enum/EntityOperation.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/EntityOperation.ts ***!
  \*********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntityOperation=void 0,function(e){e[e.NewEntity=0]="NewEntity",e[e.Click=1]="Click",e[e.ContextMenu=2]="ContextMenu",e[e.Escape=3]="Escape",e[e.RemoveFromStart=4]="RemoveFromStart",e[e.RemoveFromEnd=5]="RemoveFromEnd",e[e.Overwrite=6]="Overwrite",e[e.PartialOverwrite=7]="PartialOverwrite",e[e.ReplaceTemporaryContent=8]="ReplaceTemporaryContent",e[e.AddShadowRoot=9]="AddShadowRoot",e[e.RemoveShadowRoot=10]="RemoveShadowRoot",e[e.UpdateEntityState=11]="UpdateEntityState"}(t.EntityOperation||(t.EntityOperation={}))},"./packages/roosterjs-editor-types/lib/enum/ExperimentalFeatures.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/ExperimentalFeatures.ts ***!
  \**************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentalFeatures=void 0,function(e){e.NewIndentation="NewIndentation",e.NewBullet="NewBullet",e.NewNumbering="NewNumbering",e.ListChain="ListChain",e.MergePastedLine="MergePastedLine",e.SingleDirectionResize="SingleDirectionResize",e.PasteWithLinkPreview="PasteWithLinkPreview",e.ImageRotate="ImageRotate",e.ImageCrop="ImageCrop",e.AlwaysApplyDefaultFormat="AlwaysApplyDefaultFormat",e.ConvertSingleImageBody="ConvertSingleImageBody",e.TableAlignment="TableAlignment",e.AdaptiveHandlesResizer="AdaptiveHandlesResizer",e.AutoHyphen="AutoHyphen",e.PendingStyleBasedFormat="PendingStyleBasedFormat",e.NormalizeList="NormalizeList",e.ImageSelection="ImageSelection",e.VariableBasedDarkColor="VariableBasedDarkColor",e.ListItemAlignment="ListItemAlignment",e.DefaultFormatInSpan="DefaultFormatInSpan",e.DefaultFormatOnContainer="DefaultFormatOnContainer",e.ReusableContentModel="ReusableContentModel",e.EditWithContentModel="EditWithContentModel",e.AutoFormatList="AutoFormatList",e.InlineEntityReadOnlyDelimiters="InlineEntityReadOnlyDelimiters",e.ContentModelPaste="ContentModelPaste",e.TabKeyTextFeatures="TabKeyTextFeatures",e.ReuseAllAncestorListElements="ReuseAllAncestorListElements",e.DeleteTableWithBackspace="DeleteTableWithBackspace",e.DisableListChain="DisableListChain"}(t.ExperimentalFeatures||(t.ExperimentalFeatures={}))},"./packages/roosterjs-editor-types/lib/enum/FontSizeChange.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/FontSizeChange.ts ***!
  \********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontSizeChange=void 0,function(e){e[e.Increase=0]="Increase",e[e.Decrease=1]="Decrease"}(t.FontSizeChange||(t.FontSizeChange={}))},"./packages/roosterjs-editor-types/lib/enum/GetContentMode.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/GetContentMode.ts ***!
  \********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetContentMode=void 0,function(e){e[e.CleanHTML=0]="CleanHTML",e[e.RawHTMLOnly=1]="RawHTMLOnly",e[e.RawHTMLWithSelection=2]="RawHTMLWithSelection",e[e.PlainText=3]="PlainText",e[e.PlainTextFast=4]="PlainTextFast"}(t.GetContentMode||(t.GetContentMode={}))},"./packages/roosterjs-editor-types/lib/enum/ImageEditOperation.ts":
/*!************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/ImageEditOperation.ts ***!
  \************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageEditOperation=void 0,function(e){e[e.None=0]="None",e[e.CornerResize=1]="CornerResize",e[e.SideResize=2]="SideResize",e[e.Resize=3]="Resize",e[e.Rotate=4]="Rotate",e[e.ResizeAndRotate=7]="ResizeAndRotate",e[e.Crop=8]="Crop",e[e.All=15]="All"}(t.ImageEditOperation||(t.ImageEditOperation={}))},"./packages/roosterjs-editor-types/lib/enum/Indentation.ts":
/*!*****************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/Indentation.ts ***!
  \*****************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Indentation=void 0,function(e){e[e.Increase=0]="Increase",e[e.Decrease=1]="Decrease"}(t.Indentation||(t.Indentation={}))},"./packages/roosterjs-editor-types/lib/enum/Keys.ts":
/*!**********************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/Keys.ts ***!
  \**********************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Keys=void 0,function(e){e[e.NULL=0]="NULL",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL_LEFT=17]="CTRL_LEFT",e[e.ALT=18]="ALT",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.PAGEUP=33]="PAGEUP",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.DELETE=46]="DELETE",e[e.EIGHT_ASTIRISK=56]="EIGHT_ASTIRISK",e[e.EIGHT_ASTERISK=56]="EIGHT_ASTERISK",e[e.B=66]="B",e[e.I=73]="I",e[e.U=85]="U",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META_LEFT=91]="META_LEFT",e[e.COMMA=188]="COMMA",e[e.DASH_UNDERSCORE=189]="DASH_UNDERSCORE",e[e.PERIOD=190]="PERIOD",e[e.FORWARDSLASH=191]="FORWARDSLASH",e[e.FORWARD_SLASH=191]="FORWARD_SLASH",e[e.GRAVE_TILDE=192]="GRAVE_TILDE",e[e.CONTENTCHANGED=257]="CONTENTCHANGED",e[e.RANGE=258]="RANGE",e[e.Ctrl=4096]="Ctrl",e[e.Meta=8192]="Meta",e[e.Shift=16384]="Shift"}(t.Keys||(t.Keys={}))},"./packages/roosterjs-editor-types/lib/enum/KnownAnnounceStrings.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/KnownAnnounceStrings.ts ***!
  \**************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KnownAnnounceStrings=void 0,function(e){e[e.AnnounceListItemNumbering=1]="AnnounceListItemNumbering",e[e.AnnounceListItemBullet=2]="AnnounceListItemBullet",e[e.AnnounceOnFocusLastCell=3]="AnnounceOnFocusLastCell"}(t.KnownAnnounceStrings||(t.KnownAnnounceStrings={}))},"./packages/roosterjs-editor-types/lib/enum/KnownCreateElementDataIndex.ts":
/*!*********************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/KnownCreateElementDataIndex.ts ***!
  \*********************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KnownCreateElementDataIndex=void 0,function(e){e[e.None=0]="None",e[e.EmptyLine=1]="EmptyLine",e[e.BlockquoteWrapper=2]="BlockquoteWrapper",e[e.CopyPasteTempDiv=3]="CopyPasteTempDiv",e[e.BlockListItem=4]="BlockListItem",e[e.ContextMenuWrapper=5]="ContextMenuWrapper",e[e.ImageEditWrapper=6]="ImageEditWrapper",e[e.TableHorizontalResizer=7]="TableHorizontalResizer",e[e.TableVerticalResizer=8]="TableVerticalResizer",e[e.TableResizerLTR=9]="TableResizerLTR",e[e.TableResizerRTL=10]="TableResizerRTL",e[e.TableSelector=11]="TableSelector",e[e.EmptyLineFormatInSpan=12]="EmptyLineFormatInSpan"}(t.KnownCreateElementDataIndex||(t.KnownCreateElementDataIndex={}))},"./packages/roosterjs-editor-types/lib/enum/KnownPasteSourceType.ts":
/*!**************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/KnownPasteSourceType.ts ***!
  \**************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KnownPasteSourceType=void 0,function(e){e[e.WordDesktop=0]="WordDesktop",e[e.ExcelDesktop=1]="ExcelDesktop",e[e.ExcelOnline=2]="ExcelOnline",e[e.PowerPointDesktop=3]="PowerPointDesktop",e[e.GoogleSheets=4]="GoogleSheets",e[e.WacComponents=5]="WacComponents",e[e.Default=6]="Default",e[e.SingleImage=7]="SingleImage"}(t.KnownPasteSourceType||(t.KnownPasteSourceType={}))},"./packages/roosterjs-editor-types/lib/enum/ListType.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/ListType.ts ***!
  \**************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListType=void 0,function(e){e[e.None=0]="None",e[e.Ordered=1]="Ordered",e[e.Unordered=2]="Unordered"}(t.ListType||(t.ListType={}))},"./packages/roosterjs-editor-types/lib/enum/NodeType.ts":
/*!**************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/NodeType.ts ***!
  \**************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeType=void 0,function(e){e[e.Element=1]="Element",e[e.Attribute=2]="Attribute",e[e.Text=3]="Text",e[e.ProcessingInstruction=7]="ProcessingInstruction",e[e.Comment=8]="Comment",e[e.Document=9]="Document",e[e.DocumentType=10]="DocumentType",e[e.DocumentFragment=11]="DocumentFragment"}(t.NodeType||(t.NodeType={}))},"./packages/roosterjs-editor-types/lib/enum/NumberingListType.ts":
/*!***********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/NumberingListType.ts ***!
  \***********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberingListType=void 0,function(e){e[e.Min=1]="Min",e[e.Decimal=1]="Decimal",e[e.DecimalDash=2]="DecimalDash",e[e.DecimalParenthesis=3]="DecimalParenthesis",e[e.DecimalDoubleParenthesis=4]="DecimalDoubleParenthesis",e[e.LowerAlpha=5]="LowerAlpha",e[e.LowerAlphaParenthesis=6]="LowerAlphaParenthesis",e[e.LowerAlphaDoubleParenthesis=7]="LowerAlphaDoubleParenthesis",e[e.LowerAlphaDash=8]="LowerAlphaDash",e[e.UpperAlpha=9]="UpperAlpha",e[e.UpperAlphaParenthesis=10]="UpperAlphaParenthesis",e[e.UpperAlphaDoubleParenthesis=11]="UpperAlphaDoubleParenthesis",e[e.UpperAlphaDash=12]="UpperAlphaDash",e[e.LowerRoman=13]="LowerRoman",e[e.LowerRomanParenthesis=14]="LowerRomanParenthesis",e[e.LowerRomanDoubleParenthesis=15]="LowerRomanDoubleParenthesis",e[e.LowerRomanDash=16]="LowerRomanDash",e[e.UpperRoman=17]="UpperRoman",e[e.UpperRomanParenthesis=18]="UpperRomanParenthesis",e[e.UpperRomanDoubleParenthesis=19]="UpperRomanDoubleParenthesis",e[e.UpperRomanDash=20]="UpperRomanDash",e[e.Max=20]="Max"}(t.NumberingListType||(t.NumberingListType={}))},"./packages/roosterjs-editor-types/lib/enum/PasteType.ts":
/*!***************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/PasteType.ts ***!
  \***************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PasteType=void 0,function(e){e[e.Normal=0]="Normal",e[e.AsPlainText=1]="AsPlainText",e[e.MergeFormat=2]="MergeFormat",e[e.AsImage=3]="AsImage"}(t.PasteType||(t.PasteType={}))},"./packages/roosterjs-editor-types/lib/enum/PluginEventType.ts":
/*!*********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/PluginEventType.ts ***!
  \*********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginEventType=void 0,function(e){e[e.KeyDown=0]="KeyDown",e[e.KeyPress=1]="KeyPress",e[e.KeyUp=2]="KeyUp",e[e.Input=3]="Input",e[e.CompositionEnd=4]="CompositionEnd",e[e.MouseDown=5]="MouseDown",e[e.MouseUp=6]="MouseUp",e[e.ContentChanged=7]="ContentChanged",e[e.ExtractContentWithDom=8]="ExtractContentWithDom",e[e.BeforeCutCopy=9]="BeforeCutCopy",e[e.BeforePaste=10]="BeforePaste",e[e.EditorReady=11]="EditorReady",e[e.BeforeDispose=12]="BeforeDispose",e[e.PendingFormatStateChanged=13]="PendingFormatStateChanged",e[e.Scroll=14]="Scroll",e[e.EntityOperation=15]="EntityOperation",e[e.ContextMenu=16]="ContextMenu",e[e.EnteredShadowEdit=17]="EnteredShadowEdit",e[e.LeavingShadowEdit=18]="LeavingShadowEdit",e[e.EditImage=19]="EditImage",e[e.BeforeSetContent=20]="BeforeSetContent",e[e.ZoomChanged=21]="ZoomChanged",e[e.SelectionChanged=22]="SelectionChanged",e[e.BeforeKeyboardEditing=23]="BeforeKeyboardEditing"}(t.PluginEventType||(t.PluginEventType={}))},"./packages/roosterjs-editor-types/lib/enum/PositionType.ts":
/*!******************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/PositionType.ts ***!
  \******************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PositionType=void 0,function(e){e[e.Begin=0]="Begin",e[e.End=-1]="End",e[e.Before=-2]="Before",e[e.After=-3]="After"}(t.PositionType||(t.PositionType={}))},"./packages/roosterjs-editor-types/lib/enum/QueryScope.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/QueryScope.ts ***!
  \****************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryScope=void 0,function(e){e[e.Body=0]="Body",e[e.OnSelection=1]="OnSelection",e[e.InSelection=2]="InSelection"}(t.QueryScope||(t.QueryScope={}))},"./packages/roosterjs-editor-types/lib/enum/RegionType.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/RegionType.ts ***!
  \****************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegionType=void 0,function(e){e[e.Table=0]="Table"}(t.RegionType||(t.RegionType={}))},"./packages/roosterjs-editor-types/lib/enum/SelectionRangeTypes.ts":
/*!*************************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/SelectionRangeTypes.ts ***!
  \*************************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeTypes=void 0,function(e){e[e.Normal=0]="Normal",e[e.TableSelection=1]="TableSelection",e[e.ImageSelection=2]="ImageSelection"}(t.SelectionRangeTypes||(t.SelectionRangeTypes={}))},"./packages/roosterjs-editor-types/lib/enum/TableBorderFormat.ts":
/*!***********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/TableBorderFormat.ts ***!
  \***********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TableBorderFormat=void 0,function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LIST_WITH_SIDE_BORDERS=1]="LIST_WITH_SIDE_BORDERS",e[e.NO_HEADER_BORDERS=2]="NO_HEADER_BORDERS",e[e.NO_SIDE_BORDERS=3]="NO_SIDE_BORDERS",e[e.FIRST_COLUMN_HEADER_EXTERNAL=4]="FIRST_COLUMN_HEADER_EXTERNAL",e[e.ESPECIAL_TYPE_1=5]="ESPECIAL_TYPE_1",e[e.ESPECIAL_TYPE_2=6]="ESPECIAL_TYPE_2",e[e.ESPECIAL_TYPE_3=7]="ESPECIAL_TYPE_3",e[e.CLEAR=8]="CLEAR"}(t.TableBorderFormat||(t.TableBorderFormat={}))},"./packages/roosterjs-editor-types/lib/enum/TableOperation.ts":
/*!********************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/TableOperation.ts ***!
  \********************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TableOperation=void 0,function(e){e[e.InsertAbove=0]="InsertAbove",e[e.InsertBelow=1]="InsertBelow",e[e.InsertLeft=2]="InsertLeft",e[e.InsertRight=3]="InsertRight",e[e.DeleteTable=4]="DeleteTable",e[e.DeleteColumn=5]="DeleteColumn",e[e.DeleteRow=6]="DeleteRow",e[e.MergeAbove=7]="MergeAbove",e[e.MergeBelow=8]="MergeBelow",e[e.MergeLeft=9]="MergeLeft",e[e.MergeRight=10]="MergeRight",e[e.MergeCells=11]="MergeCells",e[e.SplitHorizontally=12]="SplitHorizontally",e[e.SplitVertically=13]="SplitVertically",e[e.AlignCenter=14]="AlignCenter",e[e.AlignLeft=15]="AlignLeft",e[e.AlignRight=16]="AlignRight",e[e.AlignCellLeft=17]="AlignCellLeft",e[e.AlignCellCenter=18]="AlignCellCenter",e[e.AlignCellRight=19]="AlignCellRight",e[e.AlignCellTop=20]="AlignCellTop",e[e.AlignCellMiddle=21]="AlignCellMiddle",e[e.AlignCellBottom=22]="AlignCellBottom"}(t.TableOperation||(t.TableOperation={}))},"./packages/roosterjs-editor-types/lib/enum/index.ts":
/*!***********************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/enum/index.ts ***!
  \***********************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PasteType=t.DefinitionType=t.BulletListType=t.NumberingListType=t.SelectionRangeTypes=t.PluginEventType=t.TableBorderFormat=t.KnownPasteSourceType=t.KnownCreateElementDataIndex=t.ClearFormatMode=t.ImageEditOperation=t.TableOperation=t.RegionType=t.QueryScope=t.PositionType=t.ListType=t.Capitalization=t.Indentation=t.GetContentMode=t.FontSizeChange=t.ExperimentalFeatures=t.EntityOperation=t.EntityClasses=t.Direction=t.DelimiterClasses=t.DarkModeDatasetNames=t.ContentPosition=t.ColorTransformDirection=t.ChangeSource=t.Alignment=t.ContentType=t.ContentTypePrefix=t.NodeType=t.Keys=t.DocumentPosition=t.DocumentCommand=t.KnownAnnounceStrings=void 0;var o=r(/*! ./KnownAnnounceStrings */"./packages/roosterjs-editor-types/lib/enum/KnownAnnounceStrings.ts");Object.defineProperty(t,"KnownAnnounceStrings",{enumerable:!0,get:function(){return o.KnownAnnounceStrings}});var n=r(/*! ./DocumentCommand */"./packages/roosterjs-editor-types/lib/enum/DocumentCommand.ts");Object.defineProperty(t,"DocumentCommand",{enumerable:!0,get:function(){return n.DocumentCommand}});var i=r(/*! ./DocumentPosition */"./packages/roosterjs-editor-types/lib/enum/DocumentPosition.ts");Object.defineProperty(t,"DocumentPosition",{enumerable:!0,get:function(){return i.DocumentPosition}});var s=r(/*! ./Keys */"./packages/roosterjs-editor-types/lib/enum/Keys.ts");Object.defineProperty(t,"Keys",{enumerable:!0,get:function(){return s.Keys}});var a=r(/*! ./NodeType */"./packages/roosterjs-editor-types/lib/enum/NodeType.ts");Object.defineProperty(t,"NodeType",{enumerable:!0,get:function(){return a.NodeType}});var l=r(/*! ./ContentType */"./packages/roosterjs-editor-types/lib/enum/ContentType.ts");Object.defineProperty(t,"ContentTypePrefix",{enumerable:!0,get:function(){return l.ContentTypePrefix}}),Object.defineProperty(t,"ContentType",{enumerable:!0,get:function(){return l.ContentType}});var d=r(/*! ./Alignment */"./packages/roosterjs-editor-types/lib/enum/Alignment.ts");Object.defineProperty(t,"Alignment",{enumerable:!0,get:function(){return d.Alignment}});var u=r(/*! ./ChangeSource */"./packages/roosterjs-editor-types/lib/enum/ChangeSource.ts");Object.defineProperty(t,"ChangeSource",{enumerable:!0,get:function(){return u.ChangeSource}});var c=r(/*! ./ColorTransformDirection */"./packages/roosterjs-editor-types/lib/enum/ColorTransformDirection.ts");Object.defineProperty(t,"ColorTransformDirection",{enumerable:!0,get:function(){return c.ColorTransformDirection}});var p=r(/*! ./ContentPosition */"./packages/roosterjs-editor-types/lib/enum/ContentPosition.ts");Object.defineProperty(t,"ContentPosition",{enumerable:!0,get:function(){return p.ContentPosition}});var f=r(/*! ./DarkModeDatasetNames */"./packages/roosterjs-editor-types/lib/enum/DarkModeDatasetNames.ts");Object.defineProperty(t,"DarkModeDatasetNames",{enumerable:!0,get:function(){return f.DarkModeDatasetNames}});var g=r(/*! ./DelimiterClasses */"./packages/roosterjs-editor-types/lib/enum/DelimiterClasses.ts");Object.defineProperty(t,"DelimiterClasses",{enumerable:!0,get:function(){return g.DelimiterClasses}});var m=r(/*! ./Direction */"./packages/roosterjs-editor-types/lib/enum/Direction.ts");Object.defineProperty(t,"Direction",{enumerable:!0,get:function(){return m.Direction}});var v=r(/*! ./EntityClasses */"./packages/roosterjs-editor-types/lib/enum/EntityClasses.ts");Object.defineProperty(t,"EntityClasses",{enumerable:!0,get:function(){return v.EntityClasses}});var h=r(/*! ./EntityOperation */"./packages/roosterjs-editor-types/lib/enum/EntityOperation.ts");Object.defineProperty(t,"EntityOperation",{enumerable:!0,get:function(){return h.EntityOperation}});var b=r(/*! ./ExperimentalFeatures */"./packages/roosterjs-editor-types/lib/enum/ExperimentalFeatures.ts");Object.defineProperty(t,"ExperimentalFeatures",{enumerable:!0,get:function(){return b.ExperimentalFeatures}});var y=r(/*! ./FontSizeChange */"./packages/roosterjs-editor-types/lib/enum/FontSizeChange.ts");Object.defineProperty(t,"FontSizeChange",{enumerable:!0,get:function(){return y.FontSizeChange}});var E=r(/*! ./GetContentMode */"./packages/roosterjs-editor-types/lib/enum/GetContentMode.ts");Object.defineProperty(t,"GetContentMode",{enumerable:!0,get:function(){return E.GetContentMode}});var C=r(/*! ./Indentation */"./packages/roosterjs-editor-types/lib/enum/Indentation.ts");Object.defineProperty(t,"Indentation",{enumerable:!0,get:function(){return C.Indentation}});var k=r(/*! ./Capitalization */"./packages/roosterjs-editor-types/lib/enum/Capitalization.ts");Object.defineProperty(t,"Capitalization",{enumerable:!0,get:function(){return k.Capitalization}});var S=r(/*! ./ListType */"./packages/roosterjs-editor-types/lib/enum/ListType.ts");Object.defineProperty(t,"ListType",{enumerable:!0,get:function(){return S.ListType}});var j=r(/*! ./PositionType */"./packages/roosterjs-editor-types/lib/enum/PositionType.ts");Object.defineProperty(t,"PositionType",{enumerable:!0,get:function(){return j.PositionType}});var T=r(/*! ./QueryScope */"./packages/roosterjs-editor-types/lib/enum/QueryScope.ts");Object.defineProperty(t,"QueryScope",{enumerable:!0,get:function(){return T.QueryScope}});var P=r(/*! ./RegionType */"./packages/roosterjs-editor-types/lib/enum/RegionType.ts");Object.defineProperty(t,"RegionType",{enumerable:!0,get:function(){return P.RegionType}});var _=r(/*! ./TableOperation */"./packages/roosterjs-editor-types/lib/enum/TableOperation.ts");Object.defineProperty(t,"TableOperation",{enumerable:!0,get:function(){return _.TableOperation}});var O=r(/*! ./ImageEditOperation */"./packages/roosterjs-editor-types/lib/enum/ImageEditOperation.ts");Object.defineProperty(t,"ImageEditOperation",{enumerable:!0,get:function(){return O.ImageEditOperation}});var w=r(/*! ./ClearFormatMode */"./packages/roosterjs-editor-types/lib/enum/ClearFormatMode.ts");Object.defineProperty(t,"ClearFormatMode",{enumerable:!0,get:function(){return w.ClearFormatMode}});var I=r(/*! ./KnownCreateElementDataIndex */"./packages/roosterjs-editor-types/lib/enum/KnownCreateElementDataIndex.ts");Object.defineProperty(t,"KnownCreateElementDataIndex",{enumerable:!0,get:function(){return I.KnownCreateElementDataIndex}});var A=r(/*! ./KnownPasteSourceType */"./packages/roosterjs-editor-types/lib/enum/KnownPasteSourceType.ts");Object.defineProperty(t,"KnownPasteSourceType",{enumerable:!0,get:function(){return A.KnownPasteSourceType}});var D=r(/*! ./TableBorderFormat */"./packages/roosterjs-editor-types/lib/enum/TableBorderFormat.ts");Object.defineProperty(t,"TableBorderFormat",{enumerable:!0,get:function(){return D.TableBorderFormat}});var x=r(/*! ./PluginEventType */"./packages/roosterjs-editor-types/lib/enum/PluginEventType.ts");Object.defineProperty(t,"PluginEventType",{enumerable:!0,get:function(){return x.PluginEventType}});var L=r(/*! ./SelectionRangeTypes */"./packages/roosterjs-editor-types/lib/enum/SelectionRangeTypes.ts");Object.defineProperty(t,"SelectionRangeTypes",{enumerable:!0,get:function(){return L.SelectionRangeTypes}});var M=r(/*! ./NumberingListType */"./packages/roosterjs-editor-types/lib/enum/NumberingListType.ts");Object.defineProperty(t,"NumberingListType",{enumerable:!0,get:function(){return M.NumberingListType}});var R=r(/*! ./BulletListType */"./packages/roosterjs-editor-types/lib/enum/BulletListType.ts");Object.defineProperty(t,"BulletListType",{enumerable:!0,get:function(){return R.BulletListType}});var N=r(/*! ./DefinitionType */"./packages/roosterjs-editor-types/lib/enum/DefinitionType.ts");Object.defineProperty(t,"DefinitionType",{enumerable:!0,get:function(){return N.DefinitionType}});var B=r(/*! ./PasteType */"./packages/roosterjs-editor-types/lib/enum/PasteType.ts");Object.defineProperty(t,"PasteType",{enumerable:!0,get:function(){return B.PasteType}})},"./packages/roosterjs-editor-types/lib/event/index.ts":
/*!************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/event/index.ts ***!
  \************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./packages/roosterjs-editor-types/lib/index.ts":
/*!******************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/index.ts ***!
  \******************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs");(0,o.__exportStar)(r(/*! ./browser/index */"./packages/roosterjs-editor-types/lib/browser/index.ts"),t),(0,o.__exportStar)(r(/*! ./corePluginState/index */"./packages/roosterjs-editor-types/lib/corePluginState/index.ts"),t),(0,o.__exportStar)(r(/*! ./enum/index */"./packages/roosterjs-editor-types/lib/enum/index.ts"),t),(0,o.__exportStar)(r(/*! ./event/index */"./packages/roosterjs-editor-types/lib/event/index.ts"),t),(0,o.__exportStar)(r(/*! ./interface/index */"./packages/roosterjs-editor-types/lib/interface/index.ts"),t),(0,o.__exportStar)(r(/*! ./type/index */"./packages/roosterjs-editor-types/lib/type/index.ts"),t)},"./packages/roosterjs-editor-types/lib/interface/index.ts":
/*!****************************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/interface/index.ts ***!
  \****************************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./packages/roosterjs-editor-types/lib/type/index.ts":
/*!***********************************************************!*\
  !*** ./packages/roosterjs-editor-types/lib/type/index.ts ***!
  \***********************************************************/(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./packages/roosterjs/lib/createEditor.ts":
/*!************************************************!*\
  !*** ./packages/roosterjs/lib/createEditor.ts ***!
  \************************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! roosterjs-editor-plugins */"./packages/roosterjs-editor-plugins/lib/index.ts"),n=r(/*! roosterjs-editor-core */"./packages/roosterjs-editor-core/lib/index.ts"),i=r(/*! roosterjs-color-utils */"./packages/roosterjs-color-utils/lib/index.ts");t.default=function(e,t,r){var s=[new o.HyperLink,new o.Paste,new o.ContentEdit];t&&(s=s.concat(t));var a={plugins:s,initialContent:r,getDarkColor:i.getDarkColor,defaultFormat:{fontFamily:"Calibri,Arial,Helvetica,sans-serif",fontSize:"11pt",textColor:"#000000"}};return new n.Editor(e,a)}},"./packages/roosterjs/lib/index.ts":
/*!*****************************************!*\
  !*** ./packages/roosterjs/lib/index.ts ***!
  \*****************************************/(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEditor=void 0;var o=r(/*! tslib */"./node_modules/tslib/tslib.es6.mjs"),n=r(/*! ./createEditor */"./packages/roosterjs/lib/createEditor.ts");Object.defineProperty(t,"createEditor",{enumerable:!0,get:function(){return n.default}}),(0,o.__exportStar)(r(/*! roosterjs-editor-types */"./packages/roosterjs-editor-types/lib/index.ts"),t),(0,o.__exportStar)(r(/*! roosterjs-editor-types-compatible */"./packages/roosterjs-editor-types-compatible/lib/index.ts"),t),(0,o.__exportStar)(r(/*! roosterjs-editor-dom */"./packages/roosterjs-editor-dom/lib/index.ts"),t),(0,o.__exportStar)(r(/*! roosterjs-editor-core */"./packages/roosterjs-editor-core/lib/index.ts"),t),(0,o.__exportStar)(r(/*! roosterjs-editor-api */"./packages/roosterjs-editor-api/lib/index.ts"),t),(0,o.__exportStar)(r(/*! roosterjs-editor-plugins */"./packages/roosterjs-editor-plugins/lib/index.ts"),t),(0,o.__exportStar)(r(/*! roosterjs-color-utils */"./packages/roosterjs-color-utils/lib/index.ts"),t)},"./node_modules/tslib/tslib.es6.mjs":
/*!******************************************!*\
  !*** ./node_modules/tslib/tslib.es6.mjs ***!
  \******************************************/(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>i,__asyncDelegator:()=>T,__asyncGenerator:()=>j,__asyncValues:()=>P,__await:()=>S,__awaiter:()=>g,__classPrivateFieldGet:()=>A,__classPrivateFieldIn:()=>x,__classPrivateFieldSet:()=>D,__createBinding:()=>v,__decorate:()=>a,__esDecorate:()=>d,__exportStar:()=>h,__extends:()=>n,__generator:()=>m,__importDefault:()=>I,__importStar:()=>w,__makeTemplateObject:()=>_,__metadata:()=>f,__param:()=>l,__propKey:()=>c,__read:()=>y,__rest:()=>s,__runInitializers:()=>u,__setFunctionName:()=>p,__spread:()=>E,__spreadArray:()=>k,__spreadArrays:()=>C,__values:()=>b,default:()=>L});var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)};function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};function s(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}function a(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function l(e,t){return function(r,o){t(r,o,e)}}function d(e,t,r,o,n,i){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,l=o.kind,d="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?o.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,o.name):{}),p=!1,f=r.length-1;f>=0;f--){var g={};for(var m in o)g[m]="access"===m?{}:o[m];for(var m in o.access)g.access[m]=o.access[m];g.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(e||null))};var v=(0,r[f])("accessor"===l?{get:c.get,set:c.set}:c[d],g);if("accessor"===l){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw new TypeError("Object expected");(a=s(v.get))&&(c.get=a),(a=s(v.set))&&(c.set=a),(a=s(v.init))&&n.unshift(a)}else(a=s(v))&&("field"===l?n.unshift(a):c[d]=a)}u&&Object.defineProperty(u,o.name,c),p=!0}function u(e,t,r){for(var o=arguments.length>2,n=0;n<t.length;n++)r=o?t[n].call(e,r):t[n].call(e);return o?r:void 0}function c(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function g(e,t,r,o){return new(r||(r=Promise))((function(n,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))}function m(e,t){var r,o,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){s.label=a[1];break}if(6===a[0]&&s.label<n[1]){s.label=n[1],n=a;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(a);break}n[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],o=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var v=Object.create?function(e,t,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,n)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]};function h(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||v(t,e,r)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return s}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function C(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,n++)o[n]=i[s];return o}function k(e,t,r){if(r||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)!o&&n in t||(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function j(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(e){n[e]&&(o[e]=function(t){return new Promise((function(r,o){i.push([e,t,r,o])>1||a(e,t)}))})}function a(e,t){try{(r=n[e](t)).value instanceof S?Promise.resolve(r.value.v).then(l,d):u(i[0][2],r)}catch(e){u(i[0][3],e)}var r}function l(e){a("next",e)}function d(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function T(e){var t,r;return t={},o("next"),o("throw",(function(e){throw e})),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,n){t[o]=e[o]?function(t){return(r=!r)?{value:S(e[o](t)),done:!1}:n?n(t):t}:n}}function P(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=b(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(r){t[r]=e[r]&&function(t){return new Promise((function(o,n){(function(e,t,r,o){Promise.resolve(o).then((function(t){e({value:t,done:r})}),t)})(o,n,(t=e[r](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var O=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&v(t,e,r);return O(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)}function D(e,t,r,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(e,r):n?n.value=r:t.set(e,r),r}function x(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}const L={__extends:n,__assign:i,__rest:s,__decorate:a,__param:l,__metadata:f,__awaiter:g,__generator:m,__createBinding:v,__exportStar:h,__values:b,__read:y,__spread:E,__spreadArrays:C,__spreadArray:k,__await:S,__asyncGenerator:j,__asyncDelegator:T,__asyncValues:P,__makeTemplateObject:_,__importStar:w,__importDefault:I,__classPrivateFieldGet:A,__classPrivateFieldSet:D,__classPrivateFieldIn:x}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o=r("./packages/roosterjs/lib/index.ts");roosterjs=o})();
//# sourceMappingURL=/sm/d4f9d7b7f680d19853ac3907439c852e174ecc57d0133dbc6228b8a15f8687e6.map