const i=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/,u=new Map,n=new Map;function p(e){return e.match(i)?.[1]}async function l(e,s){if(u.has(e))return u.get(e);if(n.has(e))return n.get(e);const t=new Promise(async c=>{const r=["maxresdefault","sddefault","hqdefault"];for(const a of r)for(const f of[!0,!1]){const o=h(e,a,f);if((await fetch(o,{mode:"no-cors",signal:s.signal})).status<400){u.set(e,o),c(o);return}}}).catch(()=>"").finally(()=>n.delete(e));return n.set(e,t),t}function h(e,s,t){return`https://i.ytimg.com/${t?"vi_webp":"vi"}/${e}/${s}.${t?"webp":"jpg"}`}export{l as findYouTubePoster,p as resolveYouTubeVideoId};
