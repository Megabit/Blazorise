@typeparam TValue
@inherits Blazorise.Switch<TValue>
<button @ref="@ElementRef" id="@ElementId" type="button" role="switch" class="@ClassNames" style="@StyleNames" disabled="@Disabled" aria-checked="@CurrentValueAsString?.ToLowerInvariant()" ant-click-animating="true" tabindex="@TabIndex" @onclick="@HandleButtonClick" @attributes="@Attributes">
    <span class="ant-switch-inner">@ChildContent</span>
    <div class="ant-click-animating-node"></div>
</button>
@Feedback
@code {
    async Task HandleButtonClick()
    {
        if ( ReadOnly )
            return;

        await CurrentValueHandler( CurrentValueAsString == bool.FalseString
            ? bool.TrueString
            : bool.FalseString );

        DirtyClasses();
    }

    public override async Task SetParametersAsync( ParameterView parameters )
    {
        bool checkedChanged = false;
        if ( parameters.TryGetValue(nameof( Checked ), out TValue value) )
        {
            checkedChanged = Checked?.Equals( value ) != true;
        }
        await base.SetParametersAsync( parameters );

        if ( checkedChanged )
        {
            DirtyClasses();
        }
    }
}
