.mui-list {
    --mui-list-bg: var(--mui-surface-container-lowest);
    --mui-list-color: var(--mui-on-surface);
    --mui-list-border-color: var(--mui-outline-variant);
    --mui-list-hover-bg: color-mix(in srgb, var(--mui-on-surface) 8%, transparent);
    --mui-list-active-bg: var(--mui-tertiary-container);
    --mui-list-active-color: var(--mui-on-tertiary-container);
    --mui-list-item-min-height: 3.5rem;
    display: flex;
    flex-direction: column;
    margin: 0;
    padding: 0;
    list-style: none;
    border: 1px solid var(--mui-list-border-color);
    border-radius: 0.75rem;
    background-color: var(--mui-list-bg);
    color: var(--mui-list-color);
    overflow: hidden;

    > .mui-list-item {
        all: unset;
        box-sizing: border-box;
        position: relative;
        display: block;
        min-block-size: var(--mui-list-item-min-height);
        padding: 0.5rem 1rem;
        color: var(--mui-list-item-color, inherit);
        background-color: var(--mui-list-item-bg, transparent);
        white-space: normal;
        line-height: 1.5;
        transition: background-color var(--mui-duration-normal), color var(--mui-duration-normal);

        > * {
            margin: 0;
        }

        > :not(:last-child) {
            margin-block-end: 0.25rem;
        }

        > :is(details, .max),
        > a:only-child > .max,
        > details > summary > .max {
            flex: 1;
        }

        > :is(a:only-child, details > summary) {
            all: unset;
            box-sizing: border-box;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 1rem;
            inline-size: 100%;
            min-block-size: inherit;
            color: inherit;
            cursor: inherit;
        }

        &:has(> ul, > ol, > details[open], > a:only-child) {
            padding: 0;
        }

        > .mui-list {
            margin: 0;
            border: 0;
            border-radius: 0;
            border-inline-start: 0.0625rem solid var(--mui-list-border-color);
            overflow: visible;
        }

        &.mui-list-item-action {
            cursor: pointer;
        }

        &.mui-list-item-action:hover {
            background-color: var(--mui-list-item-hover-bg, var(--mui-list-hover-bg));
        }

        &.active {
            background-color: var(--mui-list-item-active-bg, var(--mui-list-active-bg));
            color: var(--mui-list-item-active-color, var(--mui-list-active-color));
        }

        &.disabled,
        &:disabled,
        &[aria-disabled="true"] {
            pointer-events: none;
            opacity: 0.5;
        }
    }

    > .mui-list-item:focus-visible,
    > .mui-list-item > a:only-child:focus-visible,
    > .mui-list-item > details > summary:focus-visible {
        outline: 0.125rem solid var(--mui-primary);
        outline-offset: -0.125rem;
    }

    > .mui-list-item:not(:has(> *)) {
        display: flex;
        align-items: center;
    }

    > .mui-list-item:not(:last-child)::before,
    > .mui-list-item > details[open] > summary::before {
        content: "";
        position: absolute;
        inset: auto 0 0 0;
        block-size: 0.0625rem;
        background-color: var(--mui-list-border-color);
    }

    &-flush {
        border: 0;
        border-radius: 0;
        background-color: transparent;
    }

    &-scrollable {
        overflow-y: auto;
        max-block-size: var(--mui-list-max-height, 16rem);
    }

    &:is(.mui-list-no-space, .no-space) > .mui-list-item,
    &:is(.mui-list-no-space, .no-space) > .mui-list-item > details > summary {
        min-block-size: 2.5rem;
        padding-block: 0.375rem;
    }

    &:is(.mui-list-medium-space, .medium-space) > .mui-list-item,
    &:is(.mui-list-medium-space, .medium-space) > .mui-list-item > details > summary {
        min-block-size: 4.5rem;
    }

    &:is(.mui-list-large-space, .large-space) > .mui-list-item,
    &:is(.mui-list-large-space, .large-space) > .mui-list-item > details > summary {
        min-block-size: 5.5rem;
    }
}

$mui-list-contextual-colors: ( primary: ("base": var(--mui-primary), "on-base": var(--mui-on-primary), "container": var(--mui-primary-container), "on-container": var(--mui-on-primary-container)), secondary: ("base": var(--mui-secondary), "on-base": var(--mui-on-secondary), "container": var(--mui-secondary-container), "on-container": var(--mui-on-secondary-container)), tertiary: ("base": var(--mui-tertiary), "on-base": var(--mui-on-tertiary), "container": var(--mui-tertiary-container), "on-container": var(--mui-on-tertiary-container)), success: ("base": var(--mui-success), "on-base": var(--mui-on-success), "container": var(--mui-success-container), "on-container": var(--mui-on-success-container)), danger: ("base": var(--mui-error), "on-base": var(--mui-on-error), "container": var(--mui-error-container), "on-container": var(--mui-on-error-container)), error: ("base": var(--mui-error), "on-base": var(--mui-on-error), "container": var(--mui-error-container), "on-container": var(--mui-on-error-container)), warning: ("base": var(--mui-warning), "on-base": var(--mui-on-warning), "container": var(--mui-warning-container), "on-container": var(--mui-on-warning-container)), info: ("base": var(--mui-info), "on-base": var(--mui-on-info), "container": var(--mui-info-container), "on-container": var(--mui-on-info-container)), light: ("base": var(--mui-light), "on-base": var(--mui-on-light), "container": var(--mui-light-container), "on-container": var(--mui-on-light-container)), dark: ("base": var(--mui-dark), "on-base": var(--mui-on-dark), "container": var(--mui-dark-container), "on-container": var(--mui-on-dark-container)) );

@each $color-name, $tones in $mui-list-contextual-colors {
    .mui-list-item-#{$color-name} {
        --mui-list-item-color: #{map-get($tones, "on-container")};
        --mui-list-item-bg: color-mix(in srgb, #{map-get($tones, "container")} 88%, transparent);
        --mui-list-item-hover-bg: color-mix(in srgb, #{map-get($tones, "base")} 14%, #{map-get($tones, "container")});
        --mui-list-item-active-bg: #{map-get($tones, "base")};
        --mui-list-item-active-color: #{map-get($tones, "on-base")};
    }
}
