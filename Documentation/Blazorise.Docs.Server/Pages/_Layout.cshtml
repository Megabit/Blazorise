@namespace Blazorise.Docs.Server.Pages
@using Microsoft.AspNetCore.Components.Web
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <base href="~/" />

    <component type="typeof(HeadOutlet)" render-mode="ServerPrerendered" />

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">

    <link href="_content/Blazorise/blazorise.min.css?v=1.2.1.0" rel="stylesheet" />
    <link href="_content/Blazorise.Bootstrap5/blazorise.bootstrap5.min.css?v=1.2.1.0" rel="stylesheet" />

    <link href="_content/Blazorise.Snackbar/blazorise.snackbar.min.css?v=1.2.1.0" rel="stylesheet" />
    <link href="_content/Blazorise.SpinKit/blazorise.spinkit.min.css?v=1.2.1.0" rel="stylesheet" />
    <link href="_content/Blazorise.LoadingIndicator/blazorise.loadingindicator.min.css?v=1.2.1.0" rel="stylesheet" />
    <link href="_content/Blazorise.TreeView/blazorise.treeview.min.css?v=1.2.1.0" rel="stylesheet" />
    <link href="_content/Blazorise.Docs/blazorise.docs.min.css?v=1.2.1.0" rel="stylesheet" />

    <link href="css/site.css?v=1.2.1.0" rel="stylesheet" />

    <script defer data-domain="blazorise.com" src="https://plausible.io/js/script.js"></script>
</head>
<body>
    @RenderBody()
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@1.28.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-streaming@2.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-trendline"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>

    <script src="_content/Blazorise.Animate/blazorise.animate.js?v=1.2.1.0"></script>
    <script src="_content/Blazorise.Docs/blazorise.docs.min.js?v=1.2.1.0"></script>
    <script src="_framework/blazor.server.js" autostart="false"></script>
    <script>
        Blazor.start({
            reconnectionHandler: {
                onConnectionDown: (options, error) => {
                    var isReloading = false;

                    async function attemptReload() {

                        if (!isReloading) {
                            isReloading = true;
                            var request = new Request({
                                url: '/healthcheck',
                                method: 'GET'
                            });
                            var result = await fetch(request);

                            if (result.status == 200) {
                                document.location.reload();
                            }
                            isReloading = false;
                        }
                    }
                    setInterval(attemptReload, 1500);
                }
            }
        });
    </script>
</body>
</html>
