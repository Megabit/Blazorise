@using Blazorise.Components
@using System.Reflection;
@using Blazorise.Docs.Infrastructure
@using Blazorise.Docs.Layouts;

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <base href="/" />

    <HeadOutlet @rendermode="RenderMode.InteractiveServer" />

    <script>
        (function () {
            const themeCookieName = "bdocs-theme";
            const systemCookieName = "bdocs-system";
            const readCookie = (name) => document.cookie.split('; ').find((row) => row.startsWith(name + '='))?.split('=')[1];
            const storedTheme = readCookie(themeCookieName) || "System";
            const systemIsDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            const shouldUseDark = storedTheme === "Dark" || (storedTheme === "System" && systemIsDark);
            const target = document.documentElement;

            if (shouldUseDark) {
                target.setAttribute("data-bs-theme", "dark");
            }
            else {
                target.removeAttribute("data-bs-theme");
            }

            document.cookie = `${systemCookieName}=${systemIsDark};path=/;max-age=31536000;SameSite=Lax`;
        })();
    </script>

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="preload">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="_content/Blazorise.Icons.FontAwesome/v6/css/all.min.css?v=1.8.9.0" rel="stylesheet">

    <link href="_content/Blazorise/blazorise.min.css?v=1.8.9.0" rel="stylesheet" />
    <link href="_content/Blazorise.Bootstrap5/blazorise.bootstrap5.min.css?v=1.8.9.0" rel="stylesheet" />

    <link href="_content/Blazorise.Snackbar/blazorise.snackbar.min.css?v=1.8.9.0" rel="stylesheet" />
    <link href="_content/Blazorise.SpinKit/blazorise.spinkit.min.css?v=1.8.9.0" rel="stylesheet" />
    <link href="_content/Blazorise.LoadingIndicator/blazorise.loadingindicator.min.css?v=1.8.9.0" rel="stylesheet" />
    <link href="_content/Blazorise.TreeView/blazorise.treeview.min.css?v=1.8.9.0" rel="stylesheet" />

    <link href="_content/Blazorise.Docs/blazorise.docs.min.css?v=@BuildStamp.V" rel="stylesheet" />
    <link href="css/site.css?v=@BuildStamp.V" rel="stylesheet" />

    <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js"></script>

    <script>
        window.addEventListener("load", function () {
            window.cookieconsent.initialise({
                type: 'info',
                palette: {
                    popup: {
                        background: "rgba(100, 19, 173,.9)",
                        text: "#fff"
                    },
                    button: {
                        background: "#e03d76",
                        text: "#fff"
                    }
                },
                content: {
                    message: "We use cookies to give you the best experience on our website.\nIf you continue to browse, then you agree to our",
                    link: " privacy policy and cookie policy",
                    href: "https://blazorise.com/privacy"
                },
                onStatusChange: function (status) { },
            })
        });
    </script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script defer data-domain="blazorise.com" src="https://plausible.io/js/script.js"></script>
</head>
<body>
    <Routes @rendermode="RenderMode.InteractiveServer" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>

    <script src="https://cdn.paddle.com/paddle/v2/paddle.js"></script>
    <script type="text/javascript">
        Paddle.Environment.set("production");

        Paddle.Initialize({
          token: 'live_a317e126a9c8d3219be59e4f85d'
        });
    </script>

    <script src="_content/Blazorise.Animate/blazorise.animate.js?v=1.8.9.0"></script>
    <script src="_content/Blazorise.Docs/blazorise.docs.min.js?v=@BuildStamp.V"></script>

    <script src="_framework/blazor.web.js" suppress-error="BL9992"></script>

    <script>
        Blazor.start({
            reconnectionHandler: {
                onConnectionDown: (options, error) => {
                    var isReloading = false;
                    async function attemptReload() {
                        if (!isReloading) {
                            isReloading = true;
                            var request = new Request({
                                url: '/healthcheck',
                                method: 'GET'
                            });
                            var result = await fetch(request);
                            if (result.status == 200) {
                                document.location.reload();
                            }
                            isReloading = false;
                        }
                    }
                    setInterval(attemptReload, 1500);
                }
            }
        });
    </script>
</body>
</html>