@page "/docs/components/validation"

<Seo Canonical="/docs/components/validation" Title="Blazorise Validation Component" Description="Learn to use and work with the Blazorise validation components to add simple form validation to Blazorise input components." />

<DocsPageTitle Path="Components/Validation">
    Blazorise Validation component
</DocsPageTitle>

<DocsPageLead>
    The <Code>Validation</Code> component allows you to verify your data, helping you find and correct errors.
</DocsPageLead>

<DocsPageParagraph>
    Validation components are used to provide simple form validation for Blazorise input components.
</DocsPageParagraph>

<DocsPageParagraph>
    The basic structure for validation components is:
</DocsPageParagraph>

<UnorderedList>
    <UnorderedListItem>
        <Paragraph>
            <Code Tag>Validations</Code> is the container for all validations and can contain multiple <Code>Validation</Code> components.
        </Paragraph>
        <UnorderedList>
            <UnorderedListItem>
                <Paragraph>
                    <Code Tag>Validation</Code> contains the validation logic.
                </Paragraph>
                <UnorderedList>
                    <UnorderedListItem>
                        <Paragraph>
                            <Code Tag>Feedback</Code> displays the validation message.
                        </Paragraph>
                        <UnorderedList>
                            <UnorderedListItem>
                                <Paragraph>
                                    <Code Tag>ValidationSuccess</Code> displays the success message.
                                </Paragraph>
                            </UnorderedListItem>
                            <UnorderedListItem>
                                <Paragraph>
                                    <Code Tag>ValidationError</Code> displays the error message.
                                </Paragraph>
                            </UnorderedListItem>
                            <UnorderedListItem>
                                <Paragraph>
                                    <Code Tag>ValidationNone</Code> displays a message when nothing has happened.
                                </Paragraph>
                            </UnorderedListItem>
                        </UnorderedList>
                    </UnorderedListItem>
                </UnorderedList>
            </UnorderedListItem>
            <UnorderedListItem>
                <Paragraph>
                    <Code Tag>ValidationSummary</Code> lists all error messages.
                </Paragraph>
            </UnorderedListItem>
        </UnorderedList>
    </UnorderedListItem>
</UnorderedList>

<DocsPageParagraph>
    In most cases, you only need the <Code Tag>Validation</Code> component together
    with <Code Tag>ValidationSuccess</Code> and <Code Tag>ValidationError</Code>. By default, validation runs
    automatically when an input value changes. Set the <Code>Validator</Code> handler to define the rules and return the
    validation result.
</DocsPageParagraph>

<Paragraph>
    <Alert Color="Color.Info" Visible>
        <AlertDescription>
            <Strong>Note:</Strong>
            Inputs that are <Code>Disabled</Code> are skipped during validation (same as native HTML forms).
            If you need to prevent user edits while submitting, prefer <Code>ReadOnly</Code> (when supported) or disable only the submit button.
        </AlertDescription>
    </Alert>
</Paragraph>

<DocsPageSubtitle>
    Examples
</DocsPageSubtitle>

<DocsPageSection>
    <DocsPageSectionHeader Title="Validating using method handlers">
        <Paragraph>
            Method handlers are the easiest way to validate fields. Blazorise provides a set of predefined handlers through the <Code>ValidationRule</Code> helper class that you can assign to the <Code>Validator</Code> parameter.
        </Paragraph>
        <Paragraph>
            In addition to the built-in handler methods, you can also create your own. For example, the following code snippet shows a custom <Code>ValidateEmail</Code> handler.
        </Paragraph>
    </DocsPageSectionHeader>
    <DocsPageSectionContent Outlined FullWidth>
        <BasicValidationExample />
    </DocsPageSectionContent>
    <DocsPageSectionSource Code="BasicValidationExample" />
</DocsPageSection>

<DocsPageSection>
    <DocsPageSectionHeader>
        The same structure applies to all <Code>Edit</Code> components (check, radio, select, etc.). Note that some components
        have special rules when defining the validation structure. For example, for <Code>Check</Code> you must use the
        <Code>ChildContent</Code> tag along with the <Code>Feedback</Code> tag. This is a limitation in Blazor and may be
        addressed in the future.
    </DocsPageSectionHeader>
    <DocsPageSectionSource Code="ValidationFeedbackExample" />
</DocsPageSection>

<DocsPageSection>
    <DocsPageSectionHeader Title="Validating using Data Annotations">
        To use data annotations with Blazorise, you must combine both <Code>Validation</Code> and <Code>Validations</Code>
        components. The <Code>Validations</Code> component groups the fields used inside a <Code>Validation</Code>
        component. To make this work, you must meet two requirements:
        <OrderedList>
            <OrderedListItem>
                <Code>Validations</Code> component must reference the validated POCO through the <Code>Model</Code> parameter.
            </OrderedListItem>
            <OrderedListItem>
                Input component must bind to the model field through <Code>@@bind-{Value}</Code> (e.g. <Code>@@bind-Text</Code>).
            </OrderedListItem>
        </OrderedList>
        After these requirements are met, Blazorise has enough information to apply data annotations.
    </DocsPageSectionHeader>
    <DocsPageSectionContent Outlined FullWidth>
        <DataAnnotationValidationExample />
    </DocsPageSectionContent>
    <DocsPageSectionSource Code="DataAnnotationValidationExample" />
</DocsPageSection>

<DocsPageSection>
    <DocsPageSectionHeader Title="Validating using Pattern">
        If you want to validate input using a regular expression instead of <Code>Validator</Code> handlers, use the
        <Code>Pattern</Code> parameter. Components that support the pattern attribute include <Code>TextInput</Code>,
        <Code>NumericInput</Code> and <Code>DateInput</Code>.
    </DocsPageSectionHeader>
    <DocsPageSectionContent Outlined FullWidth>
        <PatternValidationExample />
    </DocsPageSectionContent>
    <DocsPageSectionSource Code="PatternValidationExample" />
</DocsPageSection>

<DocsPageSection>
    <DocsPageSectionHeader Title="Async validation">
        If you need to run validation using an external source or a REST API, Blazorise also supports async validation.
        The process is similar to a regular validator. You just need to define an awaitable handler using the
        <Code>AsyncValidator</Code> parameter.
    </DocsPageSectionHeader>
    <DocsPageSectionContent Outlined FullWidth>
        <AsyncValidationExample />
    </DocsPageSectionContent>
    <DocsPageSectionSource Code="AsyncValidationExample" />
</DocsPageSection>

<DocsPageSection>
    <DocsPageSectionHeader Title="Manual validation">
        Sometimes you don't want to validate on every input change. In that case, use the <Code Tag>Validations</Code> component
        to group multiple validations and then run validation manually.
        <br />
        <br />
        In this example, the <Code Tag>Validations</Code> component encloses multiple validation components and the
        <Code>Mode</Code> attribute is set to <Code>Manual</Code>. Validation is executed only when you click the submit button.
    </DocsPageSectionHeader>
    <DocsPageSectionContent Outlined FullWidth>
        <ManualValidationExample />
    </DocsPageSectionContent>
    <DocsPageSectionSource Code="ManualValidationExample" />
</DocsPageSection>

<DocsPageSubtitle>
    Localization
</DocsPageSubtitle>

<DocsPageParagraph>
    If you want to localize your validation messages, Blazorise provides an API and the required information needed for localization.
    This is done through the <Code>MessageLocalizer</Code> API. Before you use it, here's a quick breakdown of how it works.
</DocsPageParagraph>

<DocsPageParagraph>
    A <Code>MessageLocalizer</Code> is straightforward. It accepts two parameters and returns a string. Its signature is:
    <Code>string Localize(string message, IEnumerable&lt;string&gt; arguments)</Code>.
</DocsPageParagraph>

<DocsPageParagraph>
    Where:
</DocsPageParagraph>

<UnorderedList>
    <UnorderedListItem>
        <Code>format</Code> raw validation message (format string)
    </UnorderedListItem>
    <UnorderedListItem>
        <Code>arguments</Code> values used to populate the message
    </UnorderedListItem>
</UnorderedList>

<DocsPageParagraph>
    Now that you know what the API consists of, let's talk about the values it provides. The most important is the
    <Code>message</Code> parameter. Each message value is represented as a raw message in the form, before it is formatted.
</DocsPageParagraph>

<DocsPageParagraph>
    For example, if you have a <Code>[Required]</Code> attribute set on your model field, this message will be
    <Code>"The {0} field is required."</Code>, and the <Code>arguments</Code> will contain the values needed to populate
    the placeholders inside of the message.
</DocsPageParagraph>

<DocsPageSection>
    <DocsPageSectionHeader Title="Example">
        For the basic example we're going to use <Code>MessageLocalizer</Code> directly on a <Code>Validation</Code> component.
    </DocsPageSectionHeader>
    <DocsPageSectionSource Code="LocalizationValidationExample" />
</DocsPageSection>

<DocsPageSection>
    <DocsPageSectionHeader Title="Global Options">
        Setting the <Code>MessageLocalizer</Code> on each <Code>Validation</Code> is a good approach if you want
        per-component control. But a more practical way is to define it globally. If you remember
        from the Start Guide, we already have <Code>Validation</Code> defined in our application startup, so we just need
        to modify it a little.
    </DocsPageSectionHeader>
    <DocsPageSectionSource Code="GlobalLocalizationExample" />
</DocsPageSection>

<DocsPageSection>
    <DocsPageSectionHeader Title="Validation summary">
        <Paragraph>
            Sometimes you don't want to show error messages under each field. In those situations you can
            use the <Code>ValidationSummary</Code> component. Once placed inside of Validations it will show
            all error messages as a bullet list.
        </Paragraph>
        <Paragraph>
            <Strong>Note:</Strong> The <Code>ValidationSummary</Code> component name conflicts with the
            built-in <Code>Microsoft.AspNetCore.Components.Forms.ValidationSummary</Code> from Blazor.
            If you are using both in the same project, reference Blazorise's version explicitly as
            <Code Tag>Blazorise.ValidationSummary</Code>.
        </Paragraph>
    </DocsPageSectionHeader>
    <DocsPageSectionSource Code="ValidationSummaryExample" />
</DocsPageSection>

<DocsPageSection>
    <DocsPageSectionHeader Title="Auto Validation">
        By default, the form is auto-validated on page load. To validate only after the user starts entering fields,
        set <Code>ValidateOnLoad</Code> to false.
    </DocsPageSectionHeader>
    <DocsPageSectionContent Outlined FullWidth>
        <AutoValidationExample />
    </DocsPageSectionContent>
    <DocsPageSectionSource Code="AutoValidationExample" />
</DocsPageSection>

<DocsPageSection>
    <DocsPageSectionHeader Title="Validation rules">
        Blazorise includes some predefined validation rules, e.g.:
    </DocsPageSectionHeader>
    <DocsPageSectionContent Outlined FullWidth>
        <ValidationRulesExample />
    </DocsPageSectionContent>
    <DocsPageSectionSource Code="ValidationRulesExample" />
</DocsPageSection>

<DocsPageSection>
    <DocsPageSectionHeader Title="IValidatableObject">
        This example demonstrates how to implement validation in a Blazor component using the <Code>IValidatableObject</Code> interface for custom logic. The form contains several fields bound to a CompanyInfo model, which is validated automatically using data annotations and custom validation logic.
    </DocsPageSectionHeader>
    <DocsPageSectionContent Outlined FullWidth>
        <ValidationIValidatableObjectExample />
    </DocsPageSectionContent>
    <DocsPageSectionSource Code="ValidationIValidatableObjectExample" />
</DocsPageSection>

<DocsPageParagraph>
    List of the currently available validators.
</DocsPageParagraph>

<DocsMethods ShowReturnType="false" ShowParameters="false">
    <DocsMethodsItem Name="IsEmpty">
        Check if the string is null or empty.
    </DocsMethodsItem>
    <DocsMethodsItem Name="IsNotEmpty">
        Check if the string is not null or empty.
    </DocsMethodsItem>
    <DocsMethodsItem Name="IsEmail">
        Check if the string is an email.
    </DocsMethodsItem>
    <DocsMethodsItem Name="IsAlpha">
        Check if the string contains only letters (a-zA-Z).
    </DocsMethodsItem>
    <DocsMethodsItem Name="IsAlphanumeric">
        Check if the string contains only letters and numbers.
    </DocsMethodsItem>
    <DocsMethodsItem Name="IsAlphanumericWithUnderscore">
        Check if the string contains only letters, numbers and underscore.
    </DocsMethodsItem>
    <DocsMethodsItem Name="IsUppercase">
        Check if the string is uppercase.
    </DocsMethodsItem>
    <DocsMethodsItem Name="IsLowercase">
        Check if the string is lowercase.
    </DocsMethodsItem>
    <DocsMethodsItem Name="IsChecked">
        Checks if the boolean based input is checked.
    </DocsMethodsItem>
    <DocsMethodsItem Name="IsSelected">
        Checks if the selection based input has a valid value selected. Valid values are anything except for <Code>null</Code>, <Code>string.Empty</Code>, or <Code>0</Code>.
    </DocsMethodsItem>
    <DocsMethodsItem Name="IsFileSelected">
        Checks if the file is selected.
    </DocsMethodsItem>
</DocsMethods>

<ComponentApiDocs ComponentTypes="[typeof(Validations),typeof(Validation),typeof(ValidationError)]" />